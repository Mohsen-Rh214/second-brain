(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},bl={},Tp={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),Ay=Symbol.for("react.portal"),Cy=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),My=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),zy=Symbol.for("react.lazy"),Pf=Symbol.iterator;function Fy(e){return e===null||typeof e!="object"?null:(e=Pf&&e[Pf]||e["@@iterator"],typeof e=="function"?e:null)}var Op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ap=Object.assign,Cp={};function ci(e,n,r){this.props=e,this.context=n,this.refs=Cp,this.updater=r||Op}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ip(){}Ip.prototype=ci.prototype;function uc(e,n,r){this.props=e,this.context=n,this.refs=Cp,this.updater=r||Op}var cc=uc.prototype=new Ip;cc.constructor=uc;Ap(cc,ci.prototype);cc.isPureReactComponent=!0;var Df=Array.isArray,Pp=Object.prototype.hasOwnProperty,fc={current:null},Dp={key:!0,ref:!0,__self:!0,__source:!0};function Mp(e,n,r){var i,o={},a=null,l=null;if(n!=null)for(i in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(a=""+n.key),n)Pp.call(n,i)&&!Dp.hasOwnProperty(i)&&(o[i]=n[i]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var u=Array(s),f=0;f<s;f++)u[f]=arguments[f+2];o.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return{$$typeof:Io,type:e,key:a,ref:l,props:o,_owner:fc.current}}function By(e,n){return{$$typeof:Io,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function dc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Io}function Uy(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var Mf=/\/+/g;function es(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Uy(""+e.key):n.toString(36)}function ma(e,n,r,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Io:case Ay:l=!0}}if(l)return l=e,o=o(l),e=i===""?"."+es(l,0):i,Df(o)?(r="",e!=null&&(r=e.replace(Mf,"$&/")+"/"),ma(o,n,r,"",function(f){return f})):o!=null&&(dc(o)&&(o=By(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Mf,"$&/")+"/")+e)),n.push(o)),1;if(l=0,i=i===""?".":i+":",Df(e))for(var s=0;s<e.length;s++){a=e[s];var u=i+es(a,s);l+=ma(a,n,r,u,o)}else if(u=Fy(e),typeof u=="function")for(e=u.call(e),s=0;!(a=e.next()).done;)a=a.value,u=i+es(a,s++),l+=ma(a,n,r,u,o);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function qo(e,n,r){if(e==null)return e;var i=[],o=0;return ma(e,i,"","",function(a){return n.call(r,a,o++)}),i}function qy(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},va={transition:null},Hy={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:va,ReactCurrentOwner:fc};function Rp(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:qo,forEach:function(e,n,r){qo(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return qo(e,function(){n++}),n},toArray:function(e){return qo(e,function(n){return n})||[]},only:function(e){if(!dc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ci;ve.Fragment=Cy;ve.Profiler=Py;ve.PureComponent=uc;ve.StrictMode=Iy;ve.Suspense=Ly;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hy;ve.act=Rp;ve.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ap({},e.props),o=e.key,a=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,l=fc.current),n.key!==void 0&&(o=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in n)Pp.call(n,u)&&!Dp.hasOwnProperty(u)&&(i[u]=n[u]===void 0&&s!==void 0?s[u]:n[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){s=Array(u);for(var f=0;f<u;f++)s[f]=arguments[f+2];i.children=s}return{$$typeof:Io,type:e.type,key:o,ref:a,props:i,_owner:l}};ve.createContext=function(e){return e={$$typeof:My,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dy,_context:e},e.Consumer=e};ve.createElement=Mp;ve.createFactory=function(e){var n=Mp.bind(null,e);return n.type=e,n};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Ry,render:e}};ve.isValidElement=dc;ve.lazy=function(e){return{$$typeof:zy,_payload:{_status:-1,_result:e},_init:qy}};ve.memo=function(e,n){return{$$typeof:$y,type:e,compare:n===void 0?null:n}};ve.startTransition=function(e){var n=va.transition;va.transition={};try{e()}finally{va.transition=n}};ve.unstable_act=Rp;ve.useCallback=function(e,n){return ot.current.useCallback(e,n)};ve.useContext=function(e){return ot.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ve.useEffect=function(e,n){return ot.current.useEffect(e,n)};ve.useId=function(){return ot.current.useId()};ve.useImperativeHandle=function(e,n,r){return ot.current.useImperativeHandle(e,n,r)};ve.useInsertionEffect=function(e,n){return ot.current.useInsertionEffect(e,n)};ve.useLayoutEffect=function(e,n){return ot.current.useLayoutEffect(e,n)};ve.useMemo=function(e,n){return ot.current.useMemo(e,n)};ve.useReducer=function(e,n,r){return ot.current.useReducer(e,n,r)};ve.useRef=function(e){return ot.current.useRef(e)};ve.useState=function(e){return ot.current.useState(e)};ve.useSyncExternalStore=function(e,n,r){return ot.current.useSyncExternalStore(e,n,r)};ve.useTransition=function(){return ot.current.useTransition()};ve.version="18.3.1";Tp.exports=ve;var W=Tp.exports;const pe=sc(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=W,Wy=Symbol.for("react.element"),Gy=Symbol.for("react.fragment"),Ky=Object.prototype.hasOwnProperty,Yy=Vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qy={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,n,r){var i,o={},a=null,l=null;r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(l=n.ref);for(i in n)Ky.call(n,i)&&!Qy.hasOwnProperty(i)&&(o[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)o[i]===void 0&&(o[i]=n[i]);return{$$typeof:Wy,type:e,key:a,ref:l,props:o,_owner:Yy.current}}bl.Fragment=Gy;bl.jsx=Lp;bl.jsxs=Lp;Sp.exports=bl;var h=Sp.exports,Us={},$p={exports:{}},Et={},zp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(H,D){var M=H.length;H.push(D);e:for(;0<M;){var I=M-1>>>1,F=H[I];if(0<o(F,D))H[I]=D,H[M]=F,M=I;else break e}}function r(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var D=H[0],M=H.pop();if(M!==D){H[0]=M;e:for(var I=0,F=H.length,L=F>>>1;I<L;){var V=2*(I+1)-1,U=H[V],$=V+1,q=H[$];if(0>o(U,M))$<F&&0>o(q,U)?(H[I]=q,H[$]=M,I=$):(H[I]=U,H[V]=M,I=V);else if($<F&&0>o(q,M))H[I]=q,H[$]=M,I=$;else break e}}return D}function o(H,D){var M=H.sortIndex-D.sortIndex;return M!==0?M:H.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var u=[],f=[],p=1,c=null,d=3,g=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var D=r(f);D!==null;){if(D.callback===null)i(f);else if(D.startTime<=H)i(f),D.sortIndex=D.expirationTime,n(u,D);else break;D=r(f)}}function y(H){if(w=!1,x(H),!b)if(r(u)!==null)b=!0,B(k);else{var D=r(f);D!==null&&z(y,D.startTime-H)}}function k(H,D){b=!1,w&&(w=!1,m(E),E=-1),g=!0;var M=d;try{for(x(D),c=r(u);c!==null&&(!(c.expirationTime>D)||H&&!T());){var I=c.callback;if(typeof I=="function"){c.callback=null,d=c.priorityLevel;var F=I(c.expirationTime<=D);D=e.unstable_now(),typeof F=="function"?c.callback=F:c===r(u)&&i(u),x(D)}else i(u);c=r(u)}if(c!==null)var L=!0;else{var V=r(f);V!==null&&z(y,V.startTime-D),L=!1}return L}finally{c=null,d=M,g=!1}}var N=!1,j=null,E=-1,C=5,S=-1;function T(){return!(e.unstable_now()-S<C)}function O(){if(j!==null){var H=e.unstable_now();S=H;var D=!0;try{D=j(!0,H)}finally{D?P():(N=!1,j=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,R=A.port2;A.port1.onmessage=O,P=function(){R.postMessage(null)}}else P=function(){_(O,0)};function B(H){j=H,N||(N=!0,P())}function z(H,D){E=_(function(){H(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,B(k))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(H){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var M=d;d=D;try{return H()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,D){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var M=d;d=H;try{return D()}finally{d=M}},e.unstable_scheduleCallback=function(H,D,M){var I=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,H={id:p++,callback:D,priorityLevel:H,startTime:M,expirationTime:F,sortIndex:-1},M>I?(H.sortIndex=M,n(f,H),r(u)===null&&H===r(f)&&(w?(m(E),E=-1):w=!0,z(y,M-I))):(H.sortIndex=F,n(u,H),b||g||(b=!0,B(k))),H},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(H){var D=d;return function(){var M=d;d=D;try{return H.apply(this,arguments)}finally{d=M}}}})(Fp);zp.exports=Fp;var Zy=zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=W,jt=Zy;function ie(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,ao={};function Sr(e,n){Jr(e,n),Jr(e+"Capture",n)}function Jr(e,n){for(ao[e]=n,e=0;e<n.length;e++)Bp.add(n[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=Object.prototype.hasOwnProperty,Jy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rf={},Lf={};function e0(e){return qs.call(Lf,e)?!0:qs.call(Rf,e)?!1:Jy.test(e)?Lf[e]=!0:(Rf[e]=!0,!1)}function t0(e,n,r,i){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n0(e,n,r,i){if(n===null||typeof n>"u"||t0(e,n,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function at(e,n,r,i,o,a,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ke[n]=new at(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var hc=/[\-:]([a-z])/g;function pc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(hc,pc);Ke[n]=new at(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(hc,pc);Ke[n]=new at(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(hc,pc);Ke[n]=new at(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function gc(e,n,r,i){var o=Ke.hasOwnProperty(n)?Ke[n]:null;(o!==null?o.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n0(n,r,o,i)&&(r=null),i||o===null?e0(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(n=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(n):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,n,r):e.setAttribute(n,r))))}var An=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Hs=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),qp=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),Vs=Symbol.for("react.suspense"),Ws=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Hp=Symbol.for("react.offscreen"),$f=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=$f&&e[$f]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,ts;function Fi(e){if(ts===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||""}return`
`+ts+e}var ns=!1;function rs(e,n){if(!e||ns)return"";ns=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var i=f}Reflect.construct(e,[],n)}else{try{n.call()}catch(f){i=f}e.call(n.prototype)}else{try{throw Error()}catch(f){i=f}e()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),a=i.stack.split(`
`),l=o.length-1,s=a.length-1;1<=l&&0<=s&&o[l]!==a[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==a[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==a[s]){var u=`
`+o[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=s);break}}}finally{ns=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fi(e):""}function r0(e){switch(e.tag){case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 2:case 15:return e=rs(e.type,!1),e;case 11:return e=rs(e.type.render,!1),e;case 1:return e=rs(e.type,!0),e;default:return""}}function Gs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Pr:return"Portal";case Hs:return"Profiler";case mc:return"StrictMode";case Vs:return"Suspense";case Ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case vc:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yc:return n=e.displayName||null,n!==null?n:Gs(e.type)||"Memo";case Ln:n=e._payload,e=e._init;try{return Gs(e(n))}catch{}}return null}function i0(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gs(n);case 8:return n===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function o0(e){var n=Vp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vo(e){e._valueTracker||(e._valueTracker=o0(e))}function Wp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=Vp(e)?e.checked?"true":"false":e.value),e=i,e!==r?(n.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ks(e,n){var r=n.checked;return Re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zf(e,n){var r=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;r=er(n.value!=null?n.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Gp(e,n){n=n.checked,n!=null&&gc(e,"checked",n,!1)}function Ys(e,n){Gp(e,n);var r=er(n.value),i=n.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qs(e,n.type,r):n.hasOwnProperty("defaultValue")&&Qs(e,n.type,er(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ff(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qs(e,n,r){(n!=="number"||Pa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bi=Array.isArray;function Vr(e,n,r,i){if(e=e.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=n.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+er(r),n=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function Zs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bf(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(ie(92));if(Bi(r)){if(1<r.length)throw Error(ie(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:er(r)}}function Kp(e,n){var r=er(n.value),i=er(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Uf(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xs(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Yp(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(n,r,i,o)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function lo(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){a0.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ki[n]=Ki[e]})});function Zp(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+n).trim():n+"px"}function Xp(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=Zp(r,n[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var l0=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(e,n){if(n){if(l0[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ie(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ie(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ie(62))}}function eu(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nu=null,Wr=null,Gr=null;function qf(e){if(e=Mo(e)){if(typeof nu!="function")throw Error(ie(280));var n=e.stateNode;n&&(n=Nl(n),nu(e.stateNode,e.type,n))}}function Jp(e){Wr?Gr?Gr.push(e):Gr=[e]:Wr=e}function eg(){if(Wr){var e=Wr,n=Gr;if(Gr=Wr=null,qf(e),n)for(e=0;e<n.length;e++)qf(n[e])}}function tg(e,n){return e(n)}function ng(){}var is=!1;function rg(e,n,r){if(is)return e(n,r);is=!0;try{return tg(e,n,r)}finally{is=!1,(Wr!==null||Gr!==null)&&(ng(),eg())}}function so(e,n){var r=e.stateNode;if(r===null)return null;var i=Nl(r);if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ie(231,n,typeof r));return r}var ru=!1;if(Nn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){ru=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{ru=!1}function s0(e,n,r,i,o,a,l,s,u){var f=Array.prototype.slice.call(arguments,3);try{n.apply(r,f)}catch(p){this.onError(p)}}var Yi=!1,Da=null,Ma=!1,iu=null,u0={onError:function(e){Yi=!0,Da=e}};function c0(e,n,r,i,o,a,l,s,u){Yi=!1,Da=null,s0.apply(u0,arguments)}function f0(e,n,r,i,o,a,l,s,u){if(c0.apply(this,arguments),Yi){if(Yi){var f=Da;Yi=!1,Da=null}else throw Error(ie(198));Ma||(Ma=!0,iu=f)}}function Tr(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function ig(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Hf(e){if(Tr(e)!==e)throw Error(ie(188))}function d0(e){var n=e.alternate;if(!n){if(n=Tr(e),n===null)throw Error(ie(188));return n!==e?null:e}for(var r=e,i=n;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Hf(o),e;if(a===i)return Hf(o),n;a=a.sibling}throw Error(ie(188))}if(r.return!==i.return)r=o,i=a;else{for(var l=!1,s=o.child;s;){if(s===r){l=!0,r=o,i=a;break}if(s===i){l=!0,i=o,r=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===r){l=!0,r=a,i=o;break}if(s===i){l=!0,i=a,r=o;break}s=s.sibling}if(!l)throw Error(ie(189))}}if(r.alternate!==i)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?e:n}function og(e){return e=d0(e),e!==null?ag(e):null}function ag(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ag(e);if(n!==null)return n;e=e.sibling}return null}var lg=jt.unstable_scheduleCallback,Vf=jt.unstable_cancelCallback,h0=jt.unstable_shouldYield,p0=jt.unstable_requestPaint,$e=jt.unstable_now,g0=jt.unstable_getCurrentPriorityLevel,bc=jt.unstable_ImmediatePriority,sg=jt.unstable_UserBlockingPriority,Ra=jt.unstable_NormalPriority,m0=jt.unstable_LowPriority,ug=jt.unstable_IdlePriority,_l=null,ln=null;function v0(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:b0,y0=Math.log,x0=Math.LN2;function b0(e){return e>>>=0,e===0?32:31-(y0(e)/x0|0)|0}var Go=64,Ko=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var s=l&~o;s!==0?i=Ui(s):(a&=l,a!==0&&(i=Ui(a)))}else l=r&~o,l!==0?i=Ui(l):a!==0&&(i=Ui(a));if(i===0)return 0;if(n!==0&&n!==i&&!(n&o)&&(o=i&-i,a=n&-n,o>=a||o===16&&(a&4194240)!==0))return n;if(i&4&&(i|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)r=31-Kt(n),o=1<<r,i|=e[r],n&=~o;return i}function _0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Kt(a),s=1<<l,u=o[l];u===-1?(!(s&r)||s&i)&&(o[l]=_0(s,n)):u<=n&&(e.expiredLanes|=s),a&=~s}}function ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cg(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function os(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Po(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Kt(n),e[n]=r}function k0(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Kt(r),a=1<<o;n[o]=0,i[o]=-1,e[o]=-1,r&=~a}}function _c(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-Kt(r),o=1<<i;o&n|e[i]&n&&(e[i]|=n),r&=~o}}var we=0;function fg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dg,wc,hg,pg,gg,au=!1,Yo=[],Vn=null,Wn=null,Gn=null,uo=new Map,co=new Map,Fn=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ji(e,n,r,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},n!==null&&(n=Mo(n),n!==null&&wc(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function N0(e,n,r,i,o){switch(n){case"focusin":return Vn=ji(Vn,e,n,r,i,o),!0;case"dragenter":return Wn=ji(Wn,e,n,r,i,o),!0;case"mouseover":return Gn=ji(Gn,e,n,r,i,o),!0;case"pointerover":var a=o.pointerId;return uo.set(a,ji(uo.get(a)||null,e,n,r,i,o)),!0;case"gotpointercapture":return a=o.pointerId,co.set(a,ji(co.get(a)||null,e,n,r,i,o)),!0}return!1}function mg(e){var n=fr(e.target);if(n!==null){var r=Tr(n);if(r!==null){if(n=r.tag,n===13){if(n=ig(r),n!==null){e.blockedOn=n,gg(e.priority,function(){hg(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=lu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);tu=i,r.target.dispatchEvent(i),tu=null}else return n=Mo(r),n!==null&&wc(n),e.blockedOn=r,!1;n.shift()}return!0}function Gf(e,n,r){ya(e)&&r.delete(n)}function E0(){au=!1,Vn!==null&&ya(Vn)&&(Vn=null),Wn!==null&&ya(Wn)&&(Wn=null),Gn!==null&&ya(Gn)&&(Gn=null),uo.forEach(Gf),co.forEach(Gf)}function Ni(e,n){e.blockedOn===n&&(e.blockedOn=null,au||(au=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,E0)))}function fo(e){function n(o){return Ni(o,e)}if(0<Yo.length){Ni(Yo[0],e);for(var r=1;r<Yo.length;r++){var i=Yo[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Vn!==null&&Ni(Vn,e),Wn!==null&&Ni(Wn,e),Gn!==null&&Ni(Gn,e),uo.forEach(n),co.forEach(n),r=0;r<Fn.length;r++)i=Fn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Fn.length&&(r=Fn[0],r.blockedOn===null);)mg(r),r.blockedOn===null&&Fn.shift()}var Kr=An.ReactCurrentBatchConfig,$a=!0;function S0(e,n,r,i){var o=we,a=Kr.transition;Kr.transition=null;try{we=1,kc(e,n,r,i)}finally{we=o,Kr.transition=a}}function T0(e,n,r,i){var o=we,a=Kr.transition;Kr.transition=null;try{we=4,kc(e,n,r,i)}finally{we=o,Kr.transition=a}}function kc(e,n,r,i){if($a){var o=lu(e,n,r,i);if(o===null)gs(e,n,i,za,r),Wf(e,i);else if(N0(o,e,n,r,i))i.stopPropagation();else if(Wf(e,i),n&4&&-1<j0.indexOf(e)){for(;o!==null;){var a=Mo(o);if(a!==null&&dg(a),a=lu(e,n,r,i),a===null&&gs(e,n,i,za,r),a===o)break;o=a}o!==null&&i.stopPropagation()}else gs(e,n,i,null,r)}}var za=null;function lu(e,n,r,i){if(za=null,e=xc(i),e=fr(e),e!==null)if(n=Tr(e),n===null)e=null;else if(r=n.tag,r===13){if(e=ig(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return za=e,null}function vg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case bc:return 1;case sg:return 4;case Ra:case m0:return 16;case ug:return 536870912;default:return 16}default:return 16}}var Un=null,jc=null,xa=null;function yg(){if(xa)return xa;var e,n=jc,r=n.length,i,o="value"in Un?Un.value:Un.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(i=1;i<=l&&n[r-i]===o[a-i];i++);return xa=o.slice(e,1<i?1-i:void 0)}function ba(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function Kf(){return!1}function St(e){function n(r,i,o,a,l){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qo:Kf,this.isPropagationStopped=Kf,this}return Re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),n}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=St(fi),Do=Re({},fi,{view:0,detail:0}),O0=St(Do),as,ls,Ei,wl=Re({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(as=e.screenX-Ei.screenX,ls=e.screenY-Ei.screenY):ls=as=0,Ei=e),as)},movementY:function(e){return"movementY"in e?e.movementY:ls}}),Yf=St(wl),A0=Re({},wl,{dataTransfer:0}),C0=St(A0),I0=Re({},Do,{relatedTarget:0}),ss=St(I0),P0=Re({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=St(P0),M0=Re({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R0=St(M0),L0=Re({},fi,{data:0}),Qf=St(L0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=F0[e])?!!n[e]:!1}function Ec(){return B0}var U0=Re({},Do,{key:function(e){if(e.key){var n=$0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q0=St(U0),H0=Re({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=St(H0),V0=Re({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),W0=St(V0),G0=Re({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=St(G0),Y0=Re({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=St(Y0),Z0=[9,13,27,32],Sc=Nn&&"CompositionEvent"in window,Qi=null;Nn&&"documentMode"in document&&(Qi=document.documentMode);var X0=Nn&&"TextEvent"in window&&!Qi,xg=Nn&&(!Sc||Qi&&8<Qi&&11>=Qi),Xf=" ",Jf=!1;function bg(e,n){switch(e){case"keyup":return Z0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _g(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function J0(e,n){switch(e){case"compositionend":return _g(n);case"keypress":return n.which!==32?null:(Jf=!0,Xf);case"textInput":return e=n.data,e===Xf&&Jf?null:e;default:return null}}function e1(e,n){if(Mr)return e==="compositionend"||!Sc&&bg(e,n)?(e=yg(),xa=jc=Un=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xg&&n.locale!=="ko"?null:n.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!t1[e.type]:n==="textarea"}function wg(e,n,r,i){Jp(i),n=Fa(n,"onChange"),0<n.length&&(r=new Nc("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var Zi=null,ho=null;function n1(e){Pg(e,0)}function kl(e){var n=$r(e);if(Wp(n))return e}function r1(e,n){if(e==="change")return n}var kg=!1;if(Nn){var us;if(Nn){var cs="oninput"in document;if(!cs){var td=document.createElement("div");td.setAttribute("oninput","return;"),cs=typeof td.oninput=="function"}us=cs}else us=!1;kg=us&&(!document.documentMode||9<document.documentMode)}function nd(){Zi&&(Zi.detachEvent("onpropertychange",jg),ho=Zi=null)}function jg(e){if(e.propertyName==="value"&&kl(ho)){var n=[];wg(n,ho,e,xc(e)),rg(n1,n)}}function i1(e,n,r){e==="focusin"?(nd(),Zi=n,ho=r,Zi.attachEvent("onpropertychange",jg)):e==="focusout"&&nd()}function o1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(ho)}function a1(e,n){if(e==="click")return kl(n)}function l1(e,n){if(e==="input"||e==="change")return kl(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Qt=typeof Object.is=="function"?Object.is:s1;function po(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!qs.call(n,o)||!Qt(e[o],n[o]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,n){var r=rd(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=n&&i>=n)return{node:r,offset:n-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rd(r)}}function Ng(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ng(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Eg(){for(var e=window,n=Pa();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Pa(e.document)}return n}function Tc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function u1(e){var n=Eg(),r=e.focusedElem,i=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&Ng(r.ownerDocument.documentElement,r)){if(i!==null&&Tc(r)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=id(r,a);var l=id(r,i);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c1=Nn&&"documentMode"in document&&11>=document.documentMode,Rr=null,su=null,Xi=null,uu=!1;function od(e,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uu||Rr==null||Rr!==Pa(i)||(i=Rr,"selectionStart"in i&&Tc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xi&&po(Xi,i)||(Xi=i,i=Fa(su,"onSelect"),0<i.length&&(n=new Nc("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=Rr)))}function Zo(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Lr={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},fs={},Sg={};Nn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function jl(e){if(fs[e])return fs[e];if(!Lr[e])return e;var n=Lr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sg)return fs[e]=n[r];return e}var Tg=jl("animationend"),Og=jl("animationiteration"),Ag=jl("animationstart"),Cg=jl("transitionend"),Ig=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,n){Ig.set(e,n),Sr(n,[e])}for(var ds=0;ds<ad.length;ds++){var hs=ad[ds],f1=hs.toLowerCase(),d1=hs[0].toUpperCase()+hs.slice(1);rr(f1,"on"+d1)}rr(Tg,"onAnimationEnd");rr(Og,"onAnimationIteration");rr(Ag,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Cg,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function ld(e,n,r){var i=e.type||"unknown-event";e.currentTarget=r,f0(i,n,void 0,e),e.currentTarget=null}function Pg(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var a=void 0;if(n)for(var l=i.length-1;0<=l;l--){var s=i[l],u=s.instance,f=s.currentTarget;if(s=s.listener,u!==a&&o.isPropagationStopped())break e;ld(o,s,f),a=u}else for(l=0;l<i.length;l++){if(s=i[l],u=s.instance,f=s.currentTarget,s=s.listener,u!==a&&o.isPropagationStopped())break e;ld(o,s,f),a=u}}}if(Ma)throw e=iu,Ma=!1,iu=null,e}function Ne(e,n){var r=n[pu];r===void 0&&(r=n[pu]=new Set);var i=e+"__bubble";r.has(i)||(Dg(n,e,2,!1),r.add(i))}function ps(e,n,r){var i=0;n&&(i|=4),Dg(r,e,i,n)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function go(e){if(!e[Xo]){e[Xo]=!0,Bp.forEach(function(r){r!=="selectionchange"&&(h1.has(r)||ps(r,!1,e),ps(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xo]||(n[Xo]=!0,ps("selectionchange",!1,n))}}function Dg(e,n,r,i){switch(vg(n)){case 1:var o=S0;break;case 4:o=T0;break;default:o=kc}r=o.bind(null,n,r,e),o=void 0,!ru||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(n,r,{capture:!0,passive:o}):e.addEventListener(n,r,!0):o!==void 0?e.addEventListener(n,r,{passive:o}):e.addEventListener(n,r,!1)}function gs(e,n,r,i,o){var a=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var s=i.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;l=l.return}for(;s!==null;){if(l=fr(s),l===null)return;if(u=l.tag,u===5||u===6){i=a=l;continue e}s=s.parentNode}}i=i.return}rg(function(){var f=a,p=xc(r),c=[];e:{var d=Ig.get(e);if(d!==void 0){var g=Nc,b=e;switch(e){case"keypress":if(ba(r)===0)break e;case"keydown":case"keyup":g=q0;break;case"focusin":b="focus",g=ss;break;case"focusout":b="blur",g=ss;break;case"beforeblur":case"afterblur":g=ss;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=W0;break;case Tg:case Og:case Ag:g=D0;break;case Cg:g=K0;break;case"scroll":g=O0;break;case"wheel":g=Q0;break;case"copy":case"cut":case"paste":g=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zf}var w=(n&4)!==0,_=!w&&e==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var v=f,x;v!==null;){x=v;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,m!==null&&(y=so(v,m),y!=null&&w.push(mo(v,y,x)))),_)break;v=v.return}0<w.length&&(d=new g(d,b,null,r,p),c.push({event:d,listeners:w}))}}if(!(n&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&r!==tu&&(b=r.relatedTarget||r.fromElement)&&(fr(b)||b[En]))break e;if((g||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=f,b=b?fr(b):null,b!==null&&(_=Tr(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=f),g!==b)){if(w=Yf,y="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Zf,y="onPointerLeave",m="onPointerEnter",v="pointer"),_=g==null?d:$r(g),x=b==null?d:$r(b),d=new w(y,v+"leave",g,r,p),d.target=_,d.relatedTarget=x,y=null,fr(p)===f&&(w=new w(m,v+"enter",b,r,p),w.target=x,w.relatedTarget=_,y=w),_=y,g&&b)t:{for(w=g,m=b,v=0,x=w;x;x=Ar(x))v++;for(x=0,y=m;y;y=Ar(y))x++;for(;0<v-x;)w=Ar(w),v--;for(;0<x-v;)m=Ar(m),x--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=Ar(w),m=Ar(m)}w=null}else w=null;g!==null&&sd(c,d,g,w,!1),b!==null&&_!==null&&sd(c,_,b,w,!0)}}e:{if(d=f?$r(f):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=r1;else if(ed(d))if(kg)k=l1;else{k=o1;var N=i1}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=a1);if(k&&(k=k(e,f))){wg(c,k,r,p);break e}N&&N(e,d,f),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Qs(d,"number",d.value)}switch(N=f?$r(f):window,e){case"focusin":(ed(N)||N.contentEditable==="true")&&(Rr=N,su=f,Xi=null);break;case"focusout":Xi=su=Rr=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,od(c,r,p);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":od(c,r,p)}var j;if(Sc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mr?bg(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(xg&&r.locale!=="ko"&&(Mr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Mr&&(j=yg()):(Un=p,jc="value"in Un?Un.value:Un.textContent,Mr=!0)),N=Fa(f,E),0<N.length&&(E=new Qf(E,e,null,r,p),c.push({event:E,listeners:N}),j?E.data=j:(j=_g(r),j!==null&&(E.data=j)))),(j=X0?J0(e,r):e1(e,r))&&(f=Fa(f,"onBeforeInput"),0<f.length&&(p=new Qf("onBeforeInput","beforeinput",null,r,p),c.push({event:p,listeners:f}),p.data=j))}Pg(c,n)})}function mo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Fa(e,n){for(var r=n+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=so(e,r),a!=null&&i.unshift(mo(e,a,o)),a=so(e,n),a!=null&&i.push(mo(e,a,o))),e=e.return}return i}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sd(e,n,r,i,o){for(var a=n._reactName,l=[];r!==null&&r!==i;){var s=r,u=s.alternate,f=s.stateNode;if(u!==null&&u===i)break;s.tag===5&&f!==null&&(s=f,o?(u=so(r,a),u!=null&&l.unshift(mo(r,u,s))):o||(u=so(r,a),u!=null&&l.push(mo(r,u,s)))),r=r.return}l.length!==0&&e.push({event:n,listeners:l})}var p1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function ud(e){return(typeof e=="string"?e:""+e).replace(p1,`
`).replace(g1,"")}function Jo(e,n,r){if(n=ud(n),ud(e)!==n&&r)throw Error(ie(425))}function Ba(){}var cu=null,fu=null;function du(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof cd<"u"?function(e){return cd.resolve(null).then(e).catch(y1)}:hu;function y1(e){setTimeout(function(){throw e})}function ms(e,n){var r=n,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),fo(n);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);fo(n)}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),on="__reactFiber$"+di,vo="__reactProps$"+di,En="__reactContainer$"+di,pu="__reactEvents$"+di,x1="__reactListeners$"+di,b1="__reactHandles$"+di;function fr(e){var n=e[on];if(n)return n;for(var r=e.parentNode;r;){if(n=r[En]||r[on]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=fd(e);e!==null;){if(r=e[on])return r;e=fd(e)}return n}e=r,r=e.parentNode}return null}function Mo(e){return e=e[on]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function Nl(e){return e[vo]||null}var gu=[],zr=-1;function ir(e){return{current:e}}function Te(e){0>zr||(e.current=gu[zr],gu[zr]=null,zr--)}function je(e,n){zr++,gu[zr]=e.current,e.current=n}var tr={},et=ir(tr),dt=ir(!1),br=tr;function ei(e,n){var r=e.type.contextTypes;if(!r)return tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=n[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function ht(e){return e=e.childContextTypes,e!=null}function Ua(){Te(dt),Te(et)}function dd(e,n,r){if(et.current!==tr)throw Error(ie(168));je(et,n),je(dt,r)}function Mg(e,n,r){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in n))throw Error(ie(108,i0(e)||"Unknown",o));return Re({},r,i)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,br=et.current,je(et,e),je(dt,dt.current),!0}function hd(e,n,r){var i=e.stateNode;if(!i)throw Error(ie(169));r?(e=Mg(e,n,br),i.__reactInternalMemoizedMergedChildContext=e,Te(dt),Te(et),je(et,e)):Te(dt),je(dt,r)}var vn=null,El=!1,vs=!1;function Rg(e){vn===null?vn=[e]:vn.push(e)}function _1(e){El=!0,Rg(e)}function or(){if(!vs&&vn!==null){vs=!0;var e=0,n=we;try{var r=vn;for(we=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}vn=null,El=!1}catch(o){throw vn!==null&&(vn=vn.slice(e+1)),lg(bc,or),o}finally{we=n,vs=!1}}return null}var Fr=[],Br=0,Ha=null,Va=0,At=[],Ct=0,_r=null,xn=1,bn="";function lr(e,n){Fr[Br++]=Va,Fr[Br++]=Ha,Ha=e,Va=n}function Lg(e,n,r){At[Ct++]=xn,At[Ct++]=bn,At[Ct++]=_r,_r=e;var i=xn;e=bn;var o=32-Kt(i)-1;i&=~(1<<o),r+=1;var a=32-Kt(n)+o;if(30<a){var l=o-o%5;a=(i&(1<<l)-1).toString(32),i>>=l,o-=l,xn=1<<32-Kt(n)+o|r<<o|i,bn=a+e}else xn=1<<a|r<<o|i,bn=e}function Oc(e){e.return!==null&&(lr(e,1),Lg(e,1,0))}function Ac(e){for(;e===Ha;)Ha=Fr[--Br],Fr[Br]=null,Va=Fr[--Br],Fr[Br]=null;for(;e===_r;)_r=At[--Ct],At[Ct]=null,bn=At[--Ct],At[Ct]=null,xn=At[--Ct],At[Ct]=null}var kt=null,wt=null,Ce=!1,Vt=null;function $g(e,n){var r=Mt(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function pd(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,kt=e,wt=Kn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,kt=e,wt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=_r!==null?{id:xn,overflow:bn}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Mt(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,kt=e,wt=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(Ce){var n=wt;if(n){var r=n;if(!pd(e,n)){if(mu(e))throw Error(ie(418));n=Kn(r.nextSibling);var i=kt;n&&pd(e,n)?$g(i,r):(e.flags=e.flags&-4097|2,Ce=!1,kt=e)}}else{if(mu(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Ce=!1,kt=e}}}function gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function ea(e){if(e!==kt)return!1;if(!Ce)return gd(e),Ce=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!du(e.type,e.memoizedProps)),n&&(n=wt)){if(mu(e))throw zg(),Error(ie(418));for(;n;)$g(e,n),n=Kn(n.nextSibling)}if(gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){wt=Kn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}wt=null}}else wt=kt?Kn(e.stateNode.nextSibling):null;return!0}function zg(){for(var e=wt;e;)e=Kn(e.nextSibling)}function ti(){wt=kt=null,Ce=!1}function Cc(e){Vt===null?Vt=[e]:Vt.push(e)}var w1=An.ReactCurrentBatchConfig;function Si(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var i=r.stateNode}if(!i)throw Error(ie(147,e));var o=i,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(l){var s=o.refs;l===null?delete s[a]:s[a]=l},n._stringRef=a,n)}if(typeof e!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function ta(e,n){throw e=Object.prototype.toString.call(n),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function md(e){var n=e._init;return n(e._payload)}function Fg(e){function n(m,v){if(e){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function r(m,v){if(!e)return null;for(;v!==null;)n(m,v),v=v.sibling;return null}function i(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function o(m,v){return m=Xn(m,v),m.index=0,m.sibling=null,m}function a(m,v,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,v,x,y){return v===null||v.tag!==6?(v=js(x,m.mode,y),v.return=m,v):(v=o(v,x),v.return=m,v)}function u(m,v,x,y){var k=x.type;return k===Dr?p(m,v,x.props.children,y,x.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ln&&md(k)===v.type)?(y=o(v,x.props),y.ref=Si(m,v,x),y.return=m,y):(y=Sa(x.type,x.key,x.props,null,m.mode,y),y.ref=Si(m,v,x),y.return=m,y)}function f(m,v,x,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Ns(x,m.mode,y),v.return=m,v):(v=o(v,x.children||[]),v.return=m,v)}function p(m,v,x,y,k){return v===null||v.tag!==7?(v=vr(x,m.mode,y,k),v.return=m,v):(v=o(v,x),v.return=m,v)}function c(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=js(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:return x=Sa(v.type,v.key,v.props,null,m.mode,x),x.ref=Si(m,null,v),x.return=m,x;case Pr:return v=Ns(v,m.mode,x),v.return=m,v;case Ln:var y=v._init;return c(m,y(v._payload),x)}if(Bi(v)||wi(v))return v=vr(v,m.mode,x,null),v.return=m,v;ta(m,v)}return null}function d(m,v,x,y){var k=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:s(m,v,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:return x.key===k?u(m,v,x,y):null;case Pr:return x.key===k?f(m,v,x,y):null;case Ln:return k=x._init,d(m,v,k(x._payload),y)}if(Bi(x)||wi(x))return k!==null?null:p(m,v,x,y,null);ta(m,x)}return null}function g(m,v,x,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(x)||null,s(v,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:return m=m.get(y.key===null?x:y.key)||null,u(v,m,y,k);case Pr:return m=m.get(y.key===null?x:y.key)||null,f(v,m,y,k);case Ln:var N=y._init;return g(m,v,x,N(y._payload),k)}if(Bi(y)||wi(y))return m=m.get(x)||null,p(v,m,y,k,null);ta(v,y)}return null}function b(m,v,x,y){for(var k=null,N=null,j=v,E=v=0,C=null;j!==null&&E<x.length;E++){j.index>E?(C=j,j=null):C=j.sibling;var S=d(m,j,x[E],y);if(S===null){j===null&&(j=C);break}e&&j&&S.alternate===null&&n(m,j),v=a(S,v,E),N===null?k=S:N.sibling=S,N=S,j=C}if(E===x.length)return r(m,j),Ce&&lr(m,E),k;if(j===null){for(;E<x.length;E++)j=c(m,x[E],y),j!==null&&(v=a(j,v,E),N===null?k=j:N.sibling=j,N=j);return Ce&&lr(m,E),k}for(j=i(m,j);E<x.length;E++)C=g(j,m,E,x[E],y),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?E:C.key),v=a(C,v,E),N===null?k=C:N.sibling=C,N=C);return e&&j.forEach(function(T){return n(m,T)}),Ce&&lr(m,E),k}function w(m,v,x,y){var k=wi(x);if(typeof k!="function")throw Error(ie(150));if(x=k.call(x),x==null)throw Error(ie(151));for(var N=k=null,j=v,E=v=0,C=null,S=x.next();j!==null&&!S.done;E++,S=x.next()){j.index>E?(C=j,j=null):C=j.sibling;var T=d(m,j,S.value,y);if(T===null){j===null&&(j=C);break}e&&j&&T.alternate===null&&n(m,j),v=a(T,v,E),N===null?k=T:N.sibling=T,N=T,j=C}if(S.done)return r(m,j),Ce&&lr(m,E),k;if(j===null){for(;!S.done;E++,S=x.next())S=c(m,S.value,y),S!==null&&(v=a(S,v,E),N===null?k=S:N.sibling=S,N=S);return Ce&&lr(m,E),k}for(j=i(m,j);!S.done;E++,S=x.next())S=g(j,m,E,S.value,y),S!==null&&(e&&S.alternate!==null&&j.delete(S.key===null?E:S.key),v=a(S,v,E),N===null?k=S:N.sibling=S,N=S);return e&&j.forEach(function(O){return n(m,O)}),Ce&&lr(m,E),k}function _(m,v,x,y){if(typeof x=="object"&&x!==null&&x.type===Dr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:e:{for(var k=x.key,N=v;N!==null;){if(N.key===k){if(k=x.type,k===Dr){if(N.tag===7){r(m,N.sibling),v=o(N,x.props.children),v.return=m,m=v;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ln&&md(k)===N.type){r(m,N.sibling),v=o(N,x.props),v.ref=Si(m,N,x),v.return=m,m=v;break e}r(m,N);break}else n(m,N);N=N.sibling}x.type===Dr?(v=vr(x.props.children,m.mode,y,x.key),v.return=m,m=v):(y=Sa(x.type,x.key,x.props,null,m.mode,y),y.ref=Si(m,v,x),y.return=m,m=y)}return l(m);case Pr:e:{for(N=x.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(m,v.sibling),v=o(v,x.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else n(m,v);v=v.sibling}v=Ns(x,m.mode,y),v.return=m,m=v}return l(m);case Ln:return N=x._init,_(m,v,N(x._payload),y)}if(Bi(x))return b(m,v,x,y);if(wi(x))return w(m,v,x,y);ta(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(m,v.sibling),v=o(v,x),v.return=m,m=v):(r(m,v),v=js(x,m.mode,y),v.return=m,m=v),l(m)):r(m,v)}return _}var ni=Fg(!0),Bg=Fg(!1),Wa=ir(null),Ga=null,Ur=null,Ic=null;function Pc(){Ic=Ur=Ga=null}function Dc(e){var n=Wa.current;Te(Wa),e._currentValue=n}function yu(e,n,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function Yr(e,n){Ga=e,Ic=Ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ut=!0),e.firstContext=null)}function $t(e){var n=e._currentValue;if(Ic!==e)if(e={context:e,memoizedValue:n,next:null},Ur===null){if(Ga===null)throw Error(ie(308));Ur=e,Ga.dependencies={lanes:0,firstContext:e}}else Ur=Ur.next=e;return n}var dr=null;function Mc(e){dr===null?dr=[e]:dr.push(e)}function Ug(e,n,r,i){var o=n.interleaved;return o===null?(r.next=r,Mc(n)):(r.next=o.next,o.next=r),n.interleaved=r,Sn(e,i)}function Sn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Yn(e,n,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,xe&2){var o=i.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n,Sn(e,r)}return o=i.interleaved,o===null?(n.next=n,Mc(i)):(n.next=o.next,o.next=n),i.interleaved=n,Sn(e,r)}function _a(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,_c(e,r)}}function vd(e,n){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?o=a=n:a=a.next=n}else o=a=n;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Ka(e,n,r,i){var o=e.updateQueue;$n=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,f=u.next;u.next=null,l===null?a=f:l.next=f,l=u;var p=e.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==l&&(s===null?p.firstBaseUpdate=f:s.next=f,p.lastBaseUpdate=u))}if(a!==null){var c=o.baseState;l=0,p=f=u=null,s=a;do{var d=s.lane,g=s.eventTime;if((i&d)===d){p!==null&&(p=p.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=e,w=s;switch(d=n,g=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){c=b.call(g,c,d);break e}c=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,d=typeof b=="function"?b.call(g,c,d):b,d==null)break e;c=Re({},c,d);break e;case 2:$n=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else g={eventTime:g,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=g,u=c):p=p.next=g,l|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(p===null&&(u=c),o.baseState=u,o.firstBaseUpdate=f,o.lastBaseUpdate=p,n=o.shared.interleaved,n!==null){o=n;do l|=o.lane,o=o.next;while(o!==n)}else a===null&&(o.shared.lanes=0);kr|=l,e.lanes=l,e.memoizedState=c}}function yd(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(ie(191,o));o.call(i)}}}var Ro={},sn=ir(Ro),yo=ir(Ro),xo=ir(Ro);function hr(e){if(e===Ro)throw Error(ie(174));return e}function Lc(e,n){switch(je(xo,n),je(yo,e),je(sn,Ro),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xs(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xs(n,e)}Te(sn),je(sn,n)}function ri(){Te(sn),Te(yo),Te(xo)}function Hg(e){hr(xo.current);var n=hr(sn.current),r=Xs(n,e.type);n!==r&&(je(yo,e),je(sn,r))}function $c(e){yo.current===e&&(Te(sn),Te(yo))}var De=ir(0);function Ya(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ys=[];function zc(){for(var e=0;e<ys.length;e++)ys[e]._workInProgressVersionPrimary=null;ys.length=0}var wa=An.ReactCurrentDispatcher,xs=An.ReactCurrentBatchConfig,wr=0,Me=null,Fe=null,qe=null,Qa=!1,Ji=!1,bo=0,k1=0;function Qe(){throw Error(ie(321))}function Fc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Qt(e[r],n[r]))return!1;return!0}function Bc(e,n,r,i,o,a){if(wr=a,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wa.current=e===null||e.memoizedState===null?S1:T1,e=r(i,o),Ji){a=0;do{if(Ji=!1,bo=0,25<=a)throw Error(ie(301));a+=1,qe=Fe=null,n.updateQueue=null,wa.current=O1,e=r(i,o)}while(Ji)}if(wa.current=Za,n=Fe!==null&&Fe.next!==null,wr=0,qe=Fe=Me=null,Qa=!1,n)throw Error(ie(300));return e}function Uc(){var e=bo!==0;return bo=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Me.memoizedState=qe=e:qe=qe.next=e,qe}function zt(){if(Fe===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=qe===null?Me.memoizedState:qe.next;if(n!==null)qe=n,Fe=e;else{if(e===null)throw Error(ie(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},qe===null?Me.memoizedState=qe=e:qe=qe.next=e}return qe}function _o(e,n){return typeof n=="function"?n(e):n}function bs(e){var n=zt(),r=n.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var i=Fe,o=i.baseQueue,a=r.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}i.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,i=i.baseState;var s=l=null,u=null,f=a;do{var p=f.lane;if((wr&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:e(i,f.action);else{var c={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(s=u=c,l=i):u=u.next=c,Me.lanes|=p,kr|=p}f=f.next}while(f!==null&&f!==a);u===null?l=i:u.next=s,Qt(i,n.memoizedState)||(ut=!0),n.memoizedState=i,n.baseState=l,n.baseQueue=u,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do a=o.lane,Me.lanes|=a,kr|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function _s(e){var n=zt(),r=n.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=n.memoizedState;if(o!==null){r.pending=null;var l=o=o.next;do a=e(a,l.action),l=l.next;while(l!==o);Qt(a,n.memoizedState)||(ut=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),r.lastRenderedState=a}return[a,i]}function Vg(){}function Wg(e,n){var r=Me,i=zt(),o=n(),a=!Qt(i.memoizedState,o);if(a&&(i.memoizedState=o,ut=!0),i=i.queue,qc(Yg.bind(null,r,i,e),[e]),i.getSnapshot!==n||a||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,wo(9,Kg.bind(null,r,i,o,n),void 0,null),Ve===null)throw Error(ie(349));wr&30||Gg(r,n,o)}return o}function Gg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n={lastEffect:null,stores:null},Me.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Kg(e,n,r,i){n.value=r,n.getSnapshot=i,Qg(n)&&Zg(e)}function Yg(e,n,r){return r(function(){Qg(n)&&Zg(e)})}function Qg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Qt(e,r)}catch{return!0}}function Zg(e){var n=Sn(e,1);n!==null&&Yt(n,e,1,-1)}function xd(e){var n=tn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},n.queue=e,e=e.dispatch=E1.bind(null,Me,e),[n.memoizedState,e]}function wo(e,n,r,i){return e={tag:e,create:n,destroy:r,deps:i,next:null},n=Me.updateQueue,n===null?(n={lastEffect:null,stores:null},Me.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e)),e}function Xg(){return zt().memoizedState}function ka(e,n,r,i){var o=tn();Me.flags|=e,o.memoizedState=wo(1|n,r,void 0,i===void 0?null:i)}function Sl(e,n,r,i){var o=zt();i=i===void 0?null:i;var a=void 0;if(Fe!==null){var l=Fe.memoizedState;if(a=l.destroy,i!==null&&Fc(i,l.deps)){o.memoizedState=wo(n,r,a,i);return}}Me.flags|=e,o.memoizedState=wo(1|n,r,a,i)}function bd(e,n){return ka(8390656,8,e,n)}function qc(e,n){return Sl(2048,8,e,n)}function Jg(e,n){return Sl(4,2,e,n)}function em(e,n){return Sl(4,4,e,n)}function tm(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nm(e,n,r){return r=r!=null?r.concat([e]):null,Sl(4,4,tm.bind(null,n,e),r)}function Hc(){}function rm(e,n){var r=zt();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&Fc(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function im(e,n){var r=zt();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&Fc(n,i[1])?i[0]:(e=e(),r.memoizedState=[e,n],e)}function om(e,n,r){return wr&21?(Qt(r,n)||(r=cg(),Me.lanes|=r,kr|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=r)}function j1(e,n){var r=we;we=r!==0&&4>r?r:4,e(!0);var i=xs.transition;xs.transition={};try{e(!1),n()}finally{we=r,xs.transition=i}}function am(){return zt().memoizedState}function N1(e,n,r){var i=Zn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},lm(e))sm(n,r);else if(r=Ug(e,n,r,i),r!==null){var o=it();Yt(r,e,i,o),um(r,n,i)}}function E1(e,n,r){var i=Zn(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(lm(e))sm(n,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var l=n.lastRenderedState,s=a(l,r);if(o.hasEagerState=!0,o.eagerState=s,Qt(s,l)){var u=n.interleaved;u===null?(o.next=o,Mc(n)):(o.next=u.next,u.next=o),n.interleaved=o;return}}catch{}finally{}r=Ug(e,n,o,i),r!==null&&(o=it(),Yt(r,e,i,o),um(r,n,i))}}function lm(e){var n=e.alternate;return e===Me||n!==null&&n===Me}function sm(e,n){Ji=Qa=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function um(e,n,r){if(r&4194240){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,_c(e,r)}}var Za={readContext:$t,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},S1={readContext:$t,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:bd,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,ka(4194308,4,tm.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ka(4194308,4,e,n)},useInsertionEffect:function(e,n){return ka(4,2,e,n)},useMemo:function(e,n){var r=tn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var i=tn();return n=r!==void 0?r(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=N1.bind(null,Me,e),[i.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:xd,useDebugValue:Hc,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=xd(!1),n=e[0];return e=j1.bind(null,e[1]),tn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var i=Me,o=tn();if(Ce){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=n(),Ve===null)throw Error(ie(349));wr&30||Gg(i,n,r)}o.memoizedState=r;var a={value:r,getSnapshot:n};return o.queue=a,bd(Yg.bind(null,i,a,e),[e]),i.flags|=2048,wo(9,Kg.bind(null,i,a,r,n),void 0,null),r},useId:function(){var e=tn(),n=Ve.identifierPrefix;if(Ce){var r=bn,i=xn;r=(i&~(1<<32-Kt(i)-1)).toString(32)+r,n=":"+n+"R"+r,r=bo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=k1++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},T1={readContext:$t,useCallback:rm,useContext:$t,useEffect:qc,useImperativeHandle:nm,useInsertionEffect:Jg,useLayoutEffect:em,useMemo:im,useReducer:bs,useRef:Xg,useState:function(){return bs(_o)},useDebugValue:Hc,useDeferredValue:function(e){var n=zt();return om(n,Fe.memoizedState,e)},useTransition:function(){var e=bs(_o)[0],n=zt().memoizedState;return[e,n]},useMutableSource:Vg,useSyncExternalStore:Wg,useId:am,unstable_isNewReconciler:!1},O1={readContext:$t,useCallback:rm,useContext:$t,useEffect:qc,useImperativeHandle:nm,useInsertionEffect:Jg,useLayoutEffect:em,useMemo:im,useReducer:_s,useRef:Xg,useState:function(){return _s(_o)},useDebugValue:Hc,useDeferredValue:function(e){var n=zt();return Fe===null?n.memoizedState=e:om(n,Fe.memoizedState,e)},useTransition:function(){var e=_s(_o)[0],n=zt().memoizedState;return[e,n]},useMutableSource:Vg,useSyncExternalStore:Wg,useId:am,unstable_isNewReconciler:!1};function qt(e,n){if(e&&e.defaultProps){n=Re({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function xu(e,n,r,i){n=e.memoizedState,r=r(i,n),r=r==null?n:Re({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tl={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var i=it(),o=Zn(e),a=kn(i,o);a.payload=n,r!=null&&(a.callback=r),n=Yn(e,a,o),n!==null&&(Yt(n,e,o,i),_a(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=it(),o=Zn(e),a=kn(i,o);a.tag=1,a.payload=n,r!=null&&(a.callback=r),n=Yn(e,a,o),n!==null&&(Yt(n,e,o,i),_a(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=it(),i=Zn(e),o=kn(r,i);o.tag=2,n!=null&&(o.callback=n),n=Yn(e,o,i),n!==null&&(Yt(n,e,i,r),_a(n,e,i))}};function _d(e,n,r,i,o,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,l):n.prototype&&n.prototype.isPureReactComponent?!po(r,i)||!po(o,a):!0}function cm(e,n,r){var i=!1,o=tr,a=n.contextType;return typeof a=="object"&&a!==null?a=$t(a):(o=ht(n)?br:et.current,i=n.contextTypes,a=(i=i!=null)?ei(e,o):tr),n=new n(r,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Tl,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function wd(e,n,r,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&Tl.enqueueReplaceState(n,n.state,null)}function bu(e,n,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Rc(e);var a=n.contextType;typeof a=="object"&&a!==null?o.context=$t(a):(a=ht(n)?br:et.current,o.context=ei(e,a)),o.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(xu(e,n,a,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Tl.enqueueReplaceState(o,o.state,null),Ka(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,n){try{var r="",i=n;do r+=r0(i),i=i.return;while(i);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:o,digest:null}}function ws(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function _u(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var A1=typeof WeakMap=="function"?WeakMap:Map;function fm(e,n,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var i=n.value;return r.callback=function(){Ja||(Ja=!0,Cu=i),_u(e,n)},r}function dm(e,n,r){r=kn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;r.payload=function(){return i(o)},r.callback=function(){_u(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){_u(e,n),typeof i!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),r}function kd(e,n,r){var i=e.pingCache;if(i===null){i=e.pingCache=new A1;var o=new Set;i.set(n,o)}else o=i.get(n),o===void 0&&(o=new Set,i.set(n,o));o.has(r)||(o.add(r),e=H1.bind(null,e,n,r),n.then(e,e))}function jd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Nd(e,n,r,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=kn(-1,1),n.tag=2,Yn(r,n,1))),r.lanes|=1),e)}var C1=An.ReactCurrentOwner,ut=!1;function nt(e,n,r,i){n.child=e===null?Bg(n,null,r,i):ni(n,e.child,r,i)}function Ed(e,n,r,i,o){r=r.render;var a=n.ref;return Yr(n,o),i=Bc(e,n,r,i,a,o),r=Uc(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Tn(e,n,o)):(Ce&&r&&Oc(n),n.flags|=1,nt(e,n,i,o),n.child)}function Sd(e,n,r,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!Xc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=a,hm(e,n,a,i,o)):(e=Sa(r.type,null,i,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:po,r(l,i)&&e.ref===n.ref)return Tn(e,n,o)}return n.flags|=1,e=Xn(a,i),e.ref=n.ref,e.return=n,n.child=e}function hm(e,n,r,i,o){if(e!==null){var a=e.memoizedProps;if(po(a,i)&&e.ref===n.ref)if(ut=!1,n.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(ut=!0);else return n.lanes=e.lanes,Tn(e,n,o)}return wu(e,n,r,i,o)}function pm(e,n,r){var i=n.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Hr,bt),bt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,je(Hr,bt),bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,je(Hr,bt),bt|=i}else a!==null?(i=a.baseLanes|r,n.memoizedState=null):i=r,je(Hr,bt),bt|=i;return nt(e,n,o,r),n.child}function gm(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function wu(e,n,r,i,o){var a=ht(r)?br:et.current;return a=ei(n,a),Yr(n,o),r=Bc(e,n,r,i,a,o),i=Uc(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Tn(e,n,o)):(Ce&&i&&Oc(n),n.flags|=1,nt(e,n,r,o),n.child)}function Td(e,n,r,i,o){if(ht(r)){var a=!0;qa(n)}else a=!1;if(Yr(n,o),n.stateNode===null)ja(e,n),cm(n,r,i),bu(n,r,i,o),i=!0;else if(e===null){var l=n.stateNode,s=n.memoizedProps;l.props=s;var u=l.context,f=r.contextType;typeof f=="object"&&f!==null?f=$t(f):(f=ht(r)?br:et.current,f=ei(n,f));var p=r.getDerivedStateFromProps,c=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==i||u!==f)&&wd(n,l,i,f),$n=!1;var d=n.memoizedState;l.state=d,Ka(n,i,l,o),u=n.memoizedState,s!==i||d!==u||dt.current||$n?(typeof p=="function"&&(xu(n,r,p,i),u=n.memoizedState),(s=$n||_d(n,r,s,i,d,u,f))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=u),l.props=i,l.state=u,l.context=f,i=s):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{l=n.stateNode,qg(e,n),s=n.memoizedProps,f=n.type===n.elementType?s:qt(n.type,s),l.props=f,c=n.pendingProps,d=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=ht(r)?br:et.current,u=ei(n,u));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==c||d!==u)&&wd(n,l,i,u),$n=!1,d=n.memoizedState,l.state=d,Ka(n,i,l,o);var b=n.memoizedState;s!==c||d!==b||dt.current||$n?(typeof g=="function"&&(xu(n,r,g,i),b=n.memoizedState),(f=$n||_d(n,r,f,i,d,b,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,b,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,b,u)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=b),l.props=i,l.state=b,l.context=u,i=f):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),i=!1)}return ku(e,n,r,i,a,o)}function ku(e,n,r,i,o,a){gm(e,n);var l=(n.flags&128)!==0;if(!i&&!l)return o&&hd(n,r,!1),Tn(e,n,a);i=n.stateNode,C1.current=n;var s=l&&typeof r.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&l?(n.child=ni(n,e.child,null,a),n.child=ni(n,null,s,a)):nt(e,n,s,a),n.memoizedState=i.state,o&&hd(n,r,!0),n.child}function mm(e){var n=e.stateNode;n.pendingContext?dd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&dd(e,n.context,!1),Lc(e,n.containerInfo)}function Od(e,n,r,i,o){return ti(),Cc(o),n.flags|=256,nt(e,n,r,i),n.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,n,r){var i=n.pendingProps,o=De.current,a=!1,l=(n.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),je(De,o&1),e===null)return vu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=i.children,e=i.fallback,a?(i=n.mode,a=n.child,l={mode:"hidden",children:l},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Cl(l,i,0,null),e=vr(e,i,r,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Nu(r),n.memoizedState=ju,e):Vc(n,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return I1(e,n,l,i,s,o,r);if(a){a=i.fallback,l=n.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:i.children};return!(l&1)&&n.child!==o?(i=n.child,i.childLanes=0,i.pendingProps=u,n.deletions=null):(i=Xn(o,u),i.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=Xn(s,a):(a=vr(a,l,r,null),a.flags|=2),a.return=n,i.return=n,i.sibling=a,n.child=i,i=a,a=n.child,l=e.child.memoizedState,l=l===null?Nu(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,n.memoizedState=ju,i}return a=e.child,e=a.sibling,i=Xn(a,{mode:"visible",children:i.children}),!(n.mode&1)&&(i.lanes=r),i.return=n,i.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=i,n.memoizedState=null,i}function Vc(e,n){return n=Cl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function na(e,n,r,i){return i!==null&&Cc(i),ni(n,e.child,null,r),e=Vc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function I1(e,n,r,i,o,a,l){if(r)return n.flags&256?(n.flags&=-257,i=ws(Error(ie(422))),na(e,n,l,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=i.fallback,o=n.mode,i=Cl({mode:"visible",children:i.children},o,0,null),a=vr(a,o,l,null),a.flags|=2,i.return=n,a.return=n,i.sibling=a,n.child=i,n.mode&1&&ni(n,e.child,null,l),n.child.memoizedState=Nu(l),n.memoizedState=ju,a);if(!(n.mode&1))return na(e,n,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var s=i.dgst;return i=s,a=Error(ie(419)),i=ws(a,i,void 0),na(e,n,l,i)}if(s=(l&e.childLanes)!==0,ut||s){if(i=Ve,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Sn(e,o),Yt(i,e,o,-1))}return Zc(),i=ws(Error(ie(421))),na(e,n,l,i)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=V1.bind(null,e),o._reactRetry=n,null):(e=a.treeContext,wt=Kn(o.nextSibling),kt=n,Ce=!0,Vt=null,e!==null&&(At[Ct++]=xn,At[Ct++]=bn,At[Ct++]=_r,xn=e.id,bn=e.overflow,_r=n),n=Vc(n,i.children),n.flags|=4096,n)}function Ad(e,n,r){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),yu(e.return,n,r)}function ks(e,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=o)}function ym(e,n,r){var i=n.pendingProps,o=i.revealOrder,a=i.tail;if(nt(e,n,i.children,r),i=De.current,i&2)i=i&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,r,n);else if(e.tag===19)Ad(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(je(De,i),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(r=n.child,o=null;r!==null;)e=r.alternate,e!==null&&Ya(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),ks(n,!1,o,r,a);break;case"backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Ya(e)===null){n.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}ks(n,!0,r,null,a);break;case"together":ks(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ja(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Tn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ie(153));if(n.child!==null){for(e=n.child,r=Xn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function P1(e,n,r){switch(n.tag){case 3:mm(n),ti();break;case 5:Hg(n);break;case 1:ht(n.type)&&qa(n);break;case 4:Lc(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,o=n.memoizedProps.value;je(Wa,i._currentValue),i._currentValue=o;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(je(De,De.current&1),n.flags|=128,null):r&n.child.childLanes?vm(e,n,r):(je(De,De.current&1),e=Tn(e,n,r),e!==null?e.sibling:null);je(De,De.current&1);break;case 19:if(i=(r&n.childLanes)!==0,e.flags&128){if(i)return ym(e,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),je(De,De.current),i)break;return null;case 22:case 23:return n.lanes=0,pm(e,n,r)}return Tn(e,n,r)}var xm,Eu,bm,_m;xm=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eu=function(){};bm=function(e,n,r,i){var o=e.memoizedProps;if(o!==i){e=n.stateNode,hr(sn.current);var a=null;switch(r){case"input":o=Ks(e,o),i=Ks(e,i),a=[];break;case"select":o=Re({},o,{value:void 0}),i=Re({},i,{value:void 0}),a=[];break;case"textarea":o=Zs(e,o),i=Zs(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ba)}Js(r,i);var l;r=null;for(f in o)if(!i.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var s=o[f];for(l in s)s.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ao.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in i){var u=i[f];if(s=o!=null?o[f]:void 0,i.hasOwnProperty(f)&&u!==s&&(u!=null||s!=null))if(f==="style")if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(a||(a=[]),a.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ao.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Ne("scroll",e),a||s===u||(a=[])):(a=a||[]).push(f,u))}r&&(a=a||[]).push("style",r);var f=a;(n.updateQueue=f)&&(n.flags|=4)}};_m=function(e,n,r,i){r!==i&&(n.flags|=4)};function Ti(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(n)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}function D1(e,n,r){var i=n.pendingProps;switch(Ac(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return ht(n.type)&&Ua(),Ze(n),null;case 3:return i=n.stateNode,ri(),Te(dt),Te(et),zc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ea(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Vt!==null&&(Du(Vt),Vt=null))),Eu(e,n),Ze(n),null;case 5:$c(n);var o=hr(xo.current);if(r=n.type,e!==null&&n.stateNode!=null)bm(e,n,r,i,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(ie(166));return Ze(n),null}if(e=hr(sn.current),ea(n)){i=n.stateNode,r=n.type;var a=n.memoizedProps;switch(i[on]=n,i[vo]=a,e=(n.mode&1)!==0,r){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(o=0;o<qi.length;o++)Ne(qi[o],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":zf(i,a),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",i);break;case"textarea":Bf(i,a),Ne("invalid",i)}Js(r,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var s=a[l];l==="children"?typeof s=="string"?i.textContent!==s&&(a.suppressHydrationWarning!==!0&&Jo(i.textContent,s,e),o=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Jo(i.textContent,s,e),o=["children",""+s]):ao.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Ne("scroll",i)}switch(r){case"input":Vo(i),Ff(i,a,!0);break;case"textarea":Vo(i),Uf(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Ba)}i=o,n.updateQueue=i,i!==null&&(n.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(r,{is:i.is}):(e=l.createElement(r),r==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,r),e[on]=n,e[vo]=i,xm(e,n,!1,!1),n.stateNode=e;e:{switch(l=eu(r,i),r){case"dialog":Ne("cancel",e),Ne("close",e),o=i;break;case"iframe":case"object":case"embed":Ne("load",e),o=i;break;case"video":case"audio":for(o=0;o<qi.length;o++)Ne(qi[o],e);o=i;break;case"source":Ne("error",e),o=i;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),o=i;break;case"details":Ne("toggle",e),o=i;break;case"input":zf(e,i),o=Ks(e,i),Ne("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Re({},i,{value:void 0}),Ne("invalid",e);break;case"textarea":Bf(e,i),o=Zs(e,i),Ne("invalid",e);break;default:o=i}Js(r,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?Xp(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qp(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&lo(e,u):typeof u=="number"&&lo(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ao.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Ne("scroll",e):u!=null&&gc(e,a,u,l))}switch(r){case"input":Vo(e),Ff(e,i,!1);break;case"textarea":Vo(e),Uf(e);break;case"option":i.value!=null&&e.setAttribute("value",""+er(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Vr(e,!!i.multiple,a,!1):i.defaultValue!=null&&Vr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ba)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ze(n),null;case 6:if(e&&n.stateNode!=null)_m(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(ie(166));if(r=hr(xo.current),hr(sn.current),ea(n)){if(i=n.stateNode,r=n.memoizedProps,i[on]=n,(a=i.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Jo(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(i.nodeValue,r,(e.mode&1)!==0)}a&&(n.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[on]=n,n.stateNode=i}return Ze(n),null;case 13:if(Te(De),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&wt!==null&&n.mode&1&&!(n.flags&128))zg(),ti(),n.flags|=98560,a=!1;else if(a=ea(n),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(ie(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ie(317));a[on]=n}else ti(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ze(n),a=!1}else Vt!==null&&(Du(Vt),Vt=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,n.mode&1&&(e===null||De.current&1?Be===0&&(Be=3):Zc())),n.updateQueue!==null&&(n.flags|=4),Ze(n),null);case 4:return ri(),Eu(e,n),e===null&&go(n.stateNode.containerInfo),Ze(n),null;case 10:return Dc(n.type._context),Ze(n),null;case 17:return ht(n.type)&&Ua(),Ze(n),null;case 19:if(Te(De),a=n.memoizedState,a===null)return Ze(n),null;if(i=(n.flags&128)!==0,l=a.rendering,l===null)if(i)Ti(a,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=Ya(e),l!==null){for(n.flags|=128,Ti(a,!1),i=l.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=r,r=n.child;r!==null;)a=r,e=i,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(De,De.current&1|2),n.child}e=e.sibling}a.tail!==null&&$e()>oi&&(n.flags|=128,i=!0,Ti(a,!1),n.lanes=4194304)}else{if(!i)if(e=Ya(l),e!==null){if(n.flags|=128,i=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Ti(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Ce)return Ze(n),null}else 2*$e()-a.renderingStartTime>oi&&r!==1073741824&&(n.flags|=128,i=!0,Ti(a,!1),n.lanes=4194304);a.isBackwards?(l.sibling=n.child,n.child=l):(r=a.last,r!==null?r.sibling=l:n.child=l,a.last=l)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=$e(),n.sibling=null,r=De.current,je(De,i?r&1|2:r&1),n):(Ze(n),null);case 22:case 23:return Qc(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&n.mode&1?bt&1073741824&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),null;case 24:return null;case 25:return null}throw Error(ie(156,n.tag))}function M1(e,n){switch(Ac(n),n.tag){case 1:return ht(n.type)&&Ua(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ri(),Te(dt),Te(et),zc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return $c(n),null;case 13:if(Te(De),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ie(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Te(De),null;case 4:return ri(),null;case 10:return Dc(n.type._context),null;case 22:case 23:return Qc(),null;case 24:return null;default:return null}}var ra=!1,Je=!1,R1=typeof WeakSet=="function"?WeakSet:Set,se=null;function qr(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Le(e,n,i)}else r.current=null}function Su(e,n,r){try{r()}catch(i){Le(e,n,i)}}var Cd=!1;function L1(e,n){if(cu=$a,e=Eg(),Tc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,s=-1,u=-1,f=0,p=0,c=e,d=null;t:for(;;){for(var g;c!==r||o!==0&&c.nodeType!==3||(s=l+o),c!==a||i!==0&&c.nodeType!==3||(u=l+i),c.nodeType===3&&(l+=c.nodeValue.length),(g=c.firstChild)!==null;)d=c,c=g;for(;;){if(c===e)break t;if(d===r&&++f===o&&(s=l),d===a&&++p===i&&(u=l),(g=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=g}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(fu={focusedElem:e,selectionRange:r},$a=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var b=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,_=b.memoizedState,m=n.stateNode,v=m.getSnapshotBeforeUpdate(n.elementType===n.type?w:qt(n.type,w),_);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=n.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(y){Le(n,n.return,y)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return b=Cd,Cd=!1,b}function eo(e,n,r){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Su(n,r,a)}o=o.next}while(o!==i)}}function Ol(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==n)}}function Tu(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function wm(e){var n=e.alternate;n!==null&&(e.alternate=null,wm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[on],delete n[vo],delete n[pu],delete n[x1],delete n[b1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function km(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ba));else if(i!==4&&(e=e.child,e!==null))for(Ou(e,n,r),e=e.sibling;e!==null;)Ou(e,n,r),e=e.sibling}function Au(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Au(e,n,r),e=e.sibling;e!==null;)Au(e,n,r),e=e.sibling}var We=null,Ht=!1;function Pn(e,n,r){for(r=r.child;r!==null;)jm(e,n,r),r=r.sibling}function jm(e,n,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(_l,r)}catch{}switch(r.tag){case 5:Je||qr(r,n);case 6:var i=We,o=Ht;We=null,Pn(e,n,r),We=i,Ht=o,We!==null&&(Ht?(e=We,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(Ht?(e=We,r=r.stateNode,e.nodeType===8?ms(e.parentNode,r):e.nodeType===1&&ms(e,r),fo(e)):ms(We,r.stateNode));break;case 4:i=We,o=Ht,We=r.stateNode.containerInfo,Ht=!0,Pn(e,n,r),We=i,Ht=o;break;case 0:case 11:case 14:case 15:if(!Je&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Su(r,n,l),o=o.next}while(o!==i)}Pn(e,n,r);break;case 1:if(!Je&&(qr(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){Le(r,n,s)}Pn(e,n,r);break;case 21:Pn(e,n,r);break;case 22:r.mode&1?(Je=(i=Je)||r.memoizedState!==null,Pn(e,n,r),Je=i):Pn(e,n,r);break;default:Pn(e,n,r)}}function Pd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new R1),n.forEach(function(i){var o=W1.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Bt(e,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var a=e,l=n,s=l;e:for(;s!==null;){switch(s.tag){case 5:We=s.stateNode,Ht=!1;break e;case 3:We=s.stateNode.containerInfo,Ht=!0;break e;case 4:We=s.stateNode.containerInfo,Ht=!0;break e}s=s.return}if(We===null)throw Error(ie(160));jm(a,l,o),We=null,Ht=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(f){Le(o,n,f)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Nm(n,e),n=n.sibling}function Nm(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(n,e),Jt(e),i&4){try{eo(3,e,e.return),Ol(3,e)}catch(w){Le(e,e.return,w)}try{eo(5,e,e.return)}catch(w){Le(e,e.return,w)}}break;case 1:Bt(n,e),Jt(e),i&512&&r!==null&&qr(r,r.return);break;case 5:if(Bt(n,e),Jt(e),i&512&&r!==null&&qr(r,r.return),e.flags&32){var o=e.stateNode;try{lo(o,"")}catch(w){Le(e,e.return,w)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Gp(o,a),eu(s,l);var f=eu(s,a);for(l=0;l<u.length;l+=2){var p=u[l],c=u[l+1];p==="style"?Xp(o,c):p==="dangerouslySetInnerHTML"?Qp(o,c):p==="children"?lo(o,c):gc(o,p,c,f)}switch(s){case"input":Ys(o,a);break;case"textarea":Kp(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Vr(o,!!a.multiple,g,!1):d!==!!a.multiple&&(a.defaultValue!=null?Vr(o,!!a.multiple,a.defaultValue,!0):Vr(o,!!a.multiple,a.multiple?[]:"",!1))}o[vo]=a}catch(w){Le(e,e.return,w)}}break;case 6:if(Bt(n,e),Jt(e),i&4){if(e.stateNode===null)throw Error(ie(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(w){Le(e,e.return,w)}}break;case 3:if(Bt(n,e),Jt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{fo(n.containerInfo)}catch(w){Le(e,e.return,w)}break;case 4:Bt(n,e),Jt(e);break;case 13:Bt(n,e),Jt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Kc=$e())),i&4&&Pd(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Je=(f=Je)||p,Bt(n,e),Je=f):Bt(n,e),Jt(e),i&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(se=e,p=e.child;p!==null;){for(c=se=p;se!==null;){switch(d=se,g=d.child,d.tag){case 0:case 11:case 14:case 15:eo(4,d,d.return);break;case 1:qr(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){i=d,r=d.return;try{n=i,b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(w){Le(i,r,w)}}break;case 5:qr(d,d.return);break;case 22:if(d.memoizedState!==null){Md(c);continue}}g!==null?(g.return=d,se=g):Md(c)}p=p.sibling}e:for(p=null,c=e;;){if(c.tag===5){if(p===null){p=c;try{o=c.stateNode,f?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=c.stateNode,u=c.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Zp("display",l))}catch(w){Le(e,e.return,w)}}}else if(c.tag===6){if(p===null)try{c.stateNode.nodeValue=f?"":c.memoizedProps}catch(w){Le(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Bt(n,e),Jt(e),i&4&&Pd(e);break;case 21:break;default:Bt(n,e),Jt(e)}}function Jt(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(km(r)){var i=r;break e}r=r.return}throw Error(ie(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(lo(o,""),i.flags&=-33);var a=Id(e);Au(e,a,o);break;case 3:case 4:var l=i.stateNode.containerInfo,s=Id(e);Ou(e,s,l);break;default:throw Error(ie(161))}}catch(u){Le(e,e.return,u)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $1(e,n,r){se=e,Em(e)}function Em(e,n,r){for(var i=(e.mode&1)!==0;se!==null;){var o=se,a=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||ra;if(!l){var s=o.alternate,u=s!==null&&s.memoizedState!==null||Je;s=ra;var f=Je;if(ra=l,(Je=u)&&!f)for(se=o;se!==null;)l=se,u=l.child,l.tag===22&&l.memoizedState!==null?Rd(o):u!==null?(u.return=l,se=u):Rd(o);for(;a!==null;)se=a,Em(a),a=a.sibling;se=o,ra=s,Je=f}Dd(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,se=a):Dd(e)}}function Dd(e){for(;se!==null;){var n=se;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Je||Ol(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!Je)if(r===null)i.componentDidMount();else{var o=n.elementType===n.type?r.memoizedProps:qt(n.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&yd(n,a,i);break;case 3:var l=n.updateQueue;if(l!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}yd(n,l,r)}break;case 5:var s=n.stateNode;if(r===null&&n.flags&4){r=s;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var f=n.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var c=p.dehydrated;c!==null&&fo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Je||n.flags&512&&Tu(n)}catch(d){Le(n,n.return,d)}}if(n===e){se=null;break}if(r=n.sibling,r!==null){r.return=n.return,se=r;break}se=n.return}}function Md(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var r=n.sibling;if(r!==null){r.return=n.return,se=r;break}se=n.return}}function Rd(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Ol(4,n)}catch(u){Le(n,r,u)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var o=n.return;try{i.componentDidMount()}catch(u){Le(n,o,u)}}var a=n.return;try{Tu(n)}catch(u){Le(n,a,u)}break;case 5:var l=n.return;try{Tu(n)}catch(u){Le(n,l,u)}}}catch(u){Le(n,n.return,u)}if(n===e){se=null;break}var s=n.sibling;if(s!==null){s.return=n.return,se=s;break}se=n.return}}var z1=Math.ceil,Xa=An.ReactCurrentDispatcher,Wc=An.ReactCurrentOwner,Rt=An.ReactCurrentBatchConfig,xe=0,Ve=null,ze=null,Ge=0,bt=0,Hr=ir(0),Be=0,ko=null,kr=0,Al=0,Gc=0,to=null,st=null,Kc=0,oi=1/0,mn=null,Ja=!1,Cu=null,Qn=null,ia=!1,qn=null,el=0,no=0,Iu=null,Na=-1,Ea=0;function it(){return xe&6?$e():Na!==-1?Na:Na=$e()}function Zn(e){return e.mode&1?xe&2&&Ge!==0?Ge&-Ge:w1.transition!==null?(Ea===0&&(Ea=cg()),Ea):(e=we,e!==0||(e=window.event,e=e===void 0?16:vg(e.type)),e):1}function Yt(e,n,r,i){if(50<no)throw no=0,Iu=null,Error(ie(185));Po(e,r,i),(!(xe&2)||e!==Ve)&&(e===Ve&&(!(xe&2)&&(Al|=r),Be===4&&Bn(e,Ge)),pt(e,i),r===1&&xe===0&&!(n.mode&1)&&(oi=$e()+500,El&&or()))}function pt(e,n){var r=e.callbackNode;w0(e,n);var i=La(e,e===Ve?Ge:0);if(i===0)r!==null&&Vf(r),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(r!=null&&Vf(r),n===1)e.tag===0?_1(Ld.bind(null,e)):Rg(Ld.bind(null,e)),v1(function(){!(xe&6)&&or()}),r=null;else{switch(fg(i)){case 1:r=bc;break;case 4:r=sg;break;case 16:r=Ra;break;case 536870912:r=ug;break;default:r=Ra}r=Dm(r,Sm.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function Sm(e,n){if(Na=-1,Ea=0,xe&6)throw Error(ie(327));var r=e.callbackNode;if(Qr()&&e.callbackNode!==r)return null;var i=La(e,e===Ve?Ge:0);if(i===0)return null;if(i&30||i&e.expiredLanes||n)n=tl(e,i);else{n=i;var o=xe;xe|=2;var a=Om();(Ve!==e||Ge!==n)&&(mn=null,oi=$e()+500,mr(e,n));do try{U1();break}catch(s){Tm(e,s)}while(!0);Pc(),Xa.current=a,xe=o,ze!==null?n=0:(Ve=null,Ge=0,n=Be)}if(n!==0){if(n===2&&(o=ou(e),o!==0&&(i=o,n=Pu(e,o))),n===1)throw r=ko,mr(e,0),Bn(e,i),pt(e,$e()),r;if(n===6)Bn(e,i);else{if(o=e.current.alternate,!(i&30)&&!F1(o)&&(n=tl(e,i),n===2&&(a=ou(e),a!==0&&(i=a,n=Pu(e,a))),n===1))throw r=ko,mr(e,0),Bn(e,i),pt(e,$e()),r;switch(e.finishedWork=o,e.finishedLanes=i,n){case 0:case 1:throw Error(ie(345));case 2:sr(e,st,mn);break;case 3:if(Bn(e,i),(i&130023424)===i&&(n=Kc+500-$e(),10<n)){if(La(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){it(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=hu(sr.bind(null,e,st,mn),n);break}sr(e,st,mn);break;case 4:if(Bn(e,i),(i&4194240)===i)break;for(n=e.eventTimes,o=-1;0<i;){var l=31-Kt(i);a=1<<l,l=n[l],l>o&&(o=l),i&=~a}if(i=o,i=$e()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*z1(i/1960))-i,10<i){e.timeoutHandle=hu(sr.bind(null,e,st,mn),i);break}sr(e,st,mn);break;case 5:sr(e,st,mn);break;default:throw Error(ie(329))}}}return pt(e,$e()),e.callbackNode===r?Sm.bind(null,e):null}function Pu(e,n){var r=to;return e.current.memoizedState.isDehydrated&&(mr(e,n).flags|=256),e=tl(e,n),e!==2&&(n=st,st=r,n!==null&&Du(n)),e}function Du(e){st===null?st=e:st.push.apply(st,e)}function F1(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot;o=o.value;try{if(!Qt(a(),o))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n){for(n&=~Gc,n&=~Al,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Kt(n),i=1<<r;e[r]=-1,n&=~i}}function Ld(e){if(xe&6)throw Error(ie(327));Qr();var n=La(e,0);if(!(n&1))return pt(e,$e()),null;var r=tl(e,n);if(e.tag!==0&&r===2){var i=ou(e);i!==0&&(n=i,r=Pu(e,i))}if(r===1)throw r=ko,mr(e,0),Bn(e,n),pt(e,$e()),r;if(r===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,sr(e,st,mn),pt(e,$e()),null}function Yc(e,n){var r=xe;xe|=1;try{return e(n)}finally{xe=r,xe===0&&(oi=$e()+500,El&&or())}}function jr(e){qn!==null&&qn.tag===0&&!(xe&6)&&Qr();var n=xe;xe|=1;var r=Rt.transition,i=we;try{if(Rt.transition=null,we=1,e)return e()}finally{we=i,Rt.transition=r,xe=n,!(xe&6)&&or()}}function Qc(){bt=Hr.current,Te(Hr)}function mr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,m1(r)),ze!==null)for(r=ze.return;r!==null;){var i=r;switch(Ac(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ua();break;case 3:ri(),Te(dt),Te(et),zc();break;case 5:$c(i);break;case 4:ri();break;case 13:Te(De);break;case 19:Te(De);break;case 10:Dc(i.type._context);break;case 22:case 23:Qc()}r=r.return}if(Ve=e,ze=e=Xn(e.current,null),Ge=bt=n,Be=0,ko=null,Gc=Al=kr=0,st=to=null,dr!==null){for(n=0;n<dr.length;n++)if(r=dr[n],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,a=r.pending;if(a!==null){var l=a.next;a.next=o,i.next=l}r.pending=i}dr=null}return e}function Tm(e,n){do{var r=ze;try{if(Pc(),wa.current=Za,Qa){for(var i=Me.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Qa=!1}if(wr=0,qe=Fe=Me=null,Ji=!1,bo=0,Wc.current=null,r===null||r.return===null){Be=1,ko=n,ze=null;break}e:{var a=e,l=r.return,s=r,u=n;if(n=Ge,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=s,c=p.tag;if(!(p.mode&1)&&(c===0||c===11||c===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=jd(l);if(g!==null){g.flags&=-257,Nd(g,l,s,a,n),g.mode&1&&kd(a,f,n),n=g,u=f;var b=n.updateQueue;if(b===null){var w=new Set;w.add(u),n.updateQueue=w}else b.add(u);break e}else{if(!(n&1)){kd(a,f,n),Zc();break e}u=Error(ie(426))}}else if(Ce&&s.mode&1){var _=jd(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Nd(_,l,s,a,n),Cc(ii(u,s));break e}}a=u=ii(u,s),Be!==4&&(Be=2),to===null?to=[a]:to.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var m=fm(a,u,n);vd(a,m);break e;case 1:s=u;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qn===null||!Qn.has(x)))){a.flags|=65536,n&=-n,a.lanes|=n;var y=dm(a,s,n);vd(a,y);break e}}a=a.return}while(a!==null)}Cm(r)}catch(k){n=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function Om(){var e=Xa.current;return Xa.current=Za,e===null?Za:e}function Zc(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||!(kr&268435455)&&!(Al&268435455)||Bn(Ve,Ge)}function tl(e,n){var r=xe;xe|=2;var i=Om();(Ve!==e||Ge!==n)&&(mn=null,mr(e,n));do try{B1();break}catch(o){Tm(e,o)}while(!0);if(Pc(),xe=r,Xa.current=i,ze!==null)throw Error(ie(261));return Ve=null,Ge=0,Be}function B1(){for(;ze!==null;)Am(ze)}function U1(){for(;ze!==null&&!h0();)Am(ze)}function Am(e){var n=Pm(e.alternate,e,bt);e.memoizedProps=e.pendingProps,n===null?Cm(e):ze=n,Wc.current=null}function Cm(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=M1(r,n),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,ze=null;return}}else if(r=D1(r,n,bt),r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=e}while(n!==null);Be===0&&(Be=5)}function sr(e,n,r){var i=we,o=Rt.transition;try{Rt.transition=null,we=1,q1(e,n,r,i)}finally{Rt.transition=o,we=i}return null}function q1(e,n,r,i){do Qr();while(qn!==null);if(xe&6)throw Error(ie(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(k0(e,a),e===Ve&&(ze=Ve=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ia||(ia=!0,Dm(Ra,function(){return Qr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Rt.transition,Rt.transition=null;var l=we;we=1;var s=xe;xe|=4,Wc.current=null,L1(e,r),Nm(r,e),u1(fu),$a=!!cu,fu=cu=null,e.current=r,$1(r),p0(),xe=s,we=l,Rt.transition=a}else e.current=r;if(ia&&(ia=!1,qn=e,el=o),a=e.pendingLanes,a===0&&(Qn=null),v0(r.stateNode),pt(e,$e()),n!==null)for(i=e.onRecoverableError,r=0;r<n.length;r++)o=n[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ja)throw Ja=!1,e=Cu,Cu=null,e;return el&1&&e.tag!==0&&Qr(),a=e.pendingLanes,a&1?e===Iu?no++:(no=0,Iu=e):no=0,or(),null}function Qr(){if(qn!==null){var e=fg(el),n=Rt.transition,r=we;try{if(Rt.transition=null,we=16>e?16:e,qn===null)var i=!1;else{if(e=qn,qn=null,el=0,xe&6)throw Error(ie(331));var o=xe;for(xe|=4,se=e.current;se!==null;){var a=se,l=a.child;if(se.flags&16){var s=a.deletions;if(s!==null){for(var u=0;u<s.length;u++){var f=s[u];for(se=f;se!==null;){var p=se;switch(p.tag){case 0:case 11:case 15:eo(8,p,a)}var c=p.child;if(c!==null)c.return=p,se=c;else for(;se!==null;){p=se;var d=p.sibling,g=p.return;if(wm(p),p===f){se=null;break}if(d!==null){d.return=g,se=d;break}se=g}}}var b=a.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}se=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,se=l;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:eo(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,se=m;break e}se=a.return}}var v=e.current;for(se=v;se!==null;){l=se;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,se=x;else e:for(l=v;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ol(9,s)}}catch(k){Le(s,s.return,k)}if(s===l){se=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,se=y;break e}se=s.return}}if(xe=o,or(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(_l,e)}catch{}i=!0}return i}finally{we=r,Rt.transition=n}}return!1}function $d(e,n,r){n=ii(r,n),n=fm(e,n,1),e=Yn(e,n,1),n=it(),e!==null&&(Po(e,1,n),pt(e,n))}function Le(e,n,r){if(e.tag===3)$d(e,e,r);else for(;n!==null;){if(n.tag===3){$d(n,e,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qn===null||!Qn.has(i))){e=ii(r,e),e=dm(n,e,1),n=Yn(n,e,1),e=it(),n!==null&&(Po(n,1,e),pt(n,e));break}}n=n.return}}function H1(e,n,r){var i=e.pingCache;i!==null&&i.delete(n),n=it(),e.pingedLanes|=e.suspendedLanes&r,Ve===e&&(Ge&r)===r&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>$e()-Kc?mr(e,0):Gc|=r),pt(e,n)}function Im(e,n){n===0&&(e.mode&1?(n=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):n=1);var r=it();e=Sn(e,n),e!==null&&(Po(e,n,r),pt(e,r))}function V1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Im(e,r)}function W1(e,n){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ie(314))}i!==null&&i.delete(n),Im(e,r)}var Pm;Pm=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return ut=!1,P1(e,n,r);ut=!!(e.flags&131072)}else ut=!1,Ce&&n.flags&1048576&&Lg(n,Va,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;ja(e,n),e=n.pendingProps;var o=ei(n,et.current);Yr(n,r),o=Bc(null,n,i,e,o,r);var a=Uc();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ht(i)?(a=!0,qa(n)):a=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Rc(n),o.updater=Tl,n.stateNode=o,o._reactInternals=n,bu(n,i,e,r),n=ku(null,n,i,!0,a,r)):(n.tag=0,Ce&&a&&Oc(n),nt(null,n,o,r),n=n.child),n;case 16:i=n.elementType;e:{switch(ja(e,n),e=n.pendingProps,o=i._init,i=o(i._payload),n.type=i,o=n.tag=K1(i),e=qt(i,e),o){case 0:n=wu(null,n,i,e,r);break e;case 1:n=Td(null,n,i,e,r);break e;case 11:n=Ed(null,n,i,e,r);break e;case 14:n=Sd(null,n,i,qt(i.type,e),r);break e}throw Error(ie(306,i,""))}return n;case 0:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),wu(e,n,i,o,r);case 1:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),Td(e,n,i,o,r);case 3:e:{if(mm(n),e===null)throw Error(ie(387));i=n.pendingProps,a=n.memoizedState,o=a.element,qg(e,n),Ka(n,i,null,r);var l=n.memoizedState;if(i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){o=ii(Error(ie(423)),n),n=Od(e,n,i,r,o);break e}else if(i!==o){o=ii(Error(ie(424)),n),n=Od(e,n,i,r,o);break e}else for(wt=Kn(n.stateNode.containerInfo.firstChild),kt=n,Ce=!0,Vt=null,r=Bg(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ti(),i===o){n=Tn(e,n,r);break e}nt(e,n,i,r)}n=n.child}return n;case 5:return Hg(n),e===null&&vu(n),i=n.type,o=n.pendingProps,a=e!==null?e.memoizedProps:null,l=o.children,du(i,o)?l=null:a!==null&&du(i,a)&&(n.flags|=32),gm(e,n),nt(e,n,l,r),n.child;case 6:return e===null&&vu(n),null;case 13:return vm(e,n,r);case 4:return Lc(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=ni(n,null,i,r):nt(e,n,i,r),n.child;case 11:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),Ed(e,n,i,o,r);case 7:return nt(e,n,n.pendingProps,r),n.child;case 8:return nt(e,n,n.pendingProps.children,r),n.child;case 12:return nt(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,o=n.pendingProps,a=n.memoizedProps,l=o.value,je(Wa,i._currentValue),i._currentValue=l,a!==null)if(Qt(a.value,l)){if(a.children===o.children&&!dt.current){n=Tn(e,n,r);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var s=a.dependencies;if(s!==null){l=a.child;for(var u=s.firstContext;u!==null;){if(u.context===i){if(a.tag===1){u=kn(-1,r&-r),u.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),yu(a.return,r,n),s.lanes|=r;break}u=u.next}}else if(a.tag===10)l=a.type===n.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(ie(341));l.lanes|=r,s=l.alternate,s!==null&&(s.lanes|=r),yu(l,r,n),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===n){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}nt(e,n,o.children,r),n=n.child}return n;case 9:return o=n.type,i=n.pendingProps.children,Yr(n,r),o=$t(o),i=i(o),n.flags|=1,nt(e,n,i,r),n.child;case 14:return i=n.type,o=qt(i,n.pendingProps),o=qt(i.type,o),Sd(e,n,i,o,r);case 15:return hm(e,n,n.type,n.pendingProps,r);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),ja(e,n),n.tag=1,ht(i)?(e=!0,qa(n)):e=!1,Yr(n,r),cm(n,i,o),bu(n,i,o,r),ku(null,n,i,!0,e,r);case 19:return ym(e,n,r);case 22:return pm(e,n,r)}throw Error(ie(156,n.tag))};function Dm(e,n){return lg(e,n)}function G1(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,n,r,i){return new G1(e,n,r,i)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K1(e){if(typeof e=="function")return Xc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vc)return 11;if(e===yc)return 14}return 2}function Xn(e,n){var r=e.alternate;return r===null?(r=Mt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sa(e,n,r,i,o,a){var l=2;if(i=e,typeof e=="function")Xc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dr:return vr(r.children,o,a,n);case mc:l=8,o|=8;break;case Hs:return e=Mt(12,r,n,o|2),e.elementType=Hs,e.lanes=a,e;case Vs:return e=Mt(13,r,n,o),e.elementType=Vs,e.lanes=a,e;case Ws:return e=Mt(19,r,n,o),e.elementType=Ws,e.lanes=a,e;case Hp:return Cl(r,o,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:l=10;break e;case qp:l=9;break e;case vc:l=11;break e;case yc:l=14;break e;case Ln:l=16,i=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return n=Mt(l,r,n,o),n.elementType=e,n.type=i,n.lanes=a,n}function vr(e,n,r,i){return e=Mt(7,e,i,n),e.lanes=r,e}function Cl(e,n,r,i){return e=Mt(22,e,i,n),e.elementType=Hp,e.lanes=r,e.stateNode={isHidden:!1},e}function js(e,n,r){return e=Mt(6,e,null,n),e.lanes=r,e}function Ns(e,n,r){return n=Mt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Y1(e,n,r,i,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jc(e,n,r,i,o,a,l,s,u){return e=new Y1(e,n,r,s,u),n===1?(n=1,a===!0&&(n|=8)):n=0,a=Mt(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(a),e}function Q1(e,n,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:i==null?null:""+i,children:e,containerInfo:n,implementation:r}}function Mm(e){if(!e)return tr;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(ie(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ie(171))}if(e.tag===1){var r=e.type;if(ht(r))return Mg(e,r,n)}return n}function Rm(e,n,r,i,o,a,l,s,u){return e=Jc(r,i,!0,e,o,a,l,s,u),e.context=Mm(null),r=e.current,i=it(),o=Zn(r),a=kn(i,o),a.callback=n??null,Yn(r,a,o),e.current.lanes=o,Po(e,o,i),pt(e,i),e}function Il(e,n,r,i){var o=n.current,a=it(),l=Zn(o);return r=Mm(r),n.context===null?n.context=r:n.pendingContext=r,n=kn(a,l),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Yn(o,n,l),e!==null&&(Yt(e,o,l,a),_a(e,o,l)),l}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ef(e,n){zd(e,n),(e=e.alternate)&&zd(e,n)}function Z1(){return null}var Lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function tf(e){this._internalRoot=e}Pl.prototype.render=tf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ie(409));Il(e,n,null,null)};Pl.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jr(function(){Il(null,e,null,null)}),n[En]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var n=pg();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Fn.length&&n!==0&&n<Fn[r].priority;r++);Fn.splice(r,0,e),r===0&&mg(e)}};function nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function X1(e,n,r,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var f=nl(l);a.call(f)}}var l=Rm(n,i,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=l,e[En]=l.current,go(e.nodeType===8?e.parentNode:e),jr(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var s=i;i=function(){var f=nl(u);s.call(f)}}var u=Jc(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=u,e[En]=u.current,go(e.nodeType===8?e.parentNode:e),jr(function(){Il(n,u,r,i)}),u}function Ml(e,n,r,i,o){var a=r._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var s=o;o=function(){var u=nl(l);s.call(u)}}Il(n,l,e,o)}else l=X1(r,n,e,o,i);return nl(l)}dg=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=Ui(n.pendingLanes);r!==0&&(_c(n,r|1),pt(n,$e()),!(xe&6)&&(oi=$e()+500,or()))}break;case 13:jr(function(){var i=Sn(e,1);if(i!==null){var o=it();Yt(i,e,1,o)}}),ef(e,1)}};wc=function(e){if(e.tag===13){var n=Sn(e,134217728);if(n!==null){var r=it();Yt(n,e,134217728,r)}ef(e,134217728)}};hg=function(e){if(e.tag===13){var n=Zn(e),r=Sn(e,n);if(r!==null){var i=it();Yt(r,e,n,i)}ef(e,n)}};pg=function(){return we};gg=function(e,n){var r=we;try{return we=e,n()}finally{we=r}};nu=function(e,n,r){switch(n){case"input":if(Ys(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var o=Nl(i);if(!o)throw Error(ie(90));Wp(i),Ys(i,o)}}}break;case"textarea":Kp(e,r);break;case"select":n=r.value,n!=null&&Vr(e,!!r.multiple,n,!1)}};tg=Yc;ng=jr;var J1={usingClientEntryPoint:!1,Events:[Mo,$r,Nl,Jp,eg,Yc]},Oi={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ex={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=og(e),e===null?null:e.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||Z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{_l=oa.inject(ex),ln=oa}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J1;Et.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(n))throw Error(ie(200));return Q1(e,n,null,r)};Et.createRoot=function(e,n){if(!nf(e))throw Error(ie(299));var r=!1,i="",o=Lm;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=Jc(e,1,!1,null,null,r,!1,i,o),e[En]=n.current,go(e.nodeType===8?e.parentNode:e),new tf(n)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=og(n),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return jr(e)};Et.hydrate=function(e,n,r){if(!Dl(n))throw Error(ie(200));return Ml(null,e,n,!0,r)};Et.hydrateRoot=function(e,n,r){if(!nf(e))throw Error(ie(405));var i=r!=null&&r.hydratedSources||null,o=!1,a="",l=Lm;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),n=Rm(n,null,e,1,r??null,o,!1,a,l),e[En]=n.current,go(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o);return new Pl(n)};Et.render=function(e,n,r){if(!Dl(n))throw Error(ie(200));return Ml(null,e,n,!1,r)};Et.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(ie(40));return e._reactRootContainer?(jr(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};Et.unstable_batchedUpdates=Yc;Et.unstable_renderSubtreeIntoContainer=function(e,n,r,i){if(!Dl(r))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Ml(e,n,r,!1,i)};Et.version="18.3.1-next-f1338f8080-20240426";function $m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($m)}catch(e){console.error(e)}}$m(),$p.exports=Et;var zm=$p.exports,Bd=zm;Us.createRoot=Bd.createRoot,Us.hydrateRoot=Bd.hydrateRoot;const tx=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 931.843 931.843",fill:"currentColor",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M926.932,305.137c12.301-38.3,1.4-86.6-32-124c-14.5-16.2-31.4-28.5-49.199-36.5c-5.1-8.4-11.201-16.6-18.1-24.4   c-29.9-33.5-69.4-51.5-105.701-51.7c-25.4-19.5-59.699-34.3-98.699-40.4c-30.7-4.8-60.3-3.6-86.2,2.4c-22.5-9.8-49-13.8-76.8-10.3   c-28.899,3.7-54.5,14.9-74.1,31c-31-14-70.9-14.8-108.9,0.9c-32.7,13.5-57.8,36.5-72,63c-25.4,5.6-51.1,19.1-73,40.1   c-31.1,29.8-47.5,68-47.4,102.8c-37.8,21-61.8,57.1-60.1,95.6c-10.1,15.4-17.7,33.5-21.7,53.4c-6.9,34.5-1.7,67.899,12.3,94.3   c-1,58.3,31.7,108.6,80.9,118.4c3.2,0.6,6.4,1.1,9.6,1.399c-1.7,12.101-1.5,24.4,1,36.7c14.1,71.1,95.7,114.8,182.3,97.6   c3.899-0.8,7.8-1.699,11.6-2.699l0,0c12.9,20.699,39.7,11.8,39.7,11.8v76.6c0,8.2,3.1,16,8.8,22l42.4,44.7   c9.899,10.5,27.5,3.4,27.5-11v-86.6c2.6-78.101,31.3-116.7,55.8-131.4c33-19.9,32.5-61.3,32.3-76.4   c26,13.7,67.101,21.5,101.5,17.601c155.199-17.9,163.299-122.3,168.4-139.4c45.299,3.4,86.898-15.8,104.898-52.7   c2.5-5.199,4.5-10.6,5.9-16c15-8.899,27.301-21.6,35.1-37.6C933.633,352.737,934.332,328.337,926.932,305.137z"})}),He=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Lo=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("polyline",{points:"3 6 5 6 21 6"}),h.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),gt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1V21c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h10.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7-.5-1.1V8.9L15.5 2z"}),h.jsx("path",{d:"M15 2v7h7"}),h.jsx("path",{d:"M8 17h8"}),h.jsx("path",{d:"M8 12h8"})]}),mt=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),vt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),h.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),rf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M21 8v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8"}),h.jsx("rect",{x:"1",y:"3",width:"22",height:"5"}),h.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]}),Jn=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("polyline",{points:"9 11 12 14 22 4"}),h.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),Mu=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),Lt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),tt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.jsx("polyline",{points:"14 2 14 8 20 8"}),h.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),h.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),h.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),nr=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),h.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),Fm=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Bm=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{x:"1",y:"5",width:"22",height:"5",rx:"1"}),h.jsx("path",{d:"M22 10v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9"}),h.jsx("path",{d:"M12 14v-2"})]}),nx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5"})]}),ai=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),rx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),h.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),Zt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M12 20h.01"}),h.jsx("path",{d:"M17 20h.01"}),h.jsx("path",{d:"M7 20h.01"}),h.jsx("path",{d:"M3 15h18"}),h.jsx("path",{d:"m3 10 2.5 2.5 2.5-2.5"}),h.jsx("path",{d:"M3 5h18"})]}),Ud=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),h.jsx("polyline",{points:"12 5 19 12 12 19"})]}),Rl=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),h.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),Or=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),h.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Um=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"18",cy:"18",r:"3"}),h.jsx("circle",{cx:"6",cy:"6",r:"3"}),h.jsx("path",{d:"M6 21V9a9 9 0 0 1 9 9"})]}),$o=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),h.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"m9 14 2 2 4-4"})]}),ix=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"12",cy:"12",r:"1"}),h.jsx("circle",{cx:"12",cy:"5",r:"1"}),h.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),qm=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Hm=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),Vm=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),ox=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"6",y1:"3",x2:"6",y2:"15"}),h.jsx("circle",{cx:"18",cy:"6",r:"3"}),h.jsx("circle",{cx:"6",cy:"18",r:"3"}),h.jsx("path",{d:"M18 9a9 9 0 0 1-9 9"})]}),of=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"m6 9 6 6 6-6"})}),ax=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"12",cy:"12",r:"3"}),h.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),lx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"7 10 12 15 17 10"}),h.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),sx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),ux=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),cx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"m21 16-4 4-4-4"}),h.jsx("path",{d:"M17 20V4"}),h.jsx("path",{d:"m3 8 4-4 4 4"}),h.jsx("path",{d:"M7 4v16"})]}),fx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),dx=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"m15 18-6-6 6-6"})}),hx=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"m9 18 6-6-6-6"})}),af=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("path",{d:"M12 2a4 4 0 0 0-4 4v2"}),h.jsx("path",{d:"M12 2a4 4 0 0 1 4 4v2"}),h.jsx("path",{d:"M14 13a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"}),h.jsx("path",{d:"M14 4.5A2.5 2.5 0 0 1 16.5 2H18a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1.5"}),h.jsx("path",{d:"M10 4.5A2.5 2.5 0 0 0 7.5 2H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1.5"}),h.jsx("path",{d:"M16.5 14H18a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1.5a2.5 2.5 0 0 1-2.5-2.5"}),h.jsx("path",{d:"M7.5 14H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1.5a2.5 2.5 0 0 0 2.5-2.5"}),h.jsx("path",{d:"M13 8h1.5a2 2 0 0 1 2 2v1"}),h.jsx("path",{d:"M11 8H9.5a2 2 0 0 0-2 2v1"})]}),lf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),h.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),sf=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:h.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),uf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),h.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),cf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),h.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),ff=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),px=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),gx={currentView:"dashboard",activeAreaId:null,activeProjectId:null,isCaptureModalOpen:!1,captureContext:null,editingNoteId:null,editingResourceId:null,editingTaskId:null,organizingItem:null,searchQuery:"",isCommandBarOpen:!1,toastMessage:null,linkingTask:null,confirmModal:null,draggedItemId:null,draggedItemType:null,isFocusMode:!1,isMobileSidebarOpen:!1},mx=(e,n)=>{switch(n.type){case"SET_VIEW":{const{view:r,itemId:i}=n.payload;return{...e,currentView:r,searchQuery:"",activeAreaId:r==="areas"?i||e.activeAreaId:null,activeProjectId:r==="projects"?i||e.activeProjectId:null,isFocusMode:r!=="areas"?!1:e.isFocusMode}}case"SET_ACTIVE_AREA":return{...e,activeAreaId:n.payload};case"SET_ACTIVE_PROJECT":return{...e,activeProjectId:n.payload};case"SET_CAPTURE_MODAL":return{...e,isCaptureModalOpen:n.payload.isOpen,captureContext:n.payload.context||null};case"SET_EDITING_NOTE":return{...e,editingNoteId:n.payload};case"SET_EDITING_RESOURCE":return{...e,editingResourceId:n.payload};case"SET_EDITING_TASK":return{...e,editingTaskId:n.payload};case"SET_ORGANIZING_ITEM":return{...e,organizingItem:n.payload};case"SET_LINKING_TASK":return{...e,linkingTask:n.payload};case"SET_SEARCH_QUERY":return{...e,searchQuery:n.payload};case"SET_COMMAND_BAR_OPEN":return{...e,isCommandBarOpen:n.payload};case"SHOW_TOAST":return{...e,toastMessage:n.payload};case"OPEN_CONFIRM_MODAL":return{...e,confirmModal:n.payload};case"CLOSE_CONFIRM_MODAL":return{...e,confirmModal:null};case"SET_DRAGGED_ITEM":return{...e,draggedItemId:n.payload.id,draggedItemType:n.payload.type};case"TOGGLE_FOCUS_MODE":return{...e,isFocusMode:!e.isFocusMode};case"TOGGLE_MOBILE_SIDEBAR":return{...e,isMobileSidebarOpen:!e.isMobileSidebarOpen};default:return e}},Wm=W.createContext(void 0),vx=({children:e})=>{const[n,r]=W.useReducer(mx,gx);return h.jsx(Wm.Provider,{value:{state:n,dispatch:r},children:e})},Ll=()=>{const e=W.useContext(Wm);if(e===void 0)throw new Error("useUI must be used within a UIProvider");return e},yx=[{view:"dashboard",label:"Home",icon:h.jsx(qm,{className:"w-5 h-5"})},{view:"review",label:"Review",icon:h.jsx($o,{className:"w-5 h-5"})}],xx=[{view:"areas",label:"Areas",icon:h.jsx(mt,{className:"w-5 h-5"})},{view:"projects",label:"Projects",icon:h.jsx(gt,{className:"w-5 h-5"})},{view:"calendar",label:"Calendar",icon:h.jsx(Or,{className:"w-5 h-5"})},{view:"resources",label:"Resources",icon:h.jsx(vt,{className:"w-5 h-5"})},{view:"archives",label:"Archives",icon:h.jsx(rf,{className:"w-5 h-5"})},{view:"graph",label:"Graph",icon:h.jsx(Um,{className:"w-5 h-5"})}],Es=pe.memo(function({isActive:n,onClick:r,icon:i,label:o,badgeCount:a}){return h.jsx("li",{children:h.jsxs("button",{onClick:r,className:`w-full flex items-center justify-between p-2.5 rounded-xl transition-all duration-300 ease-soft text-sm font-medium ${n?"bg-accent text-accent-content shadow-sm font-semibold":"text-text-secondary hover:bg-neutral hover:text-text-primary"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[i,h.jsx("span",{children:o})]}),a&&a>0?h.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${n?"bg-accent-content/80 text-accent":"bg-neutral-hover text-secondary-content"}`,children:a}):null]})})}),bx=({onNavigate:e,inboxCount:n,isMobile:r=!1})=>{const{state:i,dispatch:o}=Ll(),{currentView:a,searchQuery:l}=i,s=u=>{e(u),r&&o({type:"TOGGLE_MOBILE_SIDEBAR"})};return h.jsxs("aside",{className:"w-72 h-full flex flex-col bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md",children:[h.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-outline-dark",children:[h.jsx(tx,{className:"w-7 h-7 text-accent"}),h.jsx("h1",{className:"text-xl font-bold font-heading text-text-primary tracking-tight",children:"Second Brain"})]}),h.jsx("div",{className:"p-4 border-b border-outline-dark",children:h.jsxs("div",{className:"relative",children:[h.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),h.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:u=>o({type:"SET_SEARCH_QUERY",payload:u.target.value}),className:"w-full bg-background/50 border border-outline rounded-xl pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent"})]})}),h.jsxs("nav",{className:"flex-1 flex flex-col gap-6 overflow-y-auto custom-scrollbar p-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"px-2 mb-2 text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Menu"}),h.jsx("ul",{className:"space-y-1",children:yx.map(u=>h.jsx(Es,{isActive:a===u.view,onClick:()=>s(u.view),icon:u.icon,label:u.label,badgeCount:u.view==="dashboard"?n:void 0},u.view))})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"px-2 mb-2 text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Library"}),h.jsx("ul",{className:"space-y-1",children:xx.map(u=>h.jsx(Es,{isActive:a===u.view,onClick:()=>s(u.view),icon:u.icon,label:u.label},u.view))})]})]}),h.jsx("div",{className:"p-4 border-t border-outline-dark",children:h.jsx("ul",{className:"space-y-1",children:h.jsx(Es,{isActive:a==="settings",onClick:()=>s("settings"),icon:h.jsx(ax,{className:"w-5 h-5"}),label:"Settings"})})})]})},qd=pe.memo(bx),_x=({icon:e,title:n,children:r,onAdd:i,addLabel:o,className:a="mb-6",headerPadding:l="p-4",bodyPadding:s="p-4",isCollapsible:u=!1,defaultOpen:f=!0})=>{const[p,c]=W.useState(f),d=pe.Children.toArray(r),g=d.find(_=>pe.isValidElement(_)&&_.props.slot==="header-content"),b=d.filter(_=>!pe.isValidElement(_)||_.props.slot!=="header-content"),w=()=>h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-accent",children:e}),h.jsx("h3",{className:"font-bold text-lg font-heading tracking-tight text-text-primary",children:n})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[i&&h.jsx("button",{onClick:_=>{_.stopPropagation(),i()},"aria-label":o||`Add new ${n}`,className:"p-1 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:h.jsx(He,{className:"w-5 h-5"})}),u&&h.jsx(of,{className:`w-5 h-5 text-text-secondary transition-transform duration-300 ${p?"":"-rotate-90"}`})]})]});return h.jsxs("div",{className:`bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md h-full flex flex-col ${a}`,children:[h.jsx("header",{className:`flex items-center justify-between ${l} ${p&&b.length>0?"border-b border-outline-dark":""}`,children:u?h.jsx("div",{role:"button",tabIndex:0,onClick:()=>c(!p),onKeyDown:_=>(_.key==="Enter"||_.key===" ")&&c(!p),"aria-expanded":p,className:"w-full cursor-pointer",children:g||h.jsx(w,{})}):g||h.jsx(w,{})}),p&&h.jsx("div",{className:`${s} flex-1 overflow-y-auto custom-scrollbar`,children:b})]})},It=pe.memo(_x),jo=(e,n)=>{const[r,i]=W.useState(!1),[o,a]=W.useState(e),l=W.useRef(null);W.useEffect(()=>{a(e)},[e]),W.useEffect(()=>{var c,d;r&&((c=l.current)==null||c.focus(),(d=l.current)==null||d.select())},[r]);const s=W.useCallback(()=>{i(!0)},[]),u=W.useCallback(()=>{o.trim()&&o.trim()!==e?n(o.trim()):a(e),i(!1)},[o,e,n]),f=W.useCallback(()=>{a(e),i(!1)},[e]),p=W.useCallback(c=>{c.key==="Enter"?(c.preventDefault(),u()):c.key==="Escape"&&f()},[u,f]);return{isEditing:r,value:o,setValue:a,handleEdit:s,handleSave:u,handleCancel:f,handleKeyDown:p,inputRef:l}},wx=({tag:e,onRemove:n,className:r=""})=>h.jsxs("div",{className:`flex items-center bg-secondary text-secondary-content text-xs font-medium px-2.5 py-1 rounded-full ${r}`,children:[h.jsx("span",{children:e}),n&&h.jsx("button",{onClick:()=>n(e),className:"-mr-1 ml-1.5 p-0.5 rounded-full hover:bg-secondary-hover focus:outline-none","aria-label":`Remove tag ${e}`,children:h.jsx(Lt,{className:"w-3 h-3"})})]}),Gm=pe.memo(wx),kx=({tags:e,className:n="",itemClassName:r=""})=>!e||e.length===0?null:h.jsx("div",{className:`flex flex-wrap items-center gap-2 ${n}`,children:e.map(i=>h.jsx(Gm,{tag:i,className:r},i))}),ct=pe.memo(kx),jx=({onEdit:e,onArchive:n,onDelete:r,isOpen:i,onToggle:o})=>{const a=W.useRef(null);W.useEffect(()=>{const s=u=>{i&&a.current&&!a.current.contains(u.target)&&o()};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[i,o]);const l=s=>()=>{s&&s(),o()};return h.jsxs("div",{className:"relative",ref:a,children:[h.jsx("button",{onClick:o,className:"p-2 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:h.jsx(ix,{className:"w-5 h-5"})}),i&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-surface/80 backdrop-blur-xl border border-outline rounded-lg shadow-lg z-10",children:h.jsxs("ul",{children:[e&&h.jsx("li",{children:h.jsxs("button",{onClick:l(e),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral transition-colors",children:[h.jsx(Fm,{className:"w-4 h-4"})," Edit"]})}),h.jsx("li",{children:h.jsxs("button",{onClick:l(n),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral transition-colors",children:[h.jsx(Bm,{className:"w-4 h-4"})," Archive"]})}),h.jsx("li",{children:h.jsxs("button",{onClick:l(r),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-destructive hover:bg-neutral transition-colors",children:[h.jsx(Lo,{className:"w-4 h-4"})," Delete"]})})]})})]})},$l=pe.memo(jx),Hn=e=>e.startsWith("area-")?"area":e.startsWith("proj-")?"project":e.startsWith("task-")?"task":e.startsWith("note-")?"note":e.startsWith("res-")?"resource":null,Nx=e=>{if(!e.includes(".")||e.includes(" "))return!1;try{const n=new URL(e.startsWith("http")?e:`https://${e}`);return n.protocol==="http:"||n.protocol==="https:"}catch{return!1}},Ex=[{unit:"year",seconds:31536e3},{unit:"month",seconds:2592e3},{unit:"week",seconds:604800},{unit:"day",seconds:86400},{unit:"hour",seconds:3600},{unit:"minute",seconds:60},{unit:"second",seconds:1}],Km=e=>{if(!e)return"";const n=new Date(e),r=new Date,i=Math.round((n.getTime()-r.getTime())/1e3),o=new Intl.RelativeTimeFormat("en",{numeric:"auto"});for(const{unit:a,seconds:l}of Ex)if(Math.abs(i)>=l){const s=Math.round(i/l);return o.format(s,a)}return"just now"},Ym=e=>new DOMParser().parseFromString(e,"text/html").body.textContent||"",Ss={High:{text:"text-priority-high",bg:"bg-priority-high-bg"},Medium:{text:"text-priority-medium",bg:"bg-priority-medium-bg"},Low:{text:"text-priority-low",bg:"bg-priority-low-bg"}},Sx=({task:e,allTasks:n=[],notes:r=[],resources:i=[],onToggleTask:o,onUpdateTask:a,onSelectTask:l,projectName:s,onLinkTask:u,isFadingOut:f,hasSubtasks:p,isCollapsed:c,onToggleCollapse:d,onArchive:g,onDelete:b,onAddSubtaskClick:w,showHierarchy:_=!1})=>{const[m,v]=W.useState(!1),{isEditing:x,value:y,setValue:k,handleEdit:N,handleSave:j,handleKeyDown:E,inputRef:C}=jo(e.title,B=>{B&&a(e.id,{title:B})}),S=e.stage==="Done"||f,T=W.useMemo(()=>!e.subtaskIds||e.subtaskIds.length===0?null:{completed:e.subtaskIds.filter(z=>{var H;return((H=n.find(D=>D.id===z))==null?void 0:H.stage)==="Done"}).length,total:e.subtaskIds.length},[e.subtaskIds,n]),O=W.useMemo(()=>{const B=(e.noteIds||[]).map(H=>r.find(D=>D.id===H)).filter(H=>!!H),z=(e.resourceIds||[]).map(H=>i.find(D=>D.id===H)).filter(H=>!!H);return[...B,...z]},[e.noteIds,e.resourceIds,r,i]),P=B=>{B.target.closest("a, button")||l==null||l(e.id)},A=()=>g==null?void 0:g(e.id),R=()=>b==null?void 0:b(e.id);return x?h.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-background/50",children:[h.jsx("button",{onClick:()=>o(e.id),"aria-label":S?"Mark as incomplete":"Mark as complete",children:S?h.jsx(Jn,{className:"w-5 h-5 text-accent"}):h.jsx(Mu,{className:"w-5 h-5 text-text-tertiary"})}),h.jsx("input",{ref:C,type:"text",value:y,onChange:B=>k(B.target.value),onBlur:j,onKeyDown:E,className:"flex-1 bg-background/50 border border-outline px-2 py-1 text-sm rounded-md focus:ring-1 focus:ring-accent focus:outline-none"})]}):h.jsxs("div",{className:"flex items-start gap-3 p-2 group hover:bg-neutral rounded-lg transition-all duration-300 ease-soft",children:[h.jsxs("div",{className:"flex-shrink-0 flex pt-1",children:[_&&(p&&d?h.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-neutral-hover text-text-secondary -ml-1",children:h.jsx(of,{className:`w-4 h-4 transition-transform duration-200 ${c?"-rotate-90":""}`})}):_?h.jsx("div",{className:"w-5 h-5 flex-shrink-0"}):null),h.jsx("button",{onClick:()=>o(e.id),"aria-label":S?"Mark as incomplete":"Mark as complete",className:"text-text-secondary hover:text-accent",children:S?h.jsx(Jn,{className:"w-5 h-5 text-accent"}):h.jsx(Mu,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex-1 min-w-0 flex flex-col sm:flex-row sm:items-start sm:justify-between sm:gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",onClick:P,role:"button",tabIndex:0,onKeyDown:B=>B.key==="Enter"&&(l==null?void 0:l(e.id)),children:[h.jsx("span",{onDoubleClick:N,className:`cursor-pointer ${S?"line-through text-text-tertiary":""}`,children:e.title}),h.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-text-tertiary",children:[s&&h.jsx("p",{className:"text-xs text-text-secondary",children:s}),h.jsx(ct,{tags:e.tags}),e.description&&h.jsx(tt,{className:"w-3.5 h-3.5",title:"Has description"}),T&&h.jsxs("span",{className:"flex items-center gap-1",title:"Subtasks",children:[h.jsx($o,{className:"w-3.5 h-3.5"})," ",T.completed,"/",T.total]}),O.slice(0,2).map(B=>h.jsxs("span",{className:"flex items-center gap-1 bg-background/50 px-1.5 py-0.5 rounded-md border border-outline",children:[B.id.startsWith("note-")?h.jsx(tt,{className:"w-3 h-3"}):h.jsx(vt,{className:"w-3 h-3"}),h.jsx("span",{className:"truncate max-w-[100px]",children:B.title})]},B.id)),O.length>2&&h.jsxs("span",{className:"text-xs font-semibold bg-background/50 px-1.5 py-0.5 rounded-md border border-outline",children:["+",O.length-2," more"]})]})]}),h.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 mt-2 sm:mt-0 sm:flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.dueDate&&e.stage!=="Done"&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[h.jsx(Or,{className:"w-4 h-4"}),new Date(e.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),e.priority&&e.stage!=="Done"&&Ss[e.priority]&&h.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full ${Ss[e.priority].bg} ${Ss[e.priority].text}`,children:[h.jsx(Rl,{className:"w-3 h-3"}),e.priority]}),e.stage==="Done"&&e.completedAt&&h.jsx("div",{className:"flex items-center gap-1 text-xs text-text-tertiary",title:`Completed on ${new Date(e.completedAt).toLocaleString()}`,children:h.jsx("span",{children:Km(e.completedAt)})})]}),h.jsxs("div",{className:"flex items-center",children:[p&&w&&h.jsx("button",{onClick:w,"aria-label":"Add subtask",className:"p-1 text-text-tertiary hover:text-accent opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(He,{className:"w-4 h-4"})}),!e.projectId&&u&&h.jsx("button",{onClick:()=>u(e.id),"aria-label":"Link task to project",className:"p-1 text-text-tertiary hover:text-accent opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(nr,{className:"w-4 h-4"})}),(g||b)&&h.jsx("div",{className:`transition-opacity ${m?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:h.jsx($l,{isOpen:m,onToggle:()=>v(!m),onArchive:A,onDelete:R})})]})]})]})]})},rl=pe.memo(Sx),Tx=pe.memo(function({onCapture:n}){const[r,i]=W.useState(""),[o,a]=W.useState("note"),l=p=>{p.preventDefault(),r.trim()&&(n(r.trim(),o),i(""))},s=[{id:"note",label:"Note"},{id:"resource",label:"Resource"},{id:"task",label:"Task"}],u=p=>{p.preventDefault(),p.dataTransfer.dropEffect="none"},f=p=>{p.preventDefault(),p.stopPropagation()};return h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md p-5 flex flex-col h-full",children:[h.jsx("h2",{className:"font-bold text-lg font-heading text-text-primary mb-3 tracking-tight",children:"Capture"}),h.jsxs("form",{onSubmit:l,className:"flex-1 flex flex-col",children:[h.jsx("textarea",{value:r,onChange:p=>i(p.target.value),rows:3,placeholder:"Capture a thought, paste a link...",className:"w-full flex-1 bg-background/50 border border-outline px-3 py-2 text-sm text-text-primary focus:outline-none focus:ring-1 focus:ring-accent rounded-xl mb-3 custom-scrollbar",onDragOver:u,onDrop:f}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex items-center gap-2",children:s.map(p=>h.jsx("button",{type:"button",onClick:()=>a(p.id),className:`px-3 py-1 text-xs font-semibold rounded-lg border transition-colors duration-300 ease-soft ${o===p.id?"bg-accent text-accent-content border-accent":"bg-transparent hover:bg-accent/10 border-outline-dark text-text-secondary hover:text-accent"}`,children:p.label},p.id))}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg active:scale-95",children:"Add"})]})]})]})}),Ox=({projects:e,areas:n,tasks:r,inboxItems:i,onNavigate:o,onToggleTask:a,onOrganizeItem:l,onDirectOrganizeItem:s,onDeleteItem:u,onSaveNewTask:f,onDashboardCapture:p,onSelectItem:c,onReorderTasks:d,onUpdateTask:g,onOpenLinkTaskModal:b,onSelectTask:w})=>{const{state:_,dispatch:m}=Ll(),{draggedItemId:v,draggedItemType:x}=_,[y,k]=W.useState(""),[N,j]=W.useState(null),[E,C]=W.useState(null),[S,T]=W.useState(null),[O,P]=W.useState(!1),[A,R]=W.useState(new Set),{myDayTasks:B,upcomingTasks:z,recentProjects:H,recentAreas:D}=W.useMemo(()=>{const U=new Date;U.setHours(23,59,59,999);const $=r.filter(ne=>ne.status==="active"&&(ne.stage!=="Done"&&(ne.isMyDay||ne.dueDate&&new Date(ne.dueDate)<=U)||A.has(ne.id))),q=new Date(Date.now()+7*24*60*60*1e3),K=r.filter(ne=>ne.status==="active"&&ne.stage!=="Done"&&ne.dueDate&&new Date(ne.dueDate)>U&&new Date(ne.dueDate)<=q).sort((ne,ce)=>new Date(ne.dueDate).getTime()-new Date(ce.dueDate).getTime()).slice(0,5),Z=e.filter(ne=>ne.status==="active").sort((ne,ce)=>new Date(ce.updatedAt).getTime()-new Date(ne.updatedAt).getTime()).slice(0,5),ee=n.filter(ne=>ne.status==="active").sort((ne,ce)=>new Date(ce.updatedAt).getTime()-new Date(ne.updatedAt).getTime()).slice(0,5);return{myDayTasks:$,upcomingTasks:K,recentProjects:Z,recentAreas:ee}},[e,n,r,A]),M=U=>{U.preventDefault(),y.trim()&&(f(y.trim()),k(""))},I=U=>{const $=B.find(q=>q.id===U);$&&$.stage!=="Done"?(R(q=>new Set(q).add(U)),setTimeout(()=>{a(U),R(q=>{const K=new Set(q);return K.delete(U),K})},500)):a(U)},F=U=>{U.preventDefault(),U.dataTransfer.dropEffect="none"},L=U=>{U.preventDefault(),U.stopPropagation()},V=U=>U.id.startsWith("note-")?h.jsx(tt,{className:"w-4 h-4 text-text-tertiary"}):U.id.startsWith("res-")?h.jsx(vt,{className:"w-4 h-4 text-text-tertiary"}):U.id.startsWith("task-")?h.jsx(Zt,{className:"w-4 h-4 text-text-tertiary"}):null;return h.jsxs("div",{className:"custom-scrollbar space-y-8 h-full",children:[h.jsxs("header",{className:"mb-4",children:[h.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-1 font-heading tracking-tight",children:"Home"}),h.jsx("p",{className:"text-text-secondary",children:"Your command center for clarity and action."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"min-h-[350px] lg:min-h-[400px]",onDragOver:U=>{x==="task"&&(U.preventDefault(),U.dataTransfer.dropEffect="move")},onDragEnter:U=>{x==="task"&&(U.preventDefault(),P(!0))},onDragLeave:()=>{P(!1)},onDrop:U=>{U.preventDefault(),v&&x==="task"&&g(v,{isMyDay:!0}),P(!1)},children:h.jsxs(It,{icon:h.jsx(Jn,{className:"w-6 h-6"}),title:"My Day",className:`transition-all duration-300 ease-soft ${O?"bg-accent/10":""}`,children:[h.jsxs("form",{onSubmit:M,className:"flex gap-2 mb-4",children:[h.jsx("input",{type:"text",value:y,onChange:U=>k(U.target.value),placeholder:"Add a task for today...",className:"flex-1 bg-background/50 border border-outline px-3 py-2 text-sm text-text-primary focus:outline-none focus:ring-1 focus:ring-accent rounded-lg",onDragOver:F,onDrop:L}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg active:scale-95",children:"Add"})]}),B.length>0?h.jsx("ul",{className:"flex-auto space-y-1 overflow-y-scroll overflow-x-clip custom-scrollbar -mr-2 pr-2",onDragLeave:()=>C(null),children:B.map(U=>{var q;const $=A.has(U.id);return h.jsxs("li",{draggable:!0,onDragStart:K=>{K.dataTransfer.setData("text/plain",U.id),K.dataTransfer.effectAllowed="move",j(U.id)},onDragEnd:()=>{j(null),C(null)},onDragOver:K=>{N&&(K.preventDefault(),K.dataTransfer.dropEffect="move",C(U.id))},onDrop:K=>{if(N){K.preventDefault(),K.stopPropagation();const Z=K.dataTransfer.getData("text/plain"),ee=U.id;Z&&ee&&Z!==ee&&d(Z,ee),j(null),C(null)}},className:`relative cursor-move transition-opacity ${N===U.id?"opacity-30":"opacity-100"} ${$?"task-item-fading":""}`,children:[E===U.id&&N!==U.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-1 bg-accent rounded-full"}),h.jsx(rl,{task:U,allTasks:r,onToggleTask:I,onSelectTask:w,projectName:U.projectId?(q=e.find(K=>K.id===U.projectId))==null?void 0:q.title:void 0,onUpdateTask:g,onLinkTask:b,isFadingOut:$})]},U.id)})}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-4",children:"No tasks for today. Enjoy the calm!"})]})}),h.jsx("div",{className:"min-h-[350px] lg:min-h-[400px]",children:h.jsx(Tx,{onCapture:p})}),h.jsx("div",{className:"min-h-[350px] lg:min-h-[400px]",children:h.jsx(It,{icon:h.jsx(rx,{className:"w-6 h-6"}),title:"Inbox",children:i.length>0?h.jsx("ul",{className:"space-y-2",children:i.map(U=>h.jsxs("li",{draggable:!0,onDragStart:$=>{$.dataTransfer.setData("text/plain",U.id);const q=Hn(U.id);m({type:"SET_DRAGGED_ITEM",payload:{id:U.id,type:q}})},onDragEnd:()=>m({type:"SET_DRAGGED_ITEM",payload:{id:null,type:null}}),className:`flex justify-between items-center p-2 group hover:bg-neutral rounded-xl transition-all duration-300 ease-soft cursor-grab ${v===U.id?"opacity-30":""}`,children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[V(U),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("button",{onClick:()=>c(U),className:"font-medium truncate text-left w-full block hover:text-accent",children:U.title}),h.jsx(ct,{tags:U.tags,className:"mt-1"})]})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>l(U),className:"text-sm bg-accent hover:bg-accent-hover text-accent-content font-semibold px-2 py-1 transition-colors rounded-md active:scale-95",children:"Organize"}),h.jsx("button",{onClick:()=>u(U.id),className:"p-1 text-text-secondary hover:text-destructive",children:h.jsx(Lo,{className:"w-4 h-4"})})]})]},U.id))}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-4",children:"Inbox is clear. Well done!"})})}),h.jsx("div",{className:"min-h-[350px] lg:min-h-[400px]",children:h.jsx(It,{icon:h.jsx(Or,{className:"w-6 h-6"}),title:"Upcoming",children:z.length>0?h.jsx("ul",{className:"space-y-2",children:z.map(U=>{var $;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>w(U.id),className:"w-full text-left p-2 hover:bg-neutral rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"font-medium",children:U.title}),h.jsx("span",{className:"text-xs text-text-secondary flex-shrink-0",children:Km(U.dueDate)})]}),h.jsx("p",{className:"text-xs text-text-tertiary",children:($=e.find(q=>q.id===U.projectId))==null?void 0:$.title})]})},U.id)})}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-4",children:"Nothing due in the next 7 days."})})}),h.jsx("div",{className:"min-h-[350px] lg:min-h-[400px]",children:h.jsx(It,{icon:h.jsx(gt,{className:"w-6 h-6"}),title:"Recent Projects",children:H.length>0?h.jsx("ul",{className:"space-y-2",children:H.map(U=>{var $;return h.jsx("li",{onDragOver:q=>{v&&q.preventDefault()},onDragEnter:q=>{v&&(q.preventDefault(),T(U.id))},onDragLeave:()=>{v&&T(null)},onDrop:q=>{if(v){q.preventDefault();const K=q.dataTransfer.getData("text/plain");K&&s(K,[U.id]),T(null)}},children:h.jsxs("button",{onClick:()=>o("projects",U.id),className:`w-full flex justify-between items-center text-left p-3 rounded-xl transition-all duration-300 ease-soft hover:-translate-y-0.5 ${S===U.id?"bg-accent/20 ring-2 ring-accent/80 ring-inset":"hover:bg-neutral"}`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:U.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate",children:(($=n.find(q=>q.id===U.areaId))==null?void 0:$.title)||"No Area"})]}),h.jsx(Ud,{className:"w-4 h-4 text-text-tertiary"})]})},U.id)})}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-2",children:"No active projects yet."})})}),h.jsx("div",{className:"min-h-[350px] lg:min-h-[400px]",children:h.jsx(It,{icon:h.jsx(mt,{className:"w-6 h-6"}),title:"Recent Areas",children:D.length>0?h.jsx("ul",{className:"space-y-2",children:D.map(U=>h.jsx("li",{onDragOver:$=>{v&&(x==="note"||x==="resource")&&$.preventDefault()},onDragEnter:$=>{v&&(x==="note"||x==="resource")&&($.preventDefault(),T(U.id))},onDragLeave:()=>{v&&T(null)},onDrop:$=>{if(v){$.preventDefault();const q=$.dataTransfer.getData("text/plain");q&&s(q,[U.id]),T(null)}},children:h.jsxs("button",{onClick:()=>o("areas",U.id),className:`w-full flex justify-between items-center text-left p-3 rounded-xl transition-all duration-300 ease-soft hover:-translate-y-0.5 ${S===U.id?"bg-accent/20 ring-2 ring-accent/80 ring-inset":"hover:bg-neutral"}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(mt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("p",{className:"font-semibold",children:U.title})]}),h.jsx(Ud,{className:"w-4 h-4 text-text-tertiary"})]})},U.id))}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-2",children:"No active areas yet."})})})]})]})},Ax=pe.memo(Ox),Cx=({tags:e,onTagsChange:n,placeholder:r="Add tags..."})=>{const[i,o]=W.useState(""),a=u=>{o(u.target.value)},l=u=>{if(u.key==="Enter"||u.key===","){u.preventDefault();const f=i.trim();f&&!e.includes(f)&&n([...e,f]),o("")}else u.key==="Backspace"&&!i&&e.length>0&&n(e.slice(0,-1))},s=u=>{n(e.filter(f=>f!==u))};return h.jsxs("div",{className:"w-full bg-background/50 border border-outline rounded-lg p-2 flex flex-wrap items-center gap-2 focus-within:ring-1 focus-within:ring-accent",children:[e.map(u=>h.jsx(Gm,{tag:u,onRemove:s},u)),h.jsx("input",{type:"text",value:i,onChange:a,onKeyDown:l,placeholder:r,className:"flex-1 bg-transparent text-sm min-w-[100px] focus:outline-none p-1"})]})},Nr=pe.memo(Cx),Ix=({isOpen:e,onClose:n,onSave:r,projects:i,areas:o,context:a})=>{const[l,s]=W.useState("task"),[u,f]=W.useState(""),[p,c]=W.useState(""),[d,g]=W.useState(""),[b,w]=W.useState(null),[_,m]=W.useState("Medium"),[v,x]=W.useState(""),[y,k]=W.useState([]),[N,j]=W.useState(""),[E,C]=W.useState("");W.useEffect(()=>{a?(s(a.itemType||"task"),w(a.parentId||null)):(s("task"),w(null)),f(""),c(""),g(""),j(""),C(""),m("Medium"),x(""),k([])},[a,e]);const S=W.useMemo(()=>{const A=i.map(B=>({value:B.id,label:`Project: ${B.title}`}));return[...o.map(B=>({value:B.id,label:`Area: ${B.title}`})),...A]},[i,o]),T=A=>{if(A.preventDefault(),!u)return;if(l==="project"&&(!b||!o.some(B=>B.id===b))){alert("A new project must be linked to an area. If you need to create an area first, use the Command Bar (Ctrl+K).");return}let R={title:u,tags:y};switch(l){case"task":R={...R,description:d,priority:_,dueDate:v};break;case"note":R={...R,content:p};break;case"project":case"area":R={...R,description:d};break;case"resource":if(N.trim()===""&&E.trim()===""){alert("A resource must have a URL or some content.");return}R.url=N.trim()?N.trim():void 0,R.content=E.trim()?E.trim():void 0;break}r(R,l,b)};if(!e)return null;const O=()=>l==="task"?"Link to Project (Optional)":l==="project"?"Link to Area":l==="area"?"":"Link to Project or Area (Optional)",P=W.useMemo(()=>l==="task"?S.filter(A=>A.value.startsWith("proj-")):l==="project"?S.filter(A=>A.value.startsWith("area-")):S,[l,S]);return h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"capture-modal-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:A=>A.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsxs("h2",{id:"capture-modal-title",className:"text-xl font-bold font-heading",children:["New ",l.charAt(0).toUpperCase()+l.slice(1)]}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:T,className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"item-title",type:"text",value:u,onChange:A=>f(A.target.value),placeholder:"Enter title...",required:!0,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent"})]}),(l==="project"||l==="area"||l==="task")&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-description",className:"sr-only",children:"Description"}),h.jsx("textarea",{id:"item-description",value:d,onChange:A=>g(A.target.value),rows:3,placeholder:`Enter ${l} description... (Optional)`,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]}),l==="note"&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-content",className:"sr-only",children:"Content"}),h.jsx("textarea",{id:"item-content",value:p,onChange:A=>c(A.target.value),rows:5,placeholder:"Write your note here...",className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]}),l==="resource"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"resource-url",className:"sr-only",children:"URL"}),h.jsx("input",{id:"resource-url",type:"text",value:N,onChange:A=>j(A.target.value),placeholder:"URL (Optional)",className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"resource-notes",className:"sr-only",children:"Content / Notes"}),h.jsx("textarea",{id:"resource-notes",value:E,onChange:A=>C(A.target.value),rows:4,placeholder:"Content / Notes",className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]})]}),l==="task"&&h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"task-priority",className:"block text-sm font-medium text-text-secondary mb-2",children:"Priority"}),h.jsxs("select",{id:"task-priority",value:_,onChange:A=>m(A.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent",children:[h.jsx("option",{className:"text-black bg-white",children:"Low"}),h.jsx("option",{className:"text-black bg-white",children:"Medium"}),h.jsx("option",{className:"text-black bg-white",children:"High"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"task-duedate",className:"block text-sm font-medium text-text-secondary mb-2",children:"Due Date"}),h.jsx("input",{type:"date",id:"task-duedate",value:v,onChange:A=>x(A.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent"})]})]}),O()&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-parent",className:"block text-sm font-medium text-text-secondary mb-2",children:O()}),h.jsxs("select",{id:"item-parent",value:b||"",onChange:A=>w(A.target.value||null),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent",children:[h.jsx("option",{value:"",className:"text-black bg-white",children:"None"}),P.map(A=>h.jsx("option",{value:A.value,className:"text-black bg-white",children:A.label},A.value))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:y,onTagsChange:k})]})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save"})]})})]})]})})},Px=pe.memo(Ix);function Dx(){this.__data__=[],this.size=0}var Mx=Dx;function Rx(e,n){return e===n||e!==e&&n!==n}var Qm=Rx,Lx=Qm;function $x(e,n){for(var r=e.length;r--;)if(Lx(e[r][0],n))return r;return-1}var zl=$x,zx=zl,Fx=Array.prototype,Bx=Fx.splice;function Ux(e){var n=this.__data__,r=zx(n,e);if(r<0)return!1;var i=n.length-1;return r==i?n.pop():Bx.call(n,r,1),--this.size,!0}var qx=Ux,Hx=zl;function Vx(e){var n=this.__data__,r=Hx(n,e);return r<0?void 0:n[r][1]}var Wx=Vx,Gx=zl;function Kx(e){return Gx(this.__data__,e)>-1}var Yx=Kx,Qx=zl;function Zx(e,n){var r=this.__data__,i=Qx(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}var Xx=Zx,Jx=Mx,eb=qx,tb=Wx,nb=Yx,rb=Xx;function hi(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}hi.prototype.clear=Jx;hi.prototype.delete=eb;hi.prototype.get=tb;hi.prototype.has=nb;hi.prototype.set=rb;var Fl=hi,ib=Fl;function ob(){this.__data__=new ib,this.size=0}var ab=ob;function lb(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}var sb=lb;function ub(e){return this.__data__.get(e)}var cb=ub;function fb(e){return this.__data__.has(e)}var db=fb,hb=typeof _t=="object"&&_t&&_t.Object===Object&&_t,Zm=hb,pb=Zm,gb=typeof self=="object"&&self&&self.Object===Object&&self,mb=pb||gb||Function("return this")(),Cn=mb,vb=Cn,yb=vb.Symbol,df=yb,Hd=df,Xm=Object.prototype,xb=Xm.hasOwnProperty,bb=Xm.toString,Ai=Hd?Hd.toStringTag:void 0;function _b(e){var n=xb.call(e,Ai),r=e[Ai];try{e[Ai]=void 0;var i=!0}catch{}var o=bb.call(e);return i&&(n?e[Ai]=r:delete e[Ai]),o}var wb=_b,kb=Object.prototype,jb=kb.toString;function Nb(e){return jb.call(e)}var Eb=Nb,Vd=df,Sb=wb,Tb=Eb,Ob="[object Null]",Ab="[object Undefined]",Wd=Vd?Vd.toStringTag:void 0;function Cb(e){return e==null?e===void 0?Ab:Ob:Wd&&Wd in Object(e)?Sb(e):Tb(e)}var Bl=Cb;function Ib(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Jm=Ib,Pb=Bl,Db=Jm,Mb="[object AsyncFunction]",Rb="[object Function]",Lb="[object GeneratorFunction]",$b="[object Proxy]";function zb(e){if(!Db(e))return!1;var n=Pb(e);return n==Rb||n==Lb||n==Mb||n==$b}var ev=zb,Fb=Cn,Bb=Fb["__core-js_shared__"],Ub=Bb,Ts=Ub,Gd=function(){var e=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qb(e){return!!Gd&&Gd in e}var Hb=qb,Vb=Function.prototype,Wb=Vb.toString;function Gb(e){if(e!=null){try{return Wb.call(e)}catch{}try{return e+""}catch{}}return""}var tv=Gb,Kb=ev,Yb=Hb,Qb=Jm,Zb=tv,Xb=/[\\^$.*+?()[\]{}|]/g,Jb=/^\[object .+?Constructor\]$/,e_=Function.prototype,t_=Object.prototype,n_=e_.toString,r_=t_.hasOwnProperty,i_=RegExp("^"+n_.call(r_).replace(Xb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o_(e){if(!Qb(e)||Yb(e))return!1;var n=Kb(e)?i_:Jb;return n.test(Zb(e))}var a_=o_;function l_(e,n){return e==null?void 0:e[n]}var s_=l_,u_=a_,c_=s_;function f_(e,n){var r=c_(e,n);return u_(r)?r:void 0}var pi=f_,d_=pi,h_=Cn,p_=d_(h_,"Map"),hf=p_,g_=pi,m_=g_(Object,"create"),Ul=m_,Kd=Ul;function v_(){this.__data__=Kd?Kd(null):{},this.size=0}var y_=v_;function x_(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var b_=x_,__=Ul,w_="__lodash_hash_undefined__",k_=Object.prototype,j_=k_.hasOwnProperty;function N_(e){var n=this.__data__;if(__){var r=n[e];return r===w_?void 0:r}return j_.call(n,e)?n[e]:void 0}var E_=N_,S_=Ul,T_=Object.prototype,O_=T_.hasOwnProperty;function A_(e){var n=this.__data__;return S_?n[e]!==void 0:O_.call(n,e)}var C_=A_,I_=Ul,P_="__lodash_hash_undefined__";function D_(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=I_&&n===void 0?P_:n,this}var M_=D_,R_=y_,L_=b_,$_=E_,z_=C_,F_=M_;function gi(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}gi.prototype.clear=R_;gi.prototype.delete=L_;gi.prototype.get=$_;gi.prototype.has=z_;gi.prototype.set=F_;var B_=gi,Yd=B_,U_=Fl,q_=hf;function H_(){this.size=0,this.__data__={hash:new Yd,map:new(q_||U_),string:new Yd}}var V_=H_;function W_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var G_=W_,K_=G_;function Y_(e,n){var r=e.__data__;return K_(n)?r[typeof n=="string"?"string":"hash"]:r.map}var ql=Y_,Q_=ql;function Z_(e){var n=Q_(this,e).delete(e);return this.size-=n?1:0,n}var X_=Z_,J_=ql;function e2(e){return J_(this,e).get(e)}var t2=e2,n2=ql;function r2(e){return n2(this,e).has(e)}var i2=r2,o2=ql;function a2(e,n){var r=o2(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}var l2=a2,s2=V_,u2=X_,c2=t2,f2=i2,d2=l2;function mi(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}mi.prototype.clear=s2;mi.prototype.delete=u2;mi.prototype.get=c2;mi.prototype.has=f2;mi.prototype.set=d2;var nv=mi,h2=Fl,p2=hf,g2=nv,m2=200;function v2(e,n){var r=this.__data__;if(r instanceof h2){var i=r.__data__;if(!p2||i.length<m2-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new g2(i)}return r.set(e,n),this.size=r.size,this}var y2=v2,x2=Fl,b2=ab,_2=sb,w2=cb,k2=db,j2=y2;function vi(e){var n=this.__data__=new x2(e);this.size=n.size}vi.prototype.clear=b2;vi.prototype.delete=_2;vi.prototype.get=w2;vi.prototype.has=k2;vi.prototype.set=j2;var N2=vi,E2="__lodash_hash_undefined__";function S2(e){return this.__data__.set(e,E2),this}var T2=S2;function O2(e){return this.__data__.has(e)}var A2=O2,C2=nv,I2=T2,P2=A2;function il(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new C2;++n<r;)this.add(e[n])}il.prototype.add=il.prototype.push=I2;il.prototype.has=P2;var D2=il;function M2(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}var R2=M2;function L2(e,n){return e.has(n)}var $2=L2,z2=D2,F2=R2,B2=$2,U2=1,q2=2;function H2(e,n,r,i,o,a){var l=r&U2,s=e.length,u=n.length;if(s!=u&&!(l&&u>s))return!1;var f=a.get(e),p=a.get(n);if(f&&p)return f==n&&p==e;var c=-1,d=!0,g=r&q2?new z2:void 0;for(a.set(e,n),a.set(n,e);++c<s;){var b=e[c],w=n[c];if(i)var _=l?i(w,b,c,n,e,a):i(b,w,c,e,n,a);if(_!==void 0){if(_)continue;d=!1;break}if(g){if(!F2(n,function(m,v){if(!B2(g,v)&&(b===m||o(b,m,r,i,a)))return g.push(v)})){d=!1;break}}else if(!(b===w||o(b,w,r,i,a))){d=!1;break}}return a.delete(e),a.delete(n),d}var rv=H2,V2=Cn,W2=V2.Uint8Array,G2=W2;function K2(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}var Y2=K2;function Q2(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}var Z2=Q2,Qd=df,Zd=G2,X2=Qm,J2=rv,ew=Y2,tw=Z2,nw=1,rw=2,iw="[object Boolean]",ow="[object Date]",aw="[object Error]",lw="[object Map]",sw="[object Number]",uw="[object RegExp]",cw="[object Set]",fw="[object String]",dw="[object Symbol]",hw="[object ArrayBuffer]",pw="[object DataView]",Xd=Qd?Qd.prototype:void 0,Os=Xd?Xd.valueOf:void 0;function gw(e,n,r,i,o,a,l){switch(r){case pw:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case hw:return!(e.byteLength!=n.byteLength||!a(new Zd(e),new Zd(n)));case iw:case ow:case sw:return X2(+e,+n);case aw:return e.name==n.name&&e.message==n.message;case uw:case fw:return e==n+"";case lw:var s=ew;case cw:var u=i&nw;if(s||(s=tw),e.size!=n.size&&!u)return!1;var f=l.get(e);if(f)return f==n;i|=rw,l.set(e,n);var p=J2(s(e),s(n),i,o,a,l);return l.delete(e),p;case dw:if(Os)return Os.call(e)==Os.call(n)}return!1}var mw=gw;function vw(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}var yw=vw,xw=Array.isArray,pf=xw,bw=yw,_w=pf;function ww(e,n,r){var i=n(e);return _w(e)?i:bw(i,r(e))}var kw=ww;function jw(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[o++]=l)}return a}var Nw=jw;function Ew(){return[]}var Sw=Ew,Tw=Nw,Ow=Sw,Aw=Object.prototype,Cw=Aw.propertyIsEnumerable,Jd=Object.getOwnPropertySymbols,Iw=Jd?function(e){return e==null?[]:(e=Object(e),Tw(Jd(e),function(n){return Cw.call(e,n)}))}:Ow,Pw=Iw;function Dw(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}var Mw=Dw;function Rw(e){return e!=null&&typeof e=="object"}var Hl=Rw,Lw=Bl,$w=Hl,zw="[object Arguments]";function Fw(e){return $w(e)&&Lw(e)==zw}var Bw=Fw,eh=Bw,Uw=Hl,iv=Object.prototype,qw=iv.hasOwnProperty,Hw=iv.propertyIsEnumerable,Vw=eh(function(){return arguments}())?eh:function(e){return Uw(e)&&qw.call(e,"callee")&&!Hw.call(e,"callee")},Ww=Vw,ol={exports:{}};function Gw(){return!1}var Kw=Gw;ol.exports;(function(e,n){var r=Cn,i=Kw,o=n&&!n.nodeType&&n,a=o&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===o,s=l?r.Buffer:void 0,u=s?s.isBuffer:void 0,f=u||i;e.exports=f})(ol,ol.exports);var ov=ol.exports,Yw=9007199254740991,Qw=/^(?:0|[1-9]\d*)$/;function Zw(e,n){var r=typeof e;return n=n??Yw,!!n&&(r=="number"||r!="symbol"&&Qw.test(e))&&e>-1&&e%1==0&&e<n}var Xw=Zw,Jw=9007199254740991;function ek(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jw}var av=ek,tk=Bl,nk=av,rk=Hl,ik="[object Arguments]",ok="[object Array]",ak="[object Boolean]",lk="[object Date]",sk="[object Error]",uk="[object Function]",ck="[object Map]",fk="[object Number]",dk="[object Object]",hk="[object RegExp]",pk="[object Set]",gk="[object String]",mk="[object WeakMap]",vk="[object ArrayBuffer]",yk="[object DataView]",xk="[object Float32Array]",bk="[object Float64Array]",_k="[object Int8Array]",wk="[object Int16Array]",kk="[object Int32Array]",jk="[object Uint8Array]",Nk="[object Uint8ClampedArray]",Ek="[object Uint16Array]",Sk="[object Uint32Array]",Se={};Se[xk]=Se[bk]=Se[_k]=Se[wk]=Se[kk]=Se[jk]=Se[Nk]=Se[Ek]=Se[Sk]=!0;Se[ik]=Se[ok]=Se[vk]=Se[ak]=Se[yk]=Se[lk]=Se[sk]=Se[uk]=Se[ck]=Se[fk]=Se[dk]=Se[hk]=Se[pk]=Se[gk]=Se[mk]=!1;function Tk(e){return rk(e)&&nk(e.length)&&!!Se[tk(e)]}var Ok=Tk;function Ak(e){return function(n){return e(n)}}var Ck=Ak,al={exports:{}};al.exports;(function(e,n){var r=Zm,i=n&&!n.nodeType&&n,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,l=a&&r.process,s=function(){try{var u=o&&o.require&&o.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}}();e.exports=s})(al,al.exports);var Ik=al.exports,Pk=Ok,Dk=Ck,th=Ik,nh=th&&th.isTypedArray,Mk=nh?Dk(nh):Pk,lv=Mk,Rk=Mw,Lk=Ww,$k=pf,zk=ov,Fk=Xw,Bk=lv,Uk=Object.prototype,qk=Uk.hasOwnProperty;function Hk(e,n){var r=$k(e),i=!r&&Lk(e),o=!r&&!i&&zk(e),a=!r&&!i&&!o&&Bk(e),l=r||i||o||a,s=l?Rk(e.length,String):[],u=s.length;for(var f in e)(n||qk.call(e,f))&&!(l&&(f=="length"||o&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Fk(f,u)))&&s.push(f);return s}var Vk=Hk,Wk=Object.prototype;function Gk(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Wk;return e===r}var Kk=Gk;function Yk(e,n){return function(r){return e(n(r))}}var Qk=Yk,Zk=Qk,Xk=Zk(Object.keys,Object),Jk=Xk,ej=Kk,tj=Jk,nj=Object.prototype,rj=nj.hasOwnProperty;function ij(e){if(!ej(e))return tj(e);var n=[];for(var r in Object(e))rj.call(e,r)&&r!="constructor"&&n.push(r);return n}var oj=ij,aj=ev,lj=av;function sj(e){return e!=null&&lj(e.length)&&!aj(e)}var uj=sj,cj=Vk,fj=oj,dj=uj;function hj(e){return dj(e)?cj(e):fj(e)}var pj=hj,gj=kw,mj=Pw,vj=pj;function yj(e){return gj(e,vj,mj)}var xj=yj,rh=xj,bj=1,_j=Object.prototype,wj=_j.hasOwnProperty;function kj(e,n,r,i,o,a){var l=r&bj,s=rh(e),u=s.length,f=rh(n),p=f.length;if(u!=p&&!l)return!1;for(var c=u;c--;){var d=s[c];if(!(l?d in n:wj.call(n,d)))return!1}var g=a.get(e),b=a.get(n);if(g&&b)return g==n&&b==e;var w=!0;a.set(e,n),a.set(n,e);for(var _=l;++c<u;){d=s[c];var m=e[d],v=n[d];if(i)var x=l?i(v,m,d,n,e,a):i(m,v,d,e,n,a);if(!(x===void 0?m===v||o(m,v,r,i,a):x)){w=!1;break}_||(_=d=="constructor")}if(w&&!_){var y=e.constructor,k=n.constructor;y!=k&&"constructor"in e&&"constructor"in n&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(w=!1)}return a.delete(e),a.delete(n),w}var jj=kj,Nj=pi,Ej=Cn,Sj=Nj(Ej,"DataView"),Tj=Sj,Oj=pi,Aj=Cn,Cj=Oj(Aj,"Promise"),Ij=Cj,Pj=pi,Dj=Cn,Mj=Pj(Dj,"Set"),Rj=Mj,Lj=pi,$j=Cn,zj=Lj($j,"WeakMap"),Fj=zj,Ru=Tj,Lu=hf,$u=Ij,zu=Rj,Fu=Fj,sv=Bl,yi=tv,ih="[object Map]",Bj="[object Object]",oh="[object Promise]",ah="[object Set]",lh="[object WeakMap]",sh="[object DataView]",Uj=yi(Ru),qj=yi(Lu),Hj=yi($u),Vj=yi(zu),Wj=yi(Fu),ur=sv;(Ru&&ur(new Ru(new ArrayBuffer(1)))!=sh||Lu&&ur(new Lu)!=ih||$u&&ur($u.resolve())!=oh||zu&&ur(new zu)!=ah||Fu&&ur(new Fu)!=lh)&&(ur=function(e){var n=sv(e),r=n==Bj?e.constructor:void 0,i=r?yi(r):"";if(i)switch(i){case Uj:return sh;case qj:return ih;case Hj:return oh;case Vj:return ah;case Wj:return lh}return n});var Gj=ur,As=N2,Kj=rv,Yj=mw,Qj=jj,uh=Gj,ch=pf,fh=ov,Zj=lv,Xj=1,dh="[object Arguments]",hh="[object Array]",aa="[object Object]",Jj=Object.prototype,ph=Jj.hasOwnProperty;function eN(e,n,r,i,o,a){var l=ch(e),s=ch(n),u=l?hh:uh(e),f=s?hh:uh(n);u=u==dh?aa:u,f=f==dh?aa:f;var p=u==aa,c=f==aa,d=u==f;if(d&&fh(e)){if(!fh(n))return!1;l=!0,p=!1}if(d&&!p)return a||(a=new As),l||Zj(e)?Kj(e,n,r,i,o,a):Yj(e,n,u,r,i,o,a);if(!(r&Xj)){var g=p&&ph.call(e,"__wrapped__"),b=c&&ph.call(n,"__wrapped__");if(g||b){var w=g?e.value():e,_=b?n.value():n;return a||(a=new As),o(w,_,r,i,a)}}return d?(a||(a=new As),Qj(e,n,r,i,o,a)):!1}var tN=eN,nN=tN,gh=Hl;function uv(e,n,r,i,o){return e===n?!0:e==null||n==null||!gh(e)&&!gh(n)?e!==e&&n!==n:nN(e,n,r,i,uv,o)}var rN=uv,iN=rN;function oN(e,n){return iN(e,n)}var aN=oN,cv={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,n){(function(i,o){e.exports=o()})(typeof self<"u"?self:_t,function(){return function(r){var i={};function o(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return r[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=r,o.c=i,o.d=function(a,l,s){o.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:s})},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s=109)}([function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(17),l=o(18),s=o(19),u=o(45),f=o(46),p=o(47),c=o(48),d=o(49),g=o(12),b=o(32),w=o(33),_=o(31),m=o(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:a.default,Format:l.default,Leaf:s.default,Embed:c.default,Scroll:u.default,Block:p.default,Inline:f.default,Text:d.default,Attributor:{Attribute:g.default,Class:b.default,Style:w.default,Store:_.default}};i.default=v},function(r,i,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var x in v)v.hasOwnProperty(x)&&(m[x]=v[x])};return function(m,v){_(m,v);function x(){this.constructor=m}m.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=function(_){a(m,_);function m(v){var x=this;return v="[Parchment] "+v,x=_.call(this,v)||this,x.message=v,x.name=x.constructor.name,x}return m}(Error);i.ParchmentError=l;var s={},u={},f={},p={};i.DATA_KEY="__blot";var c;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(c=i.Scope||(i.Scope={}));function d(_,m){var v=b(_);if(v==null)throw new l("Unable to create "+_+" blot");var x=v,y=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:x.create(m);return new x(y,m)}i.create=d;function g(_,m){return m===void 0&&(m=!1),_==null?null:_[i.DATA_KEY]!=null?_[i.DATA_KEY].blot:m?g(_.parentNode,m):null}i.find=g;function b(_,m){m===void 0&&(m=c.ANY);var v;if(typeof _=="string")v=p[_]||s[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)v=p.text;else if(typeof _=="number")_&c.LEVEL&c.BLOCK?v=p.block:_&c.LEVEL&c.INLINE&&(v=p.inline);else if(_ instanceof HTMLElement){var x=(_.getAttribute("class")||"").split(/\s+/);for(var y in x)if(v=u[x[y]],v)break;v=v||f[_.tagName]}return v==null?null:m&c.LEVEL&v.scope&&m&c.TYPE&v.scope?v:null}i.query=b;function w(){for(var _=[],m=0;m<arguments.length;m++)_[m]=arguments[m];if(_.length>1)return _.map(function(y){return w(y)});var v=_[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new l("Invalid definition");if(v.blotName==="abstract")throw new l("Cannot register abstract class");if(p[v.blotName||v.attrName]=v,typeof v.keyName=="string")s[v.keyName]=v;else if(v.className!=null&&(u[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(y){return y.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var x=Array.isArray(v.tagName)?v.tagName:[v.tagName];x.forEach(function(y){(f[y]==null||v.className==null)&&(f[y]=v)})}return v}i.register=w},function(r,i,o){var a=o(51),l=o(11),s=o(3),u=o(20),f="\0",p=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};p.prototype.insert=function(c,d){var g={};return c.length===0?this:(g.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g))},p.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},p.prototype.retain=function(c,d){if(c<=0)return this;var g={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g)},p.prototype.push=function(c){var d=this.ops.length,g=this.ops[d-1];if(c=s(!0,{},c),typeof g=="object"){if(typeof c.delete=="number"&&typeof g.delete=="number")return this.ops[d-1]={delete:g.delete+c.delete},this;if(typeof g.delete=="number"&&c.insert!=null&&(d-=1,g=this.ops[d-1],typeof g!="object"))return this.ops.unshift(c),this;if(l(c.attributes,g.attributes)){if(typeof c.insert=="string"&&typeof g.insert=="string")return this.ops[d-1]={insert:g.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof g.retain=="number")return this.ops[d-1]={retain:g.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},p.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},p.prototype.filter=function(c){return this.ops.filter(c)},p.prototype.forEach=function(c){this.ops.forEach(c)},p.prototype.map=function(c){return this.ops.map(c)},p.prototype.partition=function(c){var d=[],g=[];return this.forEach(function(b){var w=c(b)?d:g;w.push(b)}),[d,g]},p.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},p.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+u.length(d):d.delete?c-d.delete:c},0)},p.prototype.length=function(){return this.reduce(function(c,d){return c+u.length(d)},0)},p.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var g=[],b=u.iterator(this.ops),w=0;w<d&&b.hasNext();){var _;w<c?_=b.next(c-w):(_=b.next(d-w),g.push(_)),w+=u.length(_)}return new p(g)},p.prototype.compose=function(c){var d=u.iterator(this.ops),g=u.iterator(c.ops),b=[],w=g.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){for(var _=w.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),b.push(d.next());w.retain-_>0&&g.next(w.retain-_)}for(var m=new p(b);d.hasNext()||g.hasNext();)if(g.peekType()==="insert")m.push(g.next());else if(d.peekType()==="delete")m.push(d.next());else{var v=Math.min(d.peekLength(),g.peekLength()),x=d.next(v),y=g.next(v);if(typeof y.retain=="number"){var k={};typeof x.retain=="number"?k.retain=v:k.insert=x.insert;var N=u.attributes.compose(x.attributes,y.attributes,typeof x.retain=="number");if(N&&(k.attributes=N),m.push(k),!g.hasNext()&&l(m.ops[m.ops.length-1],k)){var j=new p(d.rest());return m.concat(j).chop()}}else typeof y.delete=="number"&&typeof x.retain=="number"&&m.push(y)}return m.chop()},p.prototype.concat=function(c){var d=new p(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},p.prototype.diff=function(c,d){if(this.ops===c.ops)return new p;var g=[this,c].map(function(v){return v.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:f;var y=v===c?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),b=new p,w=a(g[0],g[1],d),_=u.iterator(this.ops),m=u.iterator(c.ops);return w.forEach(function(v){for(var x=v[1].length;x>0;){var y=0;switch(v[0]){case a.INSERT:y=Math.min(m.peekLength(),x),b.push(m.next(y));break;case a.DELETE:y=Math.min(x,_.peekLength()),_.next(y),b.delete(y);break;case a.EQUAL:y=Math.min(_.peekLength(),m.peekLength(),x);var k=_.next(y),N=m.next(y);l(k.insert,N.insert)?b.retain(y,u.attributes.diff(k.attributes,N.attributes)):b.push(N).delete(y);break}x-=y}}),b.chop()},p.prototype.eachLine=function(c,d){d=d||`
`;for(var g=u.iterator(this.ops),b=new p,w=0;g.hasNext();){if(g.peekType()!=="insert")return;var _=g.peek(),m=u.length(_)-g.peekLength(),v=typeof _.insert=="string"?_.insert.indexOf(d,m)-m:-1;if(v<0)b.push(g.next());else if(v>0)b.push(g.next(v));else{if(c(b,g.next(1).attributes||{},w)===!1)return;w+=1,b=new p}}b.length()>0&&c(b,{},w)},p.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var g=u.iterator(this.ops),b=u.iterator(c.ops),w=new p;g.hasNext()||b.hasNext();)if(g.peekType()==="insert"&&(d||b.peekType()!=="insert"))w.retain(u.length(g.next()));else if(b.peekType()==="insert")w.push(b.next());else{var _=Math.min(g.peekLength(),b.peekLength()),m=g.next(_),v=b.next(_);if(m.delete)continue;v.delete?w.push(v):w.retain(_,u.attributes.transform(m.attributes,v.attributes,d))}return w.chop()},p.prototype.transformPosition=function(c,d){d=!!d;for(var g=u.iterator(this.ops),b=0;g.hasNext()&&b<=c;){var w=g.peekLength(),_=g.peekType();if(g.next(),_==="delete"){c-=Math.min(w,c-b);continue}else _==="insert"&&(b<c||!d)&&(c+=w);b+=w}return c},r.exports=p},function(r,i){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=function(g){return typeof Array.isArray=="function"?Array.isArray(g):a.call(g)==="[object Array]"},f=function(g){if(!g||a.call(g)!=="[object Object]")return!1;var b=o.call(g,"constructor"),w=g.constructor&&g.constructor.prototype&&o.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!b&&!w)return!1;var _;for(_ in g);return typeof _>"u"||o.call(g,_)},p=function(g,b){l&&b.name==="__proto__"?l(g,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):g[b.name]=b.newValue},c=function(g,b){if(b==="__proto__")if(o.call(g,b)){if(s)return s(g,b).value}else return;return g[b]};r.exports=function d(){var g,b,w,_,m,v,x=arguments[0],y=1,k=arguments.length,N=!1;for(typeof x=="boolean"&&(N=x,x=arguments[1]||{},y=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});y<k;++y)if(g=arguments[y],g!=null)for(b in g)w=c(x,b),_=c(g,b),x!==_&&(N&&_&&(f(_)||(m=u(_)))?(m?(m=!1,v=w&&u(w)?w:[]):v=w&&f(w)?w:{},p(x,{name:b,newValue:d(N,v,_)})):typeof _<"u"&&p(x,{name:b,newValue:_}));return x}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var a=function(){function T(O,P){for(var A=0;A<P.length;A++){var R=P[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,P,A){return P&&T(O.prototype,P),A&&T(O,A),O}}(),l=function T(O,P,A){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,P);if(R===void 0){var B=Object.getPrototypeOf(O);return B===null?void 0:T(B,P,A)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(A)}},s=o(3),u=x(s),f=o(2),p=x(f),c=o(0),d=x(c),g=o(16),b=x(g),w=o(6),_=x(w),m=o(7),v=x(m);function x(T){return T&&T.__esModule?T:{default:T}}function y(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function k(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function N(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var j=1,E=function(T){N(O,T);function O(){return y(this,O),k(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"attach",value:function(){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,R){var B=d.default.query(A,d.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,R)}},{key:"formatAt",value:function(A,R,B,z){this.format(B,z)}},{key:"insertAt",value:function(A,R,B){if(typeof R=="string"&&R.endsWith(`
`)){var z=d.default.create(C.blotName);this.parent.insertBefore(z,A===0?this:this.next),z.insertAt(0,R.slice(0,-1))}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,A,R,B)}}]),O}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var C=function(T){N(O,T);function O(P){y(this,O);var A=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return A.cache={},A}return a(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(A,R){return R.length()===0?A:A.insert(R.value(),S(R))},new p.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(A,R){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,A,R),this.cache={}}},{key:"formatAt",value:function(A,R,B,z){R<=0||(d.default.query(B,d.default.Scope.BLOCK)?A+R===this.length()&&this.format(B,z):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,A,Math.min(R,this.length()-A-1),B,z),this.cache={})}},{key:"insertAt",value:function(A,R,B){if(B!=null)return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,A,R,B);if(R.length!==0){var z=R.split(`
`),H=z.shift();H.length>0&&(A<this.length()-1||this.children.tail==null?l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var D=this;z.reduce(function(M,I){return D=D.split(M,!0),D.insertAt(0,I),I.length},A+H.length)}}},{key:"insertBefore",value:function(A,R){var B=this.children.head;l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,A,R),B instanceof b.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(A,R){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,A,R),this.cache={}}},{key:"optimize",value:function(A){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R&&(A===0||A>=this.length()-j)){var B=this.clone();return A===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var z=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,A,R);return this.cache={},z}}}]),O}(d.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[_.default,d.default.Embed,v.default];function S(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(O=(0,u.default)(O,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?O:S(T.parent,O)}i.bubbleFormats=S,i.BlockEmbed=E,i.default=C},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l=function(){function D(M,I){var F=[],L=!0,V=!1,U=void 0;try{for(var $=M[Symbol.iterator](),q;!(L=(q=$.next()).done)&&(F.push(q.value),!(I&&F.length===I));L=!0);}catch(K){V=!0,U=K}finally{try{!L&&$.return&&$.return()}finally{if(V)throw U}}return F}return function(M,I){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(M,I){for(var F=0;F<I.length;F++){var L=I[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,I,F){return I&&D(M.prototype,I),F&&D(M,F),M}}();o(50);var u=o(2),f=S(u),p=o(14),c=S(p),d=o(8),g=S(d),b=o(9),w=S(b),_=o(0),m=S(_),v=o(15),x=S(v),y=o(3),k=S(y),N=o(10),j=S(N),E=o(34),C=S(E);function S(D){return D&&D.__esModule?D:{default:D}}function T(D,M,I){return M in D?Object.defineProperty(D,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[M]=I,D}function O(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}var P=(0,j.default)("quill"),A=function(){s(D,null,[{key:"debug",value:function(I){I===!0&&(I="log"),j.default.level(I)}},{key:"find",value:function(I){return I.__quill||m.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&P.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,F){var L=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var U=I.attrName||I.blotName;typeof U=="string"?this.register("formats/"+U,I,F):Object.keys(I).forEach(function($){L.register($,I[$],F)})}else this.imports[I]!=null&&!V&&P.warn("Overwriting "+I+" with",F),this.imports[I]=F,(I.startsWith("blots/")||I.startsWith("formats/"))&&F.blotName!=="abstract"?m.default.register(F):I.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function D(M){var I=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,D),this.options=R(M,F),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",M);this.options.debug&&D.debug(this.options.debug);var L=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(U){U===g.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(U,$){var q=I.selection.lastRange,K=q&&q.length===0?q.index:void 0;B.call(I,function(){return I.editor.update(null,$,K)},U)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+L+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(D,[{key:"addContainer",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var L=I;I=document.createElement("div"),I.classList.add(L)}return this.container.insertBefore(I,F),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,F,L){var V=this,U=z(I,F,L),$=l(U,4);return I=$[0],F=$[1],L=$[3],B.call(this,function(){return V.editor.deleteText(I,F)},L,I,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,F){var L=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return B.call(this,function(){var U=L.getSelection(!0),$=new f.default;if(U==null)return $;if(m.default.query(I,m.default.Scope.BLOCK))$=L.editor.formatLine(U.index,U.length,T({},I,F));else{if(U.length===0)return L.selection.format(I,F),$;$=L.editor.formatText(U.index,U.length,T({},I,F))}return L.setSelection(U,g.default.sources.SILENT),$},V)}},{key:"formatLine",value:function(I,F,L,V,U){var $=this,q=void 0,K=z(I,F,L,V,U),Z=l(K,4);return I=Z[0],F=Z[1],q=Z[2],U=Z[3],B.call(this,function(){return $.editor.formatLine(I,F,q)},U,I,0)}},{key:"formatText",value:function(I,F,L,V,U){var $=this,q=void 0,K=z(I,F,L,V,U),Z=l(K,4);return I=Z[0],F=Z[1],q=Z[2],U=Z[3],B.call(this,function(){return $.editor.formatText(I,F,q)},U,I,0)}},{key:"getBounds",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=void 0;typeof I=="number"?L=this.selection.getBounds(I,F):L=this.selection.getBounds(I.index,I.length);var V=this.container.getBoundingClientRect();return{bottom:L.bottom-V.top,height:L.height,left:L.left-V.left,right:L.right-V.left,top:L.top-V.top,width:L.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,L=z(I,F),V=l(L,2);return I=V[0],F=V[1],this.editor.getContents(I,F)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,F):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,F)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,L=z(I,F),V=l(L,2);return I=V[0],F=V[1],this.editor.getText(I,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,F,L){var V=this,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return B.call(this,function(){return V.editor.insertEmbed(I,F,L)},U,I)}},{key:"insertText",value:function(I,F,L,V,U){var $=this,q=void 0,K=z(I,0,L,V,U),Z=l(K,4);return I=Z[0],q=Z[2],U=Z[3],B.call(this,function(){return $.editor.insertText(I,F,q)},U,I,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,F,L){this.clipboard.dangerouslyPasteHTML(I,F,L)}},{key:"removeFormat",value:function(I,F,L){var V=this,U=z(I,F,L),$=l(U,4);return I=$[0],F=$[1],L=$[3],B.call(this,function(){return V.editor.removeFormat(I,F)},L,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var F=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return B.call(this,function(){I=new f.default(I);var V=F.getLength(),U=F.editor.deleteText(0,V),$=F.editor.applyDelta(I),q=$.ops[$.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),$.delete(1));var K=U.compose($);return K},L)}},{key:"setSelection",value:function(I,F,L){if(I==null)this.selection.setRange(null,F||D.sources.API);else{var V=z(I,F,L),U=l(V,4);I=U[0],F=U[1],L=U[3],this.selection.setRange(new v.Range(I,F),L),L!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,L=new f.default().insert(I);return this.setContents(L,F)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,F=this.scroll.update(I);return this.selection.update(I),F}},{key:"updateContents",value:function(I){var F=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return B.call(this,function(){return I=new f.default(I),F.editor.applyDelta(I,L)},L,!0)}}]),D}();A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=g.default.events,A.sources=g.default.sources,A.version="1.3.7",A.imports={delta:f.default,parchment:m.default,"core/module":w.default,"core/theme":C.default};function R(D,M){if(M=(0,k.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===A.DEFAULTS.theme)M.theme=C.default;else if(M.theme=A.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var I=(0,k.default)(!0,{},M.theme.DEFAULTS);[I,M].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(U){V.modules[U]===!0&&(V.modules[U]={})})});var F=Object.keys(I.modules).concat(Object.keys(M.modules)),L=F.reduce(function(V,U){var $=A.import("modules/"+U);return $==null?P.error("Cannot load "+U+" module. Are you sure you registered it?"):V[U]=$.DEFAULTS||{},V},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,k.default)(!0,{},A.DEFAULTS,{modules:L},I,M),["bounds","container","scrollingContainer"].forEach(function(V){typeof M[V]=="string"&&(M[V]=document.querySelector(M[V]))}),M.modules=Object.keys(M.modules).reduce(function(V,U){return M.modules[U]&&(V[U]=M.modules[U]),V},{}),M}function B(D,M,I,F){if(this.options.strict&&!this.isEnabled()&&M===g.default.sources.USER)return new f.default;var L=I==null?null:this.getSelection(),V=this.editor.delta,U=D();if(L!=null&&(I===!0&&(I=L.index),F==null?L=H(L,U,M):F!==0&&(L=H(L,I,F,M)),this.setSelection(L,g.default.sources.SILENT)),U.length()>0){var $,q=[g.default.events.TEXT_CHANGE,U,V,M];if(($=this.emitter).emit.apply($,[g.default.events.EDITOR_CHANGE].concat(q)),M!==g.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,q)}}return U}function z(D,M,I,F,L){var V={};return typeof D.index=="number"&&typeof D.length=="number"?typeof M!="number"?(L=F,F=I,I=M,M=D.length,D=D.index):(M=D.length,D=D.index):typeof M!="number"&&(L=F,F=I,I=M,M=0),(typeof I>"u"?"undefined":a(I))==="object"?(V=I,L=F):typeof I=="string"&&(F!=null?V[I]=F:L=I),L=L||g.default.sources.API,[D,M,V,L]}function H(D,M,I,F){if(D==null)return null;var L=void 0,V=void 0;if(M instanceof f.default){var U=[D.index,D.index+D.length].map(function(Z){return M.transformPosition(Z,F!==g.default.sources.USER)}),$=l(U,2);L=$[0],V=$[1]}else{var q=[D.index,D.index+D.length].map(function(Z){return Z<M||Z===M&&F===g.default.sources.USER?Z:I>=0?Z+I:Math.max(M,Z+I)}),K=l(q,2);L=K[0],V=K[1]}return new v.Range(L,V-L)}i.expandConfig=R,i.overload=z,i.default=A},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(m,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,x){return v&&_(m.prototype,v),x&&_(m,x),m}}(),l=function _(m,v,x){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var k=Object.getPrototypeOf(m);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(7),u=c(s),f=o(0),p=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function g(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function b(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var w=function(_){b(m,_);function m(){return d(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"formatAt",value:function(x,y,k,N){if(m.compare(this.statics.blotName,k)<0&&p.default.query(k,p.default.Scope.BLOT)){var j=this.isolate(x,y);N&&j.wrap(k,N)}else l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,x,y,k,N)}},{key:"optimize",value:function(x){if(l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,x),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(x,y){var k=m.order.indexOf(x),N=m.order.indexOf(y);return k>=0||N>=0?k-N:x===y?0:x<y?-1:1}}]),m}(p.default.Inline);w.allowedChildren=[w,p.default.Embed,u.default],w.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function f(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function p(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){p(g,d);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(l.default.Text);i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function v(x,y){for(var k=0;k<y.length;k++){var N=y[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,k){return y&&v(x.prototype,y),k&&v(x,k),x}}(),l=function v(x,y,k){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,y);if(N===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:v(j,y,k)}else{if("value"in N)return N.value;var E=N.get;return E===void 0?void 0:E.call(k)}},s=o(54),u=c(s),f=o(10),p=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function g(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function b(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var w=(0,p.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(v){document.addEventListener(v,function(){for(var x=arguments.length,y=Array(x),k=0;k<x;k++)y[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var j;(j=N.__quill.emitter).handleDOM.apply(j,y)}})})});var m=function(v){b(x,v);function x(){d(this,x);var y=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return y.listeners={},y.on("error",w.error),y}return a(x,[{key:"emit",value:function(){w.log.apply(w,arguments),l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var N=arguments.length,j=Array(N>1?N-1:0),E=1;E<N;E++)j[E-1]=arguments[E];(this.listeners[k.type]||[]).forEach(function(C){var S=C.node,T=C.handler;(k.target===S||S.contains(k.target))&&T.apply(void 0,[k].concat(j))})}},{key:"listenDOM",value:function(k,N,j){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:N,handler:j})}}]),x}(u.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},i.default=m},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});function a(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function s(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=u,this.options=f};l.DEFAULTS={},i.default=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],l="warn";function s(f){if(a.indexOf(f)<=a.indexOf(l)){for(var p,c=arguments.length,d=Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];(p=console)[f].apply(p,d)}}function u(f){return a.reduce(function(p,c){return p[c]=s.bind(console,c,f),p},{})}s.level=u.level=function(f){l=f},i.default=u},function(r,i,o){var a=Array.prototype.slice,l=o(52),s=o(53),u=r.exports=function(d,g,b){return b||(b={}),d===g?!0:d instanceof Date&&g instanceof Date?d.getTime()===g.getTime():!d||!g||typeof d!="object"&&typeof g!="object"?b.strict?d===g:d==g:c(d,g,b)};function f(d){return d==null}function p(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,g,b){var w,_;if(f(d)||f(g)||d.prototype!==g.prototype)return!1;if(s(d))return s(g)?(d=a.call(d),g=a.call(g),u(d,g,b)):!1;if(p(d)){if(!p(g)||d.length!==g.length)return!1;for(w=0;w<d.length;w++)if(d[w]!==g[w])return!1;return!0}try{var m=l(d),v=l(g)}catch{return!1}if(m.length!=v.length)return!1;for(m.sort(),v.sort(),w=m.length-1;w>=0;w--)if(m[w]!=v[w])return!1;for(w=m.length-1;w>=0;w--)if(_=m[w],!u(d[_],g[_],b))return!1;return typeof d==typeof g}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),l=function(){function s(u,f,p){p===void 0&&(p={}),this.attrName=u,this.keyName=f;var c=a.Scope.TYPE&a.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&a.Scope.LEVEL|c:this.scope=a.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return s.keys=function(u){return[].map.call(u.attributes,function(f){return f.name})},s.prototype.add=function(u,f){return this.canAdd(u,f)?(u.setAttribute(this.keyName,f),!0):!1},s.prototype.canAdd=function(u,f){var p=a.query(u,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},s.prototype.remove=function(u){u.removeAttribute(this.keyName)},s.prototype.value=function(u){var f=u.getAttribute(this.keyName);return this.canAdd(u,f)&&f?f:""},s}();i.default=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var a=function(){function E(C,S){var T=[],O=!0,P=!1,A=void 0;try{for(var R=C[Symbol.iterator](),B;!(O=(B=R.next()).done)&&(T.push(B.value),!(S&&T.length===S));O=!0);}catch(z){P=!0,A=z}finally{try{!O&&R.return&&R.return()}finally{if(P)throw A}}return T}return function(C,S){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function E(C,S){for(var T=0;T<S.length;T++){var O=S[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,S,T){return S&&E(C.prototype,S),T&&E(C,T),C}}(),s=function E(C,S,T){C===null&&(C=Function.prototype);var O=Object.getOwnPropertyDescriptor(C,S);if(O===void 0){var P=Object.getPrototypeOf(C);return P===null?void 0:E(P,S,T)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(T)}},u=o(2),f=v(u),p=o(0),c=v(p),d=o(4),g=v(d),b=o(6),w=v(b),_=o(7),m=v(_);function v(E){return E&&E.__esModule?E:{default:E}}function x(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function y(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function k(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var N=function(E){k(C,E);function C(){return x(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(w.default);N.blotName="code",N.tagName="CODE";var j=function(E){k(C,E);function C(){return x(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return l(C,[{key:"delta",value:function(){var T=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(P,A){return P.insert(A).insert(`
`,T.formats())},new f.default)}},{key:"format",value:function(T,O){if(!(T===this.statics.blotName&&O)){var P=this.descendant(m.default,this.length()-1),A=a(P,1),R=A[0];R!=null&&R.deleteAt(R.length()-1,1),s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,T,O)}}},{key:"formatAt",value:function(T,O,P,A){if(O!==0&&!(c.default.query(P,c.default.Scope.BLOCK)==null||P===this.statics.blotName&&A===this.statics.formats(this.domNode))){var R=this.newlineIndex(T);if(!(R<0||R>=T+O)){var B=this.newlineIndex(T,!0)+1,z=R-B+1,H=this.isolate(B,z),D=H.next;H.format(P,A),D instanceof C&&D.formatAt(0,T-B+O-z,P,A)}}}},{key:"insertAt",value:function(T,O,P){if(P==null){var A=this.descendant(m.default,T),R=a(A,2),B=R[0],z=R[1];B.insertAt(z,O)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var P=this.domNode.textContent.slice(T).indexOf(`
`);return P>-1?T+P:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,T);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(T),O.moveChildren(this),O.remove())}},{key:"replace",value:function(T){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var P=c.default.find(O);P==null?O.parentNode.removeChild(O):P instanceof c.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(T){var O=s(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,T);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),C}(g.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",i.Code=N,i.default=j},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l=function(){function D(M,I){var F=[],L=!0,V=!1,U=void 0;try{for(var $=M[Symbol.iterator](),q;!(L=(q=$.next()).done)&&(F.push(q.value),!(I&&F.length===I));L=!0);}catch(K){V=!0,U=K}finally{try{!L&&$.return&&$.return()}finally{if(V)throw U}}return F}return function(M,I){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(M,I){for(var F=0;F<I.length;F++){var L=I[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,I,F){return I&&D(M.prototype,I),F&&D(M,F),M}}(),u=o(2),f=O(u),p=o(20),c=O(p),d=o(0),g=O(d),b=o(13),w=O(b),_=o(24),m=O(_),v=o(4),x=O(v),y=o(16),k=O(y),N=o(21),j=O(N),E=o(11),C=O(E),S=o(3),T=O(S);function O(D){return D&&D.__esModule?D:{default:D}}function P(D,M,I){return M in D?Object.defineProperty(D,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[M]=I,D}function A(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}var R=/^[ -~]*$/,B=function(){function D(M){A(this,D),this.scroll=M,this.delta=this.getDelta()}return s(D,[{key:"applyDelta",value:function(I){var F=this,L=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),I=H(I),I.reduce(function(U,$){var q=$.retain||$.delete||$.insert.length||1,K=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var Z=$.insert;Z.endsWith(`
`)&&L&&(L=!1,Z=Z.slice(0,-1)),U>=V&&!Z.endsWith(`
`)&&(L=!0),F.scroll.insertAt(U,Z);var ee=F.scroll.line(U),ne=l(ee,2),ce=ne[0],fe=ne[1],ge=(0,T.default)({},(0,v.bubbleFormats)(ce));if(ce instanceof x.default){var ye=ce.descendant(g.default.Leaf,fe),Ue=l(ye,1),Pe=Ue[0];ge=(0,T.default)(ge,(0,v.bubbleFormats)(Pe))}K=c.default.attributes.diff(ge,K)||{}}else if(a($.insert)==="object"){var J=Object.keys($.insert)[0];if(J==null)return U;F.scroll.insertAt(U,J,$.insert[J])}V+=q}return Object.keys(K).forEach(function(te){F.scroll.formatAt(U,q,te,K[te])}),U+q},0),I.reduce(function(U,$){return typeof $.delete=="number"?(F.scroll.deleteAt(U,$.delete),U):U+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,F){return this.scroll.deleteAt(I,F),this.update(new f.default().retain(I).delete(F))}},{key:"formatLine",value:function(I,F){var L=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(U){if(!(L.scroll.whitelist!=null&&!L.scroll.whitelist[U])){var $=L.scroll.lines(I,Math.max(F,1)),q=F;$.forEach(function(K){var Z=K.length();if(!(K instanceof w.default))K.format(U,V[U]);else{var ee=I-K.offset(L.scroll),ne=K.newlineIndex(ee+q)-ee+1;K.formatAt(ee,ne,U,V[U])}q-=Z})}}),this.scroll.optimize(),this.update(new f.default().retain(I).retain(F,(0,j.default)(V)))}},{key:"formatText",value:function(I,F){var L=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(U){L.scroll.formatAt(I,F,U,V[U])}),this.update(new f.default().retain(I).retain(F,(0,j.default)(V)))}},{key:"getContents",value:function(I,F){return this.delta.slice(I,I+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,F){return I.concat(F.delta())},new f.default)}},{key:"getFormat",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=[],V=[];F===0?this.scroll.path(I).forEach(function($){var q=l($,1),K=q[0];K instanceof x.default?L.push(K):K instanceof g.default.Leaf&&V.push(K)}):(L=this.scroll.lines(I,F),V=this.scroll.descendants(g.default.Leaf,I,F));var U=[L,V].map(function($){if($.length===0)return{};for(var q=(0,v.bubbleFormats)($.shift());Object.keys(q).length>0;){var K=$.shift();if(K==null)return q;q=z((0,v.bubbleFormats)(K),q)}return q});return T.default.apply(T.default,U)}},{key:"getText",value:function(I,F){return this.getContents(I,F).filter(function(L){return typeof L.insert=="string"}).map(function(L){return L.insert}).join("")}},{key:"insertEmbed",value:function(I,F,L){return this.scroll.insertAt(I,F,L),this.update(new f.default().retain(I).insert(P({},F,L)))}},{key:"insertText",value:function(I,F){var L=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,F),Object.keys(V).forEach(function(U){L.scroll.formatAt(I,F.length,U,V[U])}),this.update(new f.default().retain(I).insert(F,(0,j.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==x.default.blotName||I.children.length>1?!1:I.children.head instanceof k.default}},{key:"removeFormat",value:function(I,F){var L=this.getText(I,F),V=this.scroll.line(I+F),U=l(V,2),$=U[0],q=U[1],K=0,Z=new f.default;$!=null&&($ instanceof w.default?K=$.newlineIndex(q)-q+1:K=$.length()-q,Z=$.delta().slice(q,q+K-1).insert(`
`));var ee=this.getContents(I,F+K),ne=ee.diff(new f.default().insert(L).concat(Z)),ce=new f.default().retain(I).concat(ne);return this.applyDelta(ce)}},{key:"update",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(R)&&g.default.find(F[0].target)){var U=g.default.find(F[0].target),$=(0,v.bubbleFormats)(U),q=U.offset(this.scroll),K=F[0].oldValue.replace(m.default.CONTENTS,""),Z=new f.default().insert(K),ee=new f.default().insert(U.value()),ne=new f.default().retain(q).concat(Z.diff(ee,L));I=ne.reduce(function(ce,fe){return fe.insert?ce.insert(fe.insert,$):ce.push(fe)},new f.default),this.delta=V.compose(I)}else this.delta=this.getDelta(),(!I||!(0,C.default)(V.compose(I),this.delta))&&(I=V.diff(this.delta,L));return I}}]),D}();function z(D,M){return Object.keys(M).reduce(function(I,F){return D[F]==null||(M[F]===D[F]?I[F]=M[F]:Array.isArray(M[F])?M[F].indexOf(D[F])<0&&(I[F]=M[F].concat([D[F]])):I[F]=[M[F],D[F]]),I},{})}function H(D){return D.reduce(function(M,I){if(I.insert===1){var F=(0,j.default)(I.attributes);return delete F.image,M.insert({image:I.attributes.image},F)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,j.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var L=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(L,I.attributes)}return M.push(I)},new f.default)}i.default=B},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var a=function(){function E(C,S){var T=[],O=!0,P=!1,A=void 0;try{for(var R=C[Symbol.iterator](),B;!(O=(B=R.next()).done)&&(T.push(B.value),!(S&&T.length===S));O=!0);}catch(z){P=!0,A=z}finally{try{!O&&R.return&&R.return()}finally{if(P)throw A}}return T}return function(C,S){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function E(C,S){for(var T=0;T<S.length;T++){var O=S[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,S,T){return S&&E(C.prototype,S),T&&E(C,T),C}}(),s=o(0),u=m(s),f=o(21),p=m(f),c=o(11),d=m(c),g=o(8),b=m(g),w=o(10),_=m(w);function m(E){return E&&E.__esModule?E:{default:E}}function v(E){if(Array.isArray(E)){for(var C=0,S=Array(E.length);C<E.length;C++)S[C]=E[C];return S}else return Array.from(E)}function x(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}var y=(0,_.default)("quill:selection"),k=function E(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,E),this.index=C,this.length=S},N=function(){function E(C,S){var T=this;x(this,E),this.emitter=S,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(O,P){O===b.default.events.TEXT_CHANGE&&P.length()>0&&T.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var O=T.getNativeRange();O!=null&&O.start.node!==T.cursor.textNode&&T.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(O,P){if(P.range){var A=P.range,R=A.startNode,B=A.startOffset,z=A.endNode,H=A.endOffset;T.setNativeRange(R,B,z,H)}}),this.update(b.default.sources.SILENT)}return l(E,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var T=S.cursor.restore();if(!T)return;setTimeout(function(){S.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||u.default.query(S,u.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var P=u.default.find(O.start.node,!1);if(P==null)return;if(P instanceof u.default.Leaf){var A=P.split(O.start.offset);P.parent.insertBefore(this.cursor,A)}else P.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(S,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();S=Math.min(S,O-1),T=Math.min(S+T,O-1)-S;var P=void 0,A=this.scroll.leaf(S),R=a(A,2),B=R[0],z=R[1];if(B==null)return null;var H=B.position(z,!0),D=a(H,2);P=D[0],z=D[1];var M=document.createRange();if(T>0){M.setStart(P,z);var I=this.scroll.leaf(S+T),F=a(I,2);if(B=F[0],z=F[1],B==null)return null;var L=B.position(z,!0),V=a(L,2);return P=V[0],z=V[1],M.setEnd(P,z),M.getBoundingClientRect()}else{var U="left",$=void 0;return P instanceof Text?(z<P.data.length?(M.setStart(P,z),M.setEnd(P,z+1)):(M.setStart(P,z-1),M.setEnd(P,z),U="right"),$=M.getBoundingClientRect()):($=B.domNode.getBoundingClientRect(),z>0&&(U="right")),{bottom:$.top+$.height,height:$.height,left:$[U],right:$[U],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var T=S.getRangeAt(0);if(T==null)return null;var O=this.normalizeNative(T);return y.info("getNativeRange",O),O}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var T=this.normalizedToRange(S);return[T,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var T=this,O=[[S.start.node,S.start.offset]];S.native.collapsed||O.push([S.end.node,S.end.offset]);var P=O.map(function(B){var z=a(B,2),H=z[0],D=z[1],M=u.default.find(H,!0),I=M.offset(T.scroll);return D===0?I:M instanceof u.default.Container?I+M.length():I+M.index(H,D)}),A=Math.min(Math.max.apply(Math,v(P)),this.scroll.length()-1),R=Math.min.apply(Math,[A].concat(v(P)));return new k(R,A-R)}},{key:"normalizeNative",value:function(S){if(!j(this.root,S.startContainer)||!S.collapsed&&!j(this.root,S.endContainer))return null;var T={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[T.start,T.end].forEach(function(O){for(var P=O.node,A=O.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>A)P=P.childNodes[A],A=0;else if(P.childNodes.length===A)P=P.lastChild,A=P instanceof Text?P.data.length:P.childNodes.length+1;else break;O.node=P,O.offset=A}),T}},{key:"rangeToNative",value:function(S){var T=this,O=S.collapsed?[S.index]:[S.index,S.index+S.length],P=[],A=this.scroll.length();return O.forEach(function(R,B){R=Math.min(A-1,R);var z=void 0,H=T.scroll.leaf(R),D=a(H,2),M=D[0],I=D[1],F=M.position(I,B!==0),L=a(F,2);z=L[0],I=L[1],P.push(z,I)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(S){var T=this.lastRange;if(T!=null){var O=this.getBounds(T.index,T.length);if(O!=null){var P=this.scroll.length()-1,A=this.scroll.line(Math.min(T.index,P)),R=a(A,1),B=R[0],z=B;if(T.length>0){var H=this.scroll.line(Math.min(T.index+T.length,P)),D=a(H,1);z=D[0]}if(!(B==null||z==null)){var M=S.getBoundingClientRect();O.top<M.top?S.scrollTop-=M.top-O.top:O.bottom>M.bottom&&(S.scrollTop+=O.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(S,T){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",S,T,O,P),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||O.parentNode==null))){var R=document.getSelection();if(R!=null)if(S!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||A||S!==B.startContainer||T!==B.startOffset||O!==B.endContainer||P!==B.endOffset){S.tagName=="BR"&&(T=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),O.tagName=="BR"&&(P=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var z=document.createRange();z.setStart(S,T),z.setEnd(O,P),R.removeAllRanges(),R.addRange(z)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof T=="string"&&(O=T,T=!1),y.info("setRange",S),S!=null){var P=this.rangeToNative(S);this.setNativeRange.apply(this,v(P).concat([T]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,T=this.lastRange,O=this.getRange(),P=a(O,2),A=P[0],R=P[1];if(this.lastRange=A,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(T,this.lastRange)){var B;!this.composing&&R!=null&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[b.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(T),S];if((B=this.emitter).emit.apply(B,[b.default.events.EDITOR_CHANGE].concat(z)),S!==b.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,z)}}}}]),E}();function j(E,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),E.contains(C)}i.Range=k,i.default=N},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,m){return _&&b(w.prototype,_),m&&b(w,m),w}}(),l=function b(w,_,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},s=o(0),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"insertInto",value:function(m,v){m.children.length===0?l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertInto",this).call(this,m,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),w}(u.default.Embed);g.blotName="break",g.tagName="BR",i.default=g},function(r,i,o){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])};return function(d,g){c(d,g);function b(){this.constructor=d}d.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(44),s=o(30),u=o(1),f=function(c){a(d,c);function d(g){var b=c.call(this,g)||this;return b.build(),b}return d.prototype.appendChild=function(g){this.insertBefore(g)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},d.prototype.build=function(){var g=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var w=p(b);g.insertBefore(w,g.children.head||void 0)}catch(_){if(_ instanceof u.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(g,b){if(g===0&&b===this.length())return this.remove();this.children.forEachAt(g,b,function(w,_,m){w.deleteAt(_,m)})},d.prototype.descendant=function(g,b){var w=this.children.find(b),_=w[0],m=w[1];return g.blotName==null&&g(_)||g.blotName!=null&&_ instanceof g?[_,m]:_ instanceof d?_.descendant(g,m):[null,-1]},d.prototype.descendants=function(g,b,w){b===void 0&&(b=0),w===void 0&&(w=Number.MAX_VALUE);var _=[],m=w;return this.children.forEachAt(b,w,function(v,x,y){(g.blotName==null&&g(v)||g.blotName!=null&&v instanceof g)&&_.push(v),v instanceof d&&(_=_.concat(v.descendants(g,x,m))),m-=y}),_},d.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(g,b,w,_){this.children.forEachAt(g,b,function(m,v,x){m.formatAt(v,x,w,_)})},d.prototype.insertAt=function(g,b,w){var _=this.children.find(g),m=_[0],v=_[1];if(m)m.insertAt(v,b,w);else{var x=w==null?u.create("text",b):u.create(b,w);this.appendChild(x)}},d.prototype.insertBefore=function(g,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(w){return g instanceof w}))throw new u.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,b)},d.prototype.length=function(){return this.children.reduce(function(g,b){return g+b.length()},0)},d.prototype.moveChildren=function(g,b){this.children.forEach(function(w){g.insertBefore(w,b)})},d.prototype.optimize=function(g){if(c.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var b=u.create(this.statics.defaultChild);this.appendChild(b),b.optimize(g)}else this.remove()},d.prototype.path=function(g,b){b===void 0&&(b=!1);var w=this.children.find(g,b),_=w[0],m=w[1],v=[[this,g]];return _ instanceof d?v.concat(_.path(m,b)):(_!=null&&v.push([_,m]),v)},d.prototype.removeChild=function(g){this.children.remove(g)},d.prototype.replace=function(g){g instanceof d&&g.moveChildren(this),c.prototype.replace.call(this,g)},d.prototype.split=function(g,b){if(b===void 0&&(b=!1),!b){if(g===0)return this;if(g===this.length())return this.next}var w=this.clone();return this.parent.insertBefore(w,this.next),this.children.forEachAt(g,this.length(),function(_,m,v){_=_.split(m,b),w.appendChild(_)}),w},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(g,b){var w=this,_=[],m=[];g.forEach(function(v){v.target===w.domNode&&v.type==="childList"&&(_.push.apply(_,v.addedNodes),m.push.apply(m,v.removedNodes))}),m.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=u.find(v);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===w.domNode)&&x.detach()}}),_.filter(function(v){return v.parentNode==w.domNode}).sort(function(v,x){return v===x?0:v.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var x=null;v.nextSibling!=null&&(x=u.find(v.nextSibling));var y=p(v);(y.next!=x||y.next==null)&&(y.parent!=null&&y.parent.removeChild(w),w.insertBefore(y,x||void 0))})},d}(s.default);function p(c){var d=u.find(c);if(d==null)try{d=u.create(c)}catch{d=u.create(u.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(b){d.domNode.appendChild(b)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}i.default=f},function(r,i,o){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])};return function(d,g){c(d,g);function b(){this.constructor=d}d.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(12),s=o(31),u=o(17),f=o(1),p=function(c){a(d,c);function d(g){var b=c.call(this,g)||this;return b.attributes=new s.default(b.domNode),b}return d.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},d.prototype.format=function(g,b){var w=f.query(g);w instanceof l.default?this.attributes.attribute(w,b):b&&w!=null&&(g!==this.statics.blotName||this.formats()[g]!==b)&&this.replaceWith(g,b)},d.prototype.formats=function(){var g=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(g[this.statics.blotName]=b),g},d.prototype.replaceWith=function(g,b){var w=c.prototype.replaceWith.call(this,g,b);return this.attributes.copy(w),w},d.prototype.update=function(g,b){var w=this;c.prototype.update.call(this,g,b),g.some(function(_){return _.target===w.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(g,b){var w=c.prototype.wrap.call(this,g,b);return w instanceof d&&w.statics.scope===this.statics.scope&&this.attributes.move(w),w},d}(u.default);i.default=p},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(30),s=o(1),u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.value=function(c){return!0},p.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},p.prototype.position=function(c,d){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(g+=1),[this.parent.domNode,g]},p.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},p.scope=s.Scope.INLINE_BLOT,p}(l.default);i.default=u},function(r,i,o){var a=o(11),l=o(3),s={attributes:{compose:function(f,p,c){typeof f!="object"&&(f={}),typeof p!="object"&&(p={});var d=l(!0,{},p);c||(d=Object.keys(d).reduce(function(b,w){return d[w]!=null&&(b[w]=d[w]),b},{}));for(var g in f)f[g]!==void 0&&p[g]===void 0&&(d[g]=f[g]);return Object.keys(d).length>0?d:void 0},diff:function(f,p){typeof f!="object"&&(f={}),typeof p!="object"&&(p={});var c=Object.keys(f).concat(Object.keys(p)).reduce(function(d,g){return a(f[g],p[g])||(d[g]=p[g]===void 0?null:p[g]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(f,p,c){if(typeof f!="object")return p;if(typeof p=="object"){if(!c)return p;var d=Object.keys(p).reduce(function(g,b){return f[b]===void 0&&(g[b]=p[b]),g},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(f){return new u(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function u(f){this.ops=f,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(f){f||(f=1/0);var p=this.ops[this.index];if(p){var c=this.offset,d=s.length(p);if(f>=d-c?(f=d-c,this.index+=1,this.offset=0):this.offset+=f,typeof p.delete=="number")return{delete:f};var g={};return p.attributes&&(g.attributes=p.attributes),typeof p.retain=="number"?g.retain=f:typeof p.insert=="string"?g.insert=p.insert.substr(c,f):g.insert=p.insert,g}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,p=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=f,this.index=p,[c].concat(d)}else return[]},r.exports=s},function(r,i){var o=function(){function a(w,_){return _!=null&&w instanceof _}var l;try{l=Map}catch{l=function(){}}var s;try{s=Set}catch{s=function(){}}var u;try{u=Promise}catch{u=function(){}}function f(w,_,m,v,x){typeof _=="object"&&(m=_.depth,v=_.prototype,x=_.includeNonEnumerable,_=_.circular);var y=[],k=[],N=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof m>"u"&&(m=1/0);function j(E,C){if(E===null)return null;if(C===0)return E;var S,T;if(typeof E!="object")return E;if(a(E,l))S=new l;else if(a(E,s))S=new s;else if(a(E,u))S=new u(function(M,I){E.then(function(F){M(j(F,C-1))},function(F){I(j(F,C-1))})});else if(f.__isArray(E))S=[];else if(f.__isRegExp(E))S=new RegExp(E.source,b(E)),E.lastIndex&&(S.lastIndex=E.lastIndex);else if(f.__isDate(E))S=new Date(E.getTime());else{if(N&&Buffer.isBuffer(E))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(E.length):S=new Buffer(E.length),E.copy(S),S;a(E,Error)?S=Object.create(E):typeof v>"u"?(T=Object.getPrototypeOf(E),S=Object.create(T)):(S=Object.create(v),T=v)}if(_){var O=y.indexOf(E);if(O!=-1)return k[O];y.push(E),k.push(S)}a(E,l)&&E.forEach(function(M,I){var F=j(I,C-1),L=j(M,C-1);S.set(F,L)}),a(E,s)&&E.forEach(function(M){var I=j(M,C-1);S.add(I)});for(var P in E){var A;T&&(A=Object.getOwnPropertyDescriptor(T,P)),!(A&&A.set==null)&&(S[P]=j(E[P],C-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(E),P=0;P<R.length;P++){var B=R[P],z=Object.getOwnPropertyDescriptor(E,B);z&&!z.enumerable&&!x||(S[B]=j(E[B],C-1),z.enumerable||Object.defineProperty(S,B,{enumerable:!1}))}if(x)for(var H=Object.getOwnPropertyNames(E),P=0;P<H.length;P++){var D=H[P],z=Object.getOwnPropertyDescriptor(E,D);z&&z.enumerable||(S[D]=j(E[D],C-1),Object.defineProperty(S,D,{enumerable:!1}))}return S}return j(w,m)}f.clonePrototype=function(_){if(_===null)return null;var m=function(){};return m.prototype=_,new m};function p(w){return Object.prototype.toString.call(w)}f.__objToStr=p;function c(w){return typeof w=="object"&&p(w)==="[object Date]"}f.__isDate=c;function d(w){return typeof w=="object"&&p(w)==="[object Array]"}f.__isArray=d;function g(w){return typeof w=="object"&&p(w)==="[object RegExp]"}f.__isRegExp=g;function b(w){var _="";return w.global&&(_+="g"),w.ignoreCase&&(_+="i"),w.multiline&&(_+="m"),_}return f.__getRegExpFlags=b,f}();typeof r=="object"&&r.exports&&(r.exports=o)},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(T,O){var P=[],A=!0,R=!1,B=void 0;try{for(var z=T[Symbol.iterator](),H;!(A=(H=z.next()).done)&&(P.push(H.value),!(O&&P.length===O));A=!0);}catch(D){R=!0,B=D}finally{try{!A&&z.return&&z.return()}finally{if(R)throw B}}return P}return function(T,O){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function S(T,O){for(var P=0;P<O.length;P++){var A=O[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,O,P){return O&&S(T.prototype,O),P&&S(T,P),T}}(),s=function S(T,O,P){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,O);if(A===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:S(R,O,P)}else{if("value"in A)return A.value;var B=A.get;return B===void 0?void 0:B.call(P)}},u=o(0),f=y(u),p=o(8),c=y(p),d=o(4),g=y(d),b=o(16),w=y(b),_=o(13),m=y(_),v=o(25),x=y(v);function y(S){return S&&S.__esModule?S:{default:S}}function k(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function N(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function j(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}function E(S){return S instanceof g.default||S instanceof d.BlockEmbed}var C=function(S){j(T,S);function T(O,P){k(this,T);var A=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O));return A.emitter=P.emitter,Array.isArray(P.whitelist)&&(A.whitelist=P.whitelist.reduce(function(R,B){return R[B]=!0,R},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return l(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,A){var R=this.line(P),B=a(R,2),z=B[0],H=B[1],D=this.line(P+A),M=a(D,1),I=M[0];if(s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,P,A),I!=null&&z!==I&&H>0){if(z instanceof d.BlockEmbed||I instanceof d.BlockEmbed){this.optimize();return}if(z instanceof m.default){var F=z.newlineIndex(z.length(),!0);if(F>-1&&(z=z.split(F+1),z===I)){this.optimize();return}}else if(I instanceof m.default){var L=I.newlineIndex(0);L>-1&&I.split(L+1)}var V=I.children.head instanceof w.default?null:I.children.head;z.moveChildren(I,V),z.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,A,R,B){this.whitelist!=null&&!this.whitelist[R]||(s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,P,A,R,B),this.optimize())}},{key:"insertAt",value:function(P,A,R){if(!(R!=null&&this.whitelist!=null&&!this.whitelist[A])){if(P>=this.length())if(R==null||f.default.query(A,f.default.Scope.BLOCK)==null){var B=f.default.create(this.statics.defaultChild);this.appendChild(B),R==null&&A.endsWith(`
`)&&(A=A.slice(0,-1)),B.insertAt(0,A,R)}else{var z=f.default.create(A,R);this.appendChild(z)}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,P,A,R);this.optimize()}}},{key:"insertBefore",value:function(P,A){if(P.statics.scope===f.default.Scope.INLINE_BLOT){var R=f.default.create(this.statics.defaultChild);R.appendChild(P),P=R}s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,P,A)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(E,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,R=function B(z,H,D){var M=[],I=D;return z.children.forEachAt(H,D,function(F,L,V){E(F)?M.push(F):F instanceof f.default.Container&&(M=M.concat(B(F,L,I))),I-=V}),M};return R(this,P,A)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,P,A),P.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,P,A))}},{key:"path",value:function(P){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var A=c.default.sources.USER;typeof P=="string"&&(A=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,A,P),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,A,P)}}}]),T}(f.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[g.default,d.BlockEmbed,x.default],i.default=C},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=function(){function $(q,K){var Z=[],ee=!0,ne=!1,ce=void 0;try{for(var fe=q[Symbol.iterator](),ge;!(ee=(ge=fe.next()).done)&&(Z.push(ge.value),!(K&&Z.length===K));ee=!0);}catch(ye){ne=!0,ce=ye}finally{try{!ee&&fe.return&&fe.return()}finally{if(ne)throw ce}}return Z}return function(q,K){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return $(q,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function $(q,K){for(var Z=0;Z<K.length;Z++){var ee=K[Z];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(q,ee.key,ee)}}return function(q,K,Z){return K&&$(q.prototype,K),Z&&$(q,Z),q}}(),u=o(21),f=S(u),p=o(11),c=S(p),d=o(3),g=S(d),b=o(2),w=S(b),_=o(20),m=S(_),v=o(0),x=S(v),y=o(5),k=S(y),N=o(10),j=S(N),E=o(9),C=S(E);function S($){return $&&$.__esModule?$:{default:$}}function T($,q,K){return q in $?Object.defineProperty($,q,{value:K,enumerable:!0,configurable:!0,writable:!0}):$[q]=K,$}function O($,q){if(!($ instanceof q))throw new TypeError("Cannot call a class as a function")}function P($,q){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:$}function A($,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);$.prototype=Object.create(q&&q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf($,q):$.__proto__=q)}var R=(0,j.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function($){A(q,$),s(q,null,[{key:"match",value:function(Z,ee){return ee=U(ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ne){return!!ee[ne]!==Z[ne]&&ee[ne]!==null})?!1:ee.key===(Z.which||Z.keyCode)}}]);function q(K,Z){O(this,q);var ee=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,K,Z));return ee.bindings={},Object.keys(ee.options.bindings).forEach(function(ne){ne==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||ee.options.bindings[ne]&&ee.addBinding(ee.options.bindings[ne])}),ee.addBinding({key:q.keys.ENTER,shiftKey:null},F),ee.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ee.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},D),ee.addBinding({key:q.keys.DELETE},{collapsed:!0},M)):(ee.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),ee.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),ee.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},I),ee.addBinding({key:q.keys.DELETE},{collapsed:!1},I),ee.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),ee.listen(),ee}return s(q,[{key:"addBinding",value:function(Z){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=U(Z);if(ce==null||ce.key==null)return R.warn("Attempted to add invalid keyboard binding",ce);typeof ee=="function"&&(ee={handler:ee}),typeof ne=="function"&&(ne={handler:ne}),ce=(0,g.default)(ce,ee,ne),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var Z=this;this.quill.root.addEventListener("keydown",function(ee){if(!ee.defaultPrevented){var ne=ee.which||ee.keyCode,ce=(Z.bindings[ne]||[]).filter(function(de){return q.match(ee,de)});if(ce.length!==0){var fe=Z.quill.getSelection();if(!(fe==null||!Z.quill.hasFocus())){var ge=Z.quill.getLine(fe.index),ye=l(ge,2),Ue=ye[0],Pe=ye[1],J=Z.quill.getLeaf(fe.index),te=l(J,2),ae=te[0],le=te[1],re=fe.length===0?[ae,le]:Z.quill.getLeaf(fe.index+fe.length),he=l(re,2),X=he[0],Q=he[1],Y=ae instanceof x.default.Text?ae.value().slice(0,le):"",be=X instanceof x.default.Text?X.value().slice(Q):"",me={collapsed:fe.length===0,empty:fe.length===0&&Ue.length()<=1,format:Z.quill.getFormat(fe),offset:Pe,prefix:Y,suffix:be},In=ce.some(function(de){if(de.collapsed!=null&&de.collapsed!==me.collapsed||de.empty!=null&&de.empty!==me.empty||de.offset!=null&&de.offset!==me.offset)return!1;if(Array.isArray(de.format)){if(de.format.every(function(Ft){return me.format[Ft]==null}))return!1}else if(a(de.format)==="object"&&!Object.keys(de.format).every(function(Ft){return de.format[Ft]===!0?me.format[Ft]!=null:de.format[Ft]===!1?me.format[Ft]==null:(0,c.default)(de.format[Ft],me.format[Ft])}))return!1;return de.prefix!=null&&!de.prefix.test(me.prefix)||de.suffix!=null&&!de.suffix.test(me.suffix)?!1:de.handler.call(Z,fe,me)!==!0});In&&ee.preventDefault()}}}})}}]),q}(C.default);z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},z.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:z.keys.TAB,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,K){K.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,k.default.sources.USER)}},tab:{key:z.keys.TAB,handler:function(q){this.quill.history.cutoff();var K=new w.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(K,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,k.default.sources.SILENT)}},"list empty enter":{key:z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,K){this.quill.format("list",!1,k.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var K=this.quill.getLine(q.index),Z=l(K,2),ee=Z[0],ne=Z[1],ce=(0,g.default)({},ee.formats(),{list:"checked"}),fe=new w.default().retain(q.index).insert(`
`,ce).retain(ee.length()-ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(fe,k.default.sources.USER),this.quill.setSelection(q.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,K){var Z=this.quill.getLine(q.index),ee=l(Z,2),ne=ee[0],ce=ee[1],fe=new w.default().retain(q.index).insert(`
`,K.format).retain(ne.length()-ce-1).retain(1,{header:null});this.quill.updateContents(fe,k.default.sources.USER),this.quill.setSelection(q.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,K){var Z=K.prefix.length,ee=this.quill.getLine(q.index),ne=l(ee,2),ce=ne[0],fe=ne[1];if(fe>Z)return!0;var ge=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(q.index," ",k.default.sources.USER),this.quill.history.cutoff();var ye=new w.default().retain(q.index-fe).delete(Z+1).retain(ce.length()-2-fe).retain(1,{list:ge});this.quill.updateContents(ye,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-Z,k.default.sources.SILENT)}},"code exit":{key:z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var K=this.quill.getLine(q.index),Z=l(K,2),ee=Z[0],ne=Z[1],ce=new w.default().retain(q.index+ee.length()-ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,k.default.sources.USER)}},"embed left":H(z.keys.LEFT,!1),"embed left shift":H(z.keys.LEFT,!0),"embed right":H(z.keys.RIGHT,!1),"embed right shift":H(z.keys.RIGHT,!0)}};function H($,q){var K,Z=$===z.keys.LEFT?"prefix":"suffix";return K={key:$,shiftKey:q,altKey:null},T(K,Z,/^$/),T(K,"handler",function(ne){var ce=ne.index;$===z.keys.RIGHT&&(ce+=ne.length+1);var fe=this.quill.getLeaf(ce),ge=l(fe,1),ye=ge[0];return ye instanceof x.default.Embed?($===z.keys.LEFT?q?this.quill.setSelection(ne.index-1,ne.length+1,k.default.sources.USER):this.quill.setSelection(ne.index-1,k.default.sources.USER):q?this.quill.setSelection(ne.index,ne.length+1,k.default.sources.USER):this.quill.setSelection(ne.index+ne.length+1,k.default.sources.USER),!1):!0}),K}function D($,q){if(!($.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine($.index),Z=l(K,1),ee=Z[0],ne={};if(q.offset===0){var ce=this.quill.getLine($.index-1),fe=l(ce,1),ge=fe[0];if(ge!=null&&ge.length()>1){var ye=ee.formats(),Ue=this.quill.getFormat($.index-1,1);ne=m.default.attributes.diff(ye,Ue)||{}}}var Pe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText($.index-Pe,Pe,k.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine($.index-Pe,Pe,ne,k.default.sources.USER),this.quill.focus()}}function M($,q){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!($.index>=this.quill.getLength()-K)){var Z={},ee=0,ne=this.quill.getLine($.index),ce=l(ne,1),fe=ce[0];if(q.offset>=fe.length()-1){var ge=this.quill.getLine($.index+1),ye=l(ge,1),Ue=ye[0];if(Ue){var Pe=fe.formats(),J=this.quill.getFormat($.index,1);Z=m.default.attributes.diff(Pe,J)||{},ee=Ue.length()}}this.quill.deleteText($.index,K,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine($.index+ee-1,K,Z,k.default.sources.USER)}}function I($){var q=this.quill.getLines($),K={};if(q.length>1){var Z=q[0].formats(),ee=q[q.length-1].formats();K=m.default.attributes.diff(ee,Z)||{}}this.quill.deleteText($,k.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine($.index,1,K,k.default.sources.USER),this.quill.setSelection($.index,k.default.sources.SILENT),this.quill.focus()}function F($,q){var K=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var Z=Object.keys(q.format).reduce(function(ee,ne){return x.default.query(ne,x.default.Scope.BLOCK)&&!Array.isArray(q.format[ne])&&(ee[ne]=q.format[ne]),ee},{});this.quill.insertText($.index,`
`,Z,k.default.sources.USER),this.quill.setSelection($.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(ee){Z[ee]==null&&(Array.isArray(q.format[ee])||ee!=="link"&&K.quill.format(ee,q.format[ee],k.default.sources.USER))})}function L($){return{key:z.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(K){var Z=x.default.query("code-block"),ee=K.index,ne=K.length,ce=this.quill.scroll.descendant(Z,ee),fe=l(ce,2),ge=fe[0],ye=fe[1];if(ge!=null){var Ue=this.quill.getIndex(ge),Pe=ge.newlineIndex(ye,!0)+1,J=ge.newlineIndex(Ue+ye+ne),te=ge.domNode.textContent.slice(Pe,J).split(`
`);ye=0,te.forEach(function(ae,le){$?(ge.insertAt(Pe+ye,Z.TAB),ye+=Z.TAB.length,le===0?ee+=Z.TAB.length:ne+=Z.TAB.length):ae.startsWith(Z.TAB)&&(ge.deleteAt(Pe+ye,Z.TAB.length),ye-=Z.TAB.length,le===0?ee-=Z.TAB.length:ne-=Z.TAB.length),ye+=ae.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(ee,ne,k.default.sources.SILENT)}}}}function V($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(K,Z){this.quill.format($,!Z.format[$],k.default.sources.USER)}}}function U($){if(typeof $=="string"||typeof $=="number")return U({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,f.default)($,!1)),typeof $.key=="string")if(z.keys[$.key.toUpperCase()]!=null)$.key=z.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[B]=$.shortKey,delete $.shortKey),$}i.default=z,i.SHORTKEY=B},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(v,x){var y=[],k=!0,N=!1,j=void 0;try{for(var E=v[Symbol.iterator](),C;!(k=(C=E.next()).done)&&(y.push(C.value),!(x&&y.length===x));k=!0);}catch(S){N=!0,j=S}finally{try{!k&&E.return&&E.return()}finally{if(N)throw j}}return y}return function(v,x){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return m(v,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function m(v,x,y){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,x);if(k===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:m(N,x,y)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(y)}},s=function(){function m(v,x){for(var y=0;y<x.length;y++){var k=x[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,x,y){return x&&m(v.prototype,x),y&&m(v,y),v}}(),u=o(0),f=d(u),p=o(7),c=d(p);function d(m){return m&&m.__esModule?m:{default:m}}function g(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function b(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function w(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var _=function(m){w(v,m),s(v,null,[{key:"value",value:function(){}}]);function v(x,y){g(this,v);var k=b(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return k.selection=y,k.textNode=document.createTextNode(v.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return s(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,k){if(this._length!==0)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,k);for(var N=this,j=0;N!=null&&N.statics.scope!==f.default.Scope.BLOCK_BLOT;)j+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=v.CONTENTS.length,N.optimize(),N.formatAt(j,v.CONTENTS.length,y,k),this._length=0)}},{key:"index",value:function(y,k){return y===this.textNode?0:l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,y,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,k=this.selection.getNativeRange(),N=void 0,j=void 0,E=void 0;if(k!=null&&k.start.node===y&&k.end.node===y){var C=[y,k.start.offset,k.end.offset];N=C[0],j=C[1],E=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var S=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof c.default?(N=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=v.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var T=[j,E].map(function(P){return Math.max(0,Math.min(N.data.length,P-1))}),O=a(T,2);return j=O[0],E=O[1],{startNode:N,startOffset:j,endNode:N,endOffset:E}}}}},{key:"update",value:function(y,k){var N=this;if(y.some(function(E){return E.type==="characterData"&&E.target===N.textNode})){var j=this.restore();j&&(k.range=j)}}},{key:"value",value:function(){return""}}]),v}(f.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",i.default=_},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),l=f(a),s=o(4),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return w}(l.default.Container);g.allowedChildren=[u.default,s.BlockEmbed,g],i.default=g},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var a=function(){function _(m,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,x){return v&&_(m.prototype,v),x&&_(m,x),m}}(),l=function _(m,v,x){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var k=Object.getPrototypeOf(m);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(0),u=f(s);function f(_){return _&&_.__esModule?_:{default:_}}function p(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function c(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function d(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var g=function(_){d(m,_);function m(){return p(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(x){var y=l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,x);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):y}}]),m}(u.default.Attributor.Style),b=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),w=new g("color","color",{scope:u.default.Scope.INLINE});i.ColorAttributor=g,i.ColorClass=b,i.ColorStyle=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var a=function(){function w(_,m){for(var v=0;v<m.length;v++){var x=m[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}return function(_,m,v){return m&&w(_.prototype,m),v&&w(_,v),_}}(),l=function w(_,m,v){_===null&&(_=Function.prototype);var x=Object.getOwnPropertyDescriptor(_,m);if(x===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:w(y,m,v)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(v)}},s=o(6),u=f(s);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function c(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var g=function(w){d(_,w);function _(){return p(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(v,x){if(v!==this.statics.blotName||!x)return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,v,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(v){var x=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,v);return v=this.sanitize(v),x.setAttribute("href",v),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return b(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),_}(u.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(w,_){var m=document.createElement("a");m.href=w;var v=m.href.slice(0,m.href.indexOf(":"));return _.indexOf(v)>-1}i.default=g,i.sanitize=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l=function(){function _(m,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,x){return v&&_(m.prototype,v),x&&_(m,x),m}}(),s=o(23),u=c(s),f=o(107),p=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}var g=0;function b(_,m){_.setAttribute(m,_.getAttribute(m)!=="true")}var w=function(){function _(m){var v=this;d(this,_),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case u.default.keys.ENTER:v.togglePicker();break;case u.default.keys.ESCAPE:v.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var x=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),v.hasAttribute("value")&&y.setAttribute("data-value",v.getAttribute("value")),v.textContent&&y.setAttribute("data-label",v.textContent),y.addEventListener("click",function(){x.selectItem(y,!0)}),y.addEventListener("keydown",function(k){switch(k.keyCode){case u.default.keys.ENTER:x.selectItem(y,!0),k.preventDefault();break;case u.default.keys.ESCAPE:x.escape(),k.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=p.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(y){var k=v.buildItem(y);x.appendChild(k),y.selected===!0&&v.selectItem(k)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(x){v.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(v!==y&&(y!=null&&y.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var y=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),_}();i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),l=R(a),s=o(5),u=R(s),f=o(4),p=R(f),c=o(16),d=R(c),g=o(25),b=R(g),w=o(24),_=R(w),m=o(35),v=R(m),x=o(6),y=R(x),k=o(22),N=R(k),j=o(7),E=R(j),C=o(55),S=R(C),T=o(42),O=R(T),P=o(23),A=R(P);function R(B){return B&&B.__esModule?B:{default:B}}u.default.register({"blots/block":p.default,"blots/block/embed":f.BlockEmbed,"blots/break":d.default,"blots/container":b.default,"blots/cursor":_.default,"blots/embed":v.default,"blots/inline":y.default,"blots/scroll":N.default,"blots/text":E.default,"modules/clipboard":S.default,"modules/history":O.default,"modules/keyboard":A.default}),l.default.register(p.default,d.default,_.default,y.default,N.default,E.default),i.default=u.default},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),l=function(){function s(u){this.domNode=u,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(u){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?f=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?f=document.createElement(u):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return a.create(u)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(u,f){var p=this.isolate(u,f);p.remove()},s.prototype.formatAt=function(u,f,p,c){var d=this.isolate(u,f);if(a.query(p,a.Scope.BLOT)!=null&&c)d.wrap(p,c);else if(a.query(p,a.Scope.ATTRIBUTE)!=null){var g=a.create(this.statics.scope);d.wrap(g),g.format(p,c)}},s.prototype.insertAt=function(u,f,p){var c=p==null?a.create("text",f):a.create(f,p),d=this.split(u);this.parent.insertBefore(c,d)},s.prototype.insertInto=function(u,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var p=null;u.children.insertBefore(this,f),f!=null&&(p=f.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=p)&&u.domNode.insertBefore(this.domNode,p),this.parent=u,this.attach()},s.prototype.isolate=function(u,f){var p=this.split(u);return p.split(f),p},s.prototype.length=function(){return 1},s.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},s.prototype.optimize=function(u){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},s.prototype.replaceWith=function(u,f){var p=typeof u=="string"?a.create(u,f):u;return p.replace(this),p},s.prototype.split=function(u,f){return u===0?this:this.next},s.prototype.update=function(u,f){},s.prototype.wrap=function(u,f){var p=typeof u=="string"?a.create(u,f):u;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},s.blotName="abstract",s}();i.default=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(12),l=o(32),s=o(33),u=o(1),f=function(){function p(c){this.attributes={},this.domNode=c,this.build()}return p.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},p.prototype.build=function(){var c=this;this.attributes={};var d=a.default.keys(this.domNode),g=l.default.keys(this.domNode),b=s.default.keys(this.domNode);d.concat(g).concat(b).forEach(function(w){var _=u.query(w,u.Scope.ATTRIBUTE);_ instanceof a.default&&(c.attributes[_.attrName]=_)})},p.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(g){var b=d.attributes[g].value(d.domNode);c.format(g,b)})},p.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(g){d.attributes[g].remove(d.domNode)}),this.attributes={}},p.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,g){return d[g]=c.attributes[g].value(c.domNode),d},{})},p}();i.default=f},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(12);function s(f,p){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(p+"-")===0})}var u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},p.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},p.prototype.remove=function(c){var d=s(c,this.keyName);d.forEach(function(g){c.classList.remove(g)}),c.classList.length===0&&c.removeAttribute("class")},p.prototype.value=function(c){var d=s(c,this.keyName)[0]||"",g=d.slice(this.keyName.length+1);return this.canAdd(c,g)?g:""},p}(l.default);i.default=u},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(12);function s(f){var p=f.split("-"),c=p.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return p[0]+c}var u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var g=d.split(":");return g[0].trim()})},p.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[s(this.keyName)]=d,!0):!1},p.prototype.remove=function(c){c.style[s(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},p.prototype.value=function(c){var d=c.style[s(this.keyName)];return this.canAdd(c,d)?d:""},p}(l.default);i.default=u},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(f,p){for(var c=0;c<p.length;c++){var d=p[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,p,c){return p&&u(f.prototype,p),c&&u(f,c),f}}();function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(f,p){l(this,u),this.quill=f,this.options=p,this.modules={}}return a(u,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(c){p.modules[c]==null&&p.addModule(c)})}},{key:"addModule",value:function(p){var c=this.quill.constructor.import("modules/"+p);return this.modules[p]=new c(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),u}();s.DEFAULTS={modules:{}},s.themes={default:s},i.default=s},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(v,x){for(var y=0;y<x.length;y++){var k=x[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,x,y){return x&&m(v.prototype,x),y&&m(v,y),v}}(),l=function m(v,x,y){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,x);if(k===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:m(N,x,y)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(y)}},s=o(0),u=c(s),f=o(7),p=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function g(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function b(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var w="\uFEFF",_=function(m){b(v,m);function v(x){d(this,v);var y=g(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(k){y.contentNode.appendChild(k)}),y.leftGuard=document.createTextNode(w),y.rightGuard=document.createTextNode(w),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return a(v,[{key:"index",value:function(y,k){return y===this.leftGuard?0:y===this.rightGuard?1:l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,y,k)}},{key:"restore",value:function(y){var k=void 0,N=void 0,j=y.data.split(w).join("");if(y===this.leftGuard)if(this.prev instanceof p.default){var E=this.prev.length();this.prev.insertAt(E,j),k={startNode:this.prev.domNode,startOffset:E+j.length}}else N=document.createTextNode(j),this.parent.insertBefore(u.default.create(N),this),k={startNode:N,startOffset:j.length};else y===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,j),k={startNode:this.next.domNode,startOffset:j.length}):(N=document.createTextNode(j),this.parent.insertBefore(u.default.create(N),this.next),k={startNode:N,startOffset:j.length}));return y.data=w,k}},{key:"update",value:function(y,k){var N=this;y.forEach(function(j){if(j.type==="characterData"&&(j.target===N.leftGuard||j.target===N.rightGuard)){var E=N.restore(j.target);E&&(k.range=E)}})}}]),v}(u.default.Embed);i.default=_},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var a=o(0),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var u={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new l.default.Attributor.Attribute("align","align",u),p=new l.default.Attributor.Class("align","ql-align",u),c=new l.default.Attributor.Style("align","text-align",u);i.AlignAttribute=f,i.AlignClass=p,i.AlignStyle=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var a=o(0),l=u(a),s=o(26);function u(c){return c&&c.__esModule?c:{default:c}}var f=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),p=new s.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});i.BackgroundClass=f,i.BackgroundStyle=p},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var a=o(0),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var u={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},f=new l.default.Attributor.Attribute("direction","dir",u),p=new l.default.Attributor.Class("direction","ql-direction",u),c=new l.default.Attributor.Style("direction","direction",u);i.DirectionAttribute=f,i.DirectionClass=p,i.DirectionStyle=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var a=function(){function m(v,x){for(var y=0;y<x.length;y++){var k=x[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,x,y){return x&&m(v.prototype,x),y&&m(v,y),v}}(),l=function m(v,x,y){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,x);if(k===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:m(N,x,y)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(y)}},s=o(0),u=f(s);function f(m){return m&&m.__esModule?m:{default:m}}function p(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function c(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function d(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var g={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new u.default.Attributor.Class("font","ql-font",g),w=function(m){d(v,m);function v(){return p(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"value",value:function(y){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),v}(u.default.Attributor.Style),_=new w("font","font-family",g);i.FontStyle=_,i.FontClass=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var a=o(0),l=s(a);function s(p){return p&&p.__esModule?p:{default:p}}var u=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=u,i.SizeStyle=f},function(r,i,o){r.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var a=function(){function x(y,k){for(var N=0;N<k.length;N++){var j=k[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,k,N){return k&&x(y.prototype,k),N&&x(y,N),y}}(),l=o(0),s=d(l),u=o(5),f=d(u),p=o(9),c=d(p);function d(x){return x&&x.__esModule?x:{default:x}}function g(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function b(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function w(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var _=function(x){w(y,x);function y(k,N){g(this,y);var j=b(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,k,N));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(f.default.events.EDITOR_CHANGE,function(E,C,S,T){E!==f.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||T===f.default.sources.USER?j.record(C,S):j.transform(C))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return a(y,[{key:"change",value:function(N,j){if(this.stack[N].length!==0){var E=this.stack[N].pop();this.stack[j].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[N],f.default.sources.USER),this.ignoreChange=!1;var C=v(E[N]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,j){if(N.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(j),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var S=this.stack.undo.pop();E=E.compose(S.undo),N=S.redo.compose(N)}else this.lastRecorded=C;this.stack.undo.push({redo:N,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(c.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(x){var y=x.ops[x.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(k){return s.default.query(k,s.default.Scope.BLOCK)!=null}):!1}function v(x){var y=x.reduce(function(N,j){return N+=j.delete||0,N},0),k=x.length()-y;return m(x)&&(k-=1),k}i.default=_,i.getLastChangeIndex=v},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var a=function(){function F(L,V){for(var U=0;U<V.length;U++){var $=V[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,V,U){return V&&F(L.prototype,V),U&&F(L,U),L}}(),l=function F(L,V,U){L===null&&(L=Function.prototype);var $=Object.getOwnPropertyDescriptor(L,V);if($===void 0){var q=Object.getPrototypeOf(L);return q===null?void 0:F(q,V,U)}else{if("value"in $)return $.value;var K=$.get;return K===void 0?void 0:K.call(U)}},s=o(3),u=C(s),f=o(2),p=C(f),c=o(8),d=C(c),g=o(23),b=C(g),w=o(34),_=C(w),m=o(59),v=C(m),x=o(60),y=C(x),k=o(28),N=C(k),j=o(61),E=C(j);function C(F){return F&&F.__esModule?F:{default:F}}function S(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}function T(F,L){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:F}function O(F,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);F.prototype=Object.create(L&&L.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(F,L):F.__proto__=L)}var P=[!1,"center","right","justify"],A=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],R=[!1,"serif","monospace"],B=["1","2","3",!1],z=["small",!1,"large","huge"],H=function(F){O(L,F);function L(V,U){S(this,L);var $=T(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,V,U)),q=function K(Z){if(!document.body.contains(V.root))return document.body.removeEventListener("click",K);$.tooltip!=null&&!$.tooltip.root.contains(Z.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(ee){ee.container.contains(Z.target)||ee.close()})};return V.emitter.listenDOM("click",document.body,q),$}return a(L,[{key:"addModule",value:function(U){var $=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"addModule",this).call(this,U);return U==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(U,$){U.forEach(function(q){var K=q.getAttribute("class")||"";K.split(/\s+/).forEach(function(Z){if(Z.startsWith("ql-")&&(Z=Z.slice(3),$[Z]!=null))if(Z==="direction")q.innerHTML=$[Z][""]+$[Z].rtl;else if(typeof $[Z]=="string")q.innerHTML=$[Z];else{var ee=q.value||"";ee!=null&&$[Z][ee]&&(q.innerHTML=$[Z][ee])}})})}},{key:"buildPickers",value:function(U,$){var q=this;this.pickers=U.map(function(Z){if(Z.classList.contains("ql-align"))return Z.querySelector("option")==null&&I(Z,P),new y.default(Z,$.align);if(Z.classList.contains("ql-background")||Z.classList.contains("ql-color")){var ee=Z.classList.contains("ql-background")?"background":"color";return Z.querySelector("option")==null&&I(Z,A,ee==="background"?"#ffffff":"#000000"),new v.default(Z,$[ee])}else return Z.querySelector("option")==null&&(Z.classList.contains("ql-font")?I(Z,R):Z.classList.contains("ql-header")?I(Z,B):Z.classList.contains("ql-size")&&I(Z,z)),new N.default(Z)});var K=function(){q.pickers.forEach(function(ee){ee.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,K)}}]),L}(_.default);H.DEFAULTS=(0,u.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var L=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var U=new FileReader;U.onload=function($){var q=L.quill.getSelection(!0);L.quill.updateContents(new p.default().retain(q.index).delete(q.length).insert({image:$.target.result}),d.default.sources.USER),L.quill.setSelection(q.index+1,d.default.sources.SILENT),V.value=""},U.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(F){O(L,F);function L(V,U){S(this,L);var $=T(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,V,U));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(L,[{key:"listen",value:function(){var U=this;this.textbox.addEventListener("keydown",function($){b.default.match($,"enter")?(U.save(),$.preventDefault()):b.default.match($,"escape")&&(U.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:U!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+U)||""),this.root.setAttribute("data-mode",U)}},{key:"restoreFocus",value:function(){var U=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=U}},{key:"save",value:function(){var U=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",U,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",U,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":U=M(U);case"formula":{if(!U)break;var q=this.quill.getSelection(!0);if(q!=null){var K=q.index+q.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),U,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",d.default.sources.USER),this.quill.setSelection(K+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),L}(E.default);function M(F){var L=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return L?(L[1]||"https")+"://www.youtube.com/embed/"+L[2]+"?showinfo=0":(L=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(L[1]||"https")+"://player.vimeo.com/video/"+L[2]+"/":F}function I(F,L){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;L.forEach(function(U){var $=document.createElement("option");U===V?$.setAttribute("selected","selected"):$.setAttribute("value",U),F.appendChild($)})}i.BaseTooltip=D,i.default=H},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},l.prototype.contains=function(s){for(var u,f=this.iterator();u=f();)if(u===s)return!0;return!1},l.prototype.insertBefore=function(s,u){s&&(s.next=u,u!=null?(s.prev=u.prev,u.prev!=null&&(u.prev.next=s),u.prev=s,u===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},l.prototype.offset=function(s){for(var u=0,f=this.head;f!=null;){if(f===s)return u;u+=f.length(),f=f.next}return-1},l.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},l.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var u=s;return s!=null&&(s=s.next),u}},l.prototype.find=function(s,u){u===void 0&&(u=!1);for(var f,p=this.iterator();f=p();){var c=f.length();if(s<c||u&&s===c&&(f.next==null||f.next.length()!==0))return[f,s];s-=c}return[null,0]},l.prototype.forEach=function(s){for(var u,f=this.iterator();u=f();)s(u)},l.prototype.forEachAt=function(s,u,f){if(!(u<=0))for(var p=this.find(s),c=p[0],d=p[1],g,b=s-d,w=this.iterator(c);(g=w())&&b<s+u;){var _=g.length();s>b?f(g,s-b,Math.min(u,b+_-s)):f(g,0,Math.min(_,s+u-b)),b+=_}},l.prototype.map=function(s){return this.reduce(function(u,f){return u.push(s(f)),u},[])},l.prototype.reduce=function(s,u){for(var f,p=this.iterator();f=p();)u=s(u,f);return u},l}();i.default=a},function(r,i,o){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])};return function(d,g){c(d,g);function b(){this.constructor=d}d.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(17),s=o(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,p=function(c){a(d,c);function d(g){var b=c.call(this,g)||this;return b.scroll=b,b.observer=new MutationObserver(function(w){b.update(w)}),b.observer.observe(b.domNode,u),b.attach(),b}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(g,b){this.update(),g===0&&b===this.length()?this.children.forEach(function(w){w.remove()}):c.prototype.deleteAt.call(this,g,b)},d.prototype.formatAt=function(g,b,w,_){this.update(),c.prototype.formatAt.call(this,g,b,w,_)},d.prototype.insertAt=function(g,b,w){this.update(),c.prototype.insertAt.call(this,g,b,w)},d.prototype.optimize=function(g,b){var w=this;g===void 0&&(g=[]),b===void 0&&(b={}),c.prototype.optimize.call(this,b);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)g.push(_.pop());for(var m=function(k,N){N===void 0&&(N=!0),!(k==null||k===w)&&k.domNode.parentNode!=null&&(k.domNode[s.DATA_KEY].mutations==null&&(k.domNode[s.DATA_KEY].mutations=[]),N&&m(k.parent))},v=function(k){k.domNode[s.DATA_KEY]==null||k.domNode[s.DATA_KEY].mutations==null||(k instanceof l.default&&k.children.forEach(v),k.optimize(b))},x=g,y=0;x.length>0;y+=1){if(y>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(k){var N=s.find(k.target,!0);N!=null&&(N.domNode===k.target&&(k.type==="childList"?(m(s.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(j){var E=s.find(j,!1);m(E,!1),E instanceof l.default&&E.children.forEach(function(C){m(C,!1)})})):k.type==="attributes"&&m(N.prev)),m(N))}),this.children.forEach(v),x=[].slice.call(this.observer.takeRecords()),_=x.slice();_.length>0;)g.push(_.pop())}},d.prototype.update=function(g,b){var w=this;b===void 0&&(b={}),g=g||this.observer.takeRecords(),g.map(function(_){var m=s.find(_.target,!0);return m==null?null:m.domNode[s.DATA_KEY].mutations==null?(m.domNode[s.DATA_KEY].mutations=[_],m):(m.domNode[s.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===w||_.domNode[s.DATA_KEY]==null||_.update(_.domNode[s.DATA_KEY].mutations||[],b)}),this.domNode[s.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,b),this.optimize(g,b)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(l.default);i.default=p},function(r,i,o){var a=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])};return function(c,d){p(c,d);function g(){this.constructor=c}c.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(18),s=o(1);function u(p,c){if(Object.keys(p).length!==Object.keys(c).length)return!1;for(var d in p)if(p[d]!==c[d])return!1;return!0}var f=function(p){a(c,p);function c(){return p!==null&&p.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return p.formats.call(this,d)},c.prototype.format=function(d,g){var b=this;d===this.statics.blotName&&!g?(this.children.forEach(function(w){w instanceof l.default||(w=w.wrap(c.blotName,!0)),b.attributes.copy(w)}),this.unwrap()):p.prototype.format.call(this,d,g)},c.prototype.formatAt=function(d,g,b,w){if(this.formats()[b]!=null||s.query(b,s.Scope.ATTRIBUTE)){var _=this.isolate(d,g);_.format(b,w)}else p.prototype.formatAt.call(this,d,g,b,w)},c.prototype.optimize=function(d){p.prototype.optimize.call(this,d);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var b=this.next;b instanceof c&&b.prev===this&&u(g,b.formats())&&(b.moveChildren(this),b.remove())},c.blotName="inline",c.scope=s.Scope.INLINE_BLOT,c.tagName="SPAN",c}(l.default);i.default=f},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(18),s=o(1),u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.formats=function(c){var d=s.query(p.blotName).tagName;if(c.tagName!==d)return f.formats.call(this,c)},p.prototype.format=function(c,d){s.query(c,s.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(p.blotName):f.prototype.format.call(this,c,d))},p.prototype.formatAt=function(c,d,g,b){s.query(g,s.Scope.BLOCK)!=null?this.format(g,b):f.prototype.formatAt.call(this,c,d,g,b)},p.prototype.insertAt=function(c,d,g){if(g==null||s.query(d,s.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,d,g);else{var b=this.split(c),w=s.create(d,g);b.parent.insertBefore(w,b)}},p.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,d)},p.blotName="block",p.scope=s.Scope.BLOCK_BLOT,p.tagName="P",p}(l.default);i.default=u},function(r,i,o){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var c in p)p.hasOwnProperty(c)&&(f[c]=p[c])};return function(f,p){u(f,p);function c(){this.constructor=f}f.prototype=p===null?Object.create(p):(c.prototype=p.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(19),s=function(u){a(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(p){},f.prototype.format=function(p,c){u.prototype.formatAt.call(this,0,this.length(),p,c)},f.prototype.formatAt=function(p,c,d,g){p===0&&c===this.length()?this.format(d,g):u.prototype.formatAt.call(this,p,c,d,g)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(l.default);i.default=s},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(19),s=o(1),u=function(f){a(p,f);function p(c){var d=f.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return p.create=function(c){return document.createTextNode(c)},p.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},p.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},p.prototype.index=function(c,d){return this.domNode===c?d:-1},p.prototype.insertAt=function(c,d,g){g==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,d,g)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(c,d){return[this.domNode,c]},p.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var g=s.create(this.domNode.splitText(c));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},p.prototype.update=function(c,d){var g=this;c.some(function(b){return b.type==="characterData"&&b.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=s.Scope.INLINE_BLOT,p}(l.default);i.default=u},function(r,i,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,u){return arguments.length>1&&!this.contains(s)==!u?u:l.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,u){return u=u||0,this.substr(u,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,u){var f=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>f.length)&&(u=f.length),u-=s.length;var p=f.indexOf(s,u);return p!==-1&&p===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),p=f.length>>>0,c=arguments[1],d,g=0;g<p;g++)if(d=f[g],u.call(c,d,g,f))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,i){var o=-1,a=1,l=0;function s(y,k,N){if(y==k)return y?[[l,y]]:[];(N<0||y.length<N)&&(N=null);var j=c(y,k),E=y.substring(0,j);y=y.substring(j),k=k.substring(j),j=d(y,k);var C=y.substring(y.length-j);y=y.substring(0,y.length-j),k=k.substring(0,k.length-j);var S=u(y,k);return E&&S.unshift([l,E]),C&&S.push([l,C]),b(S),N!=null&&(S=m(S,N)),S=v(S),S}function u(y,k){var N;if(!y)return[[a,k]];if(!k)return[[o,y]];var j=y.length>k.length?y:k,E=y.length>k.length?k:y,C=j.indexOf(E);if(C!=-1)return N=[[a,j.substring(0,C)],[l,E],[a,j.substring(C+E.length)]],y.length>k.length&&(N[0][0]=N[2][0]=o),N;if(E.length==1)return[[o,y],[a,k]];var S=g(y,k);if(S){var T=S[0],O=S[1],P=S[2],A=S[3],R=S[4],B=s(T,P),z=s(O,A);return B.concat([[l,R]],z)}return f(y,k)}function f(y,k){for(var N=y.length,j=k.length,E=Math.ceil((N+j)/2),C=E,S=2*E,T=new Array(S),O=new Array(S),P=0;P<S;P++)T[P]=-1,O[P]=-1;T[C+1]=0,O[C+1]=0;for(var A=N-j,R=A%2!=0,B=0,z=0,H=0,D=0,M=0;M<E;M++){for(var I=-M+B;I<=M-z;I+=2){var F=C+I,L;I==-M||I!=M&&T[F-1]<T[F+1]?L=T[F+1]:L=T[F-1]+1;for(var V=L-I;L<N&&V<j&&y.charAt(L)==k.charAt(V);)L++,V++;if(T[F]=L,L>N)z+=2;else if(V>j)B+=2;else if(R){var U=C+A-I;if(U>=0&&U<S&&O[U]!=-1){var $=N-O[U];if(L>=$)return p(y,k,L,V)}}}for(var q=-M+H;q<=M-D;q+=2){var U=C+q,$;q==-M||q!=M&&O[U-1]<O[U+1]?$=O[U+1]:$=O[U-1]+1;for(var K=$-q;$<N&&K<j&&y.charAt(N-$-1)==k.charAt(j-K-1);)$++,K++;if(O[U]=$,$>N)D+=2;else if(K>j)H+=2;else if(!R){var F=C+A-q;if(F>=0&&F<S&&T[F]!=-1){var L=T[F],V=C+L-F;if($=N-$,L>=$)return p(y,k,L,V)}}}}return[[o,y],[a,k]]}function p(y,k,N,j){var E=y.substring(0,N),C=k.substring(0,j),S=y.substring(N),T=k.substring(j),O=s(E,C),P=s(S,T);return O.concat(P)}function c(y,k){if(!y||!k||y.charAt(0)!=k.charAt(0))return 0;for(var N=0,j=Math.min(y.length,k.length),E=j,C=0;N<E;)y.substring(C,E)==k.substring(C,E)?(N=E,C=N):j=E,E=Math.floor((j-N)/2+N);return E}function d(y,k){if(!y||!k||y.charAt(y.length-1)!=k.charAt(k.length-1))return 0;for(var N=0,j=Math.min(y.length,k.length),E=j,C=0;N<E;)y.substring(y.length-E,y.length-C)==k.substring(k.length-E,k.length-C)?(N=E,C=N):j=E,E=Math.floor((j-N)/2+N);return E}function g(y,k){var N=y.length>k.length?y:k,j=y.length>k.length?k:y;if(N.length<4||j.length*2<N.length)return null;function E(z,H,D){for(var M=z.substring(D,D+Math.floor(z.length/4)),I=-1,F="",L,V,U,$;(I=H.indexOf(M,I+1))!=-1;){var q=c(z.substring(D),H.substring(I)),K=d(z.substring(0,D),H.substring(0,I));F.length<K+q&&(F=H.substring(I-K,I)+H.substring(I,I+q),L=z.substring(0,D-K),V=z.substring(D+q),U=H.substring(0,I-K),$=H.substring(I+q))}return F.length*2>=z.length?[L,V,U,$,F]:null}var C=E(N,j,Math.ceil(N.length/4)),S=E(N,j,Math.ceil(N.length/2)),T;if(!C&&!S)return null;S?C?T=C[4].length>S[4].length?C:S:T=S:T=C;var O,P,A,R;y.length>k.length?(O=T[0],P=T[1],A=T[2],R=T[3]):(A=T[0],R=T[1],O=T[2],P=T[3]);var B=T[4];return[O,P,A,R,B]}function b(y){y.push([l,""]);for(var k=0,N=0,j=0,E="",C="",S;k<y.length;)switch(y[k][0]){case a:j++,C+=y[k][1],k++;break;case o:N++,E+=y[k][1],k++;break;case l:N+j>1?(N!==0&&j!==0&&(S=c(C,E),S!==0&&(k-N-j>0&&y[k-N-j-1][0]==l?y[k-N-j-1][1]+=C.substring(0,S):(y.splice(0,0,[l,C.substring(0,S)]),k++),C=C.substring(S),E=E.substring(S)),S=d(C,E),S!==0&&(y[k][1]=C.substring(C.length-S)+y[k][1],C=C.substring(0,C.length-S),E=E.substring(0,E.length-S))),N===0?y.splice(k-j,N+j,[a,C]):j===0?y.splice(k-N,N+j,[o,E]):y.splice(k-N-j,N+j,[o,E],[a,C]),k=k-N-j+(N?1:0)+(j?1:0)+1):k!==0&&y[k-1][0]==l?(y[k-1][1]+=y[k][1],y.splice(k,1)):k++,j=0,N=0,E="",C="";break}y[y.length-1][1]===""&&y.pop();var T=!1;for(k=1;k<y.length-1;)y[k-1][0]==l&&y[k+1][0]==l&&(y[k][1].substring(y[k][1].length-y[k-1][1].length)==y[k-1][1]?(y[k][1]=y[k-1][1]+y[k][1].substring(0,y[k][1].length-y[k-1][1].length),y[k+1][1]=y[k-1][1]+y[k+1][1],y.splice(k-1,1),T=!0):y[k][1].substring(0,y[k+1][1].length)==y[k+1][1]&&(y[k-1][1]+=y[k+1][1],y[k][1]=y[k][1].substring(y[k+1][1].length)+y[k+1][1],y.splice(k+1,1),T=!0)),k++;T&&b(y)}var w=s;w.INSERT=a,w.DELETE=o,w.EQUAL=l,r.exports=w;function _(y,k){if(k===0)return[l,y];for(var N=0,j=0;j<y.length;j++){var E=y[j];if(E[0]===o||E[0]===l){var C=N+E[1].length;if(k===C)return[j+1,y];if(k<C){y=y.slice();var S=k-N,T=[E[0],E[1].slice(0,S)],O=[E[0],E[1].slice(S)];return y.splice(j,1,T,O),[j+1,y]}else N=C}}throw new Error("cursor_pos is out of bounds!")}function m(y,k){var N=_(y,k),j=N[1],E=N[0],C=j[E],S=j[E+1];if(C==null)return y;if(C[0]!==l)return y;if(S!=null&&C[1]+S[1]===S[1]+C[1])return j.splice(E,2,S,C),x(j,E,2);if(S!=null&&S[1].indexOf(C[1])===0){j.splice(E,2,[S[0],C[1]],[0,C[1]]);var T=S[1].slice(C[1].length);return T.length>0&&j.splice(E+2,0,[S[0],T]),x(j,E,3)}else return y}function v(y){for(var k=!1,N=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},j=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},E=2;E<y.length;E+=1)y[E-2][0]===l&&j(y[E-2][1])&&y[E-1][0]===o&&N(y[E-1][1])&&y[E][0]===a&&N(y[E][1])&&(k=!0,y[E-1][1]=y[E-2][1].slice(-1)+y[E-1][1],y[E][1]=y[E-2][1].slice(-1)+y[E][1],y[E-2][1]=y[E-2][1].slice(0,-1));if(!k)return y;for(var C=[],E=0;E<y.length;E+=1)y[E][1].length>0&&C.push(y[E]);return C}function x(y,k,N){for(var j=k+N-1;j>=0&&j>=k-1;j--)if(j+1<y.length){var E=y[j],C=y[j+1];E[0]===C[1]&&y.splice(j,2,[E[0],E[1]+C[1]])}return y}},function(r,i){i=r.exports=typeof Object.keys=="function"?Object.keys:o,i.shim=o;function o(a){var l=[];for(var s in a)l.push(s);return l}},function(r,i){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=r.exports=o?a:l,i.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}i.unsupported=l;function l(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,i){var o=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function s(f,p,c){this.fn=f,this.context=p,this.once=c||!1}function u(){this._events=new l,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],c,d;if(this._eventsCount===0)return p;for(d in c=this._events)o.call(c,d)&&p.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(c)):p},u.prototype.listeners=function(p,c){var d=a?a+p:p,g=this._events[d];if(c)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,_=new Array(w);b<w;b++)_[b]=g[b].fn;return _},u.prototype.emit=function(p,c,d,g,b,w){var _=a?a+p:p;if(!this._events[_])return!1;var m=this._events[_],v=arguments.length,x,y;if(m.fn){switch(m.once&&this.removeListener(p,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,g),!0;case 5:return m.fn.call(m.context,c,d,g,b),!0;case 6:return m.fn.call(m.context,c,d,g,b,w),!0}for(y=1,x=new Array(v-1);y<v;y++)x[y-1]=arguments[y];m.fn.apply(m.context,x)}else{var k=m.length,N;for(y=0;y<k;y++)switch(m[y].once&&this.removeListener(p,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,c);break;case 3:m[y].fn.call(m[y].context,c,d);break;case 4:m[y].fn.call(m[y].context,c,d,g);break;default:if(!x)for(N=1,x=new Array(v-1);N<v;N++)x[N-1]=arguments[N];m[y].fn.apply(m[y].context,x)}}return!0},u.prototype.on=function(p,c,d){var g=new s(c,d||this),b=a?a+p:p;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],g]:this._events[b].push(g):(this._events[b]=g,this._eventsCount++),this},u.prototype.once=function(p,c,d){var g=new s(c,d||this,!0),b=a?a+p:p;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],g]:this._events[b].push(g):(this._events[b]=g,this._eventsCount++),this},u.prototype.removeListener=function(p,c,d,g){var b=a?a+p:p;if(!this._events[b])return this;if(!c)return--this._eventsCount===0?this._events=new l:delete this._events[b],this;var w=this._events[b];if(w.fn)w.fn===c&&(!g||w.once)&&(!d||w.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[b]);else{for(var _=0,m=[],v=w.length;_<v;_++)(w[_].fn!==c||g&&!w[_].once||d&&w[_].context!==d)&&m.push(w[_]);m.length?this._events[b]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new l:delete this._events[b]}return this},u.prototype.removeAllListeners=function(p){var c;return p?(c=a?a+p:p,this._events[c]&&(--this._eventsCount===0?this._events=new l:delete this._events[c])):(this._events=new l,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=a,u.EventEmitter=u,typeof r<"u"&&(r.exports=u)},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},l=function(){function J(te,ae){var le=[],re=!0,he=!1,X=void 0;try{for(var Q=te[Symbol.iterator](),Y;!(re=(Y=Q.next()).done)&&(le.push(Y.value),!(ae&&le.length===ae));re=!0);}catch(be){he=!0,X=be}finally{try{!re&&Q.return&&Q.return()}finally{if(he)throw X}}return le}return function(te,ae){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return J(te,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function J(te,ae){for(var le=0;le<ae.length;le++){var re=ae[le];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(te,re.key,re)}}return function(te,ae,le){return ae&&J(te.prototype,ae),le&&J(te,le),te}}(),u=o(3),f=O(u),p=o(2),c=O(p),d=o(0),g=O(d),b=o(5),w=O(b),_=o(10),m=O(_),v=o(9),x=O(v),y=o(36),k=o(37),N=o(13),j=O(N),E=o(26),C=o(38),S=o(39),T=o(40);function O(J){return J&&J.__esModule?J:{default:J}}function P(J,te,ae){return te in J?Object.defineProperty(J,te,{value:ae,enumerable:!0,configurable:!0,writable:!0}):J[te]=ae,J}function A(J,te){if(!(J instanceof te))throw new TypeError("Cannot call a class as a function")}function R(J,te){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:J}function B(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);J.prototype=Object.create(te&&te.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(J,te):J.__proto__=te)}var z=(0,m.default)("quill:clipboard"),H="__ql-matcher",D=[[Node.TEXT_NODE,Pe],[Node.TEXT_NODE,ge],["br",ne],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,ye],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Ue],["li",fe],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ce]],M=[y.AlignAttribute,C.DirectionAttribute].reduce(function(J,te){return J[te.keyName]=te,J},{}),I=[y.AlignStyle,k.BackgroundStyle,E.ColorStyle,C.DirectionStyle,S.FontStyle,T.SizeStyle].reduce(function(J,te){return J[te.keyName]=te,J},{}),F=function(J){B(te,J);function te(ae,le){A(this,te);var re=R(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,ae,le));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],D.concat(re.options.matchers).forEach(function(he){var X=l(he,2),Q=X[0],Y=X[1];!le.matchVisual&&Y===ye||re.addMatcher(Q,Y)}),re}return s(te,[{key:"addMatcher",value:function(le,re){this.matchers.push([le,re])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[j.default.blotName]){var he=this.container.innerText;return this.container.innerHTML="",new c.default().insert(he,P({},j.default.blotName,re[j.default.blotName]))}var X=this.prepareMatching(),Q=l(X,2),Y=Q[0],be=Q[1],me=q(this.container,Y,be);return U(me,`
`)&&me.ops[me.ops.length-1].attributes==null&&(me=me.compose(new c.default().retain(me.length()-1).delete(1))),z.log("convert",this.container.innerHTML,me),this.container.innerHTML="",me}},{key:"dangerouslyPasteHTML",value:function(le,re){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),re),this.quill.setSelection(0,w.default.sources.SILENT);else{var X=this.convert(re);this.quill.updateContents(new c.default().retain(le).concat(X),he),this.quill.setSelection(le+X.length(),w.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var re=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var he=this.quill.getSelection(),X=new c.default().retain(he.index),Q=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(w.default.sources.SILENT),setTimeout(function(){X=X.concat(re.convert()).delete(he.length),re.quill.updateContents(X,w.default.sources.USER),re.quill.setSelection(X.length()-he.length,w.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Q,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,re=[],he=[];return this.matchers.forEach(function(X){var Q=l(X,2),Y=Q[0],be=Q[1];switch(Y){case Node.TEXT_NODE:he.push(be);break;case Node.ELEMENT_NODE:re.push(be);break;default:[].forEach.call(le.container.querySelectorAll(Y),function(me){me[H]=me[H]||[],me[H].push(be)});break}}),[re,he]}}]),te}(x.default);F.DEFAULTS={matchers:[],matchVisual:!0};function L(J,te,ae){return(typeof te>"u"?"undefined":a(te))==="object"?Object.keys(te).reduce(function(le,re){return L(le,re,te[re])},J):J.reduce(function(le,re){return re.attributes&&re.attributes[te]?le.push(re):le.insert(re.insert,(0,f.default)({},P({},te,ae),re.attributes))},new c.default)}function V(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return J[te]||(J[te]=window.getComputedStyle(J))}function U(J,te){for(var ae="",le=J.ops.length-1;le>=0&&ae.length<te.length;--le){var re=J.ops[le];if(typeof re.insert!="string")break;ae=re.insert+ae}return ae.slice(-1*te.length)===te}function $(J){if(J.childNodes.length===0)return!1;var te=V(J);return["block","list-item"].indexOf(te.display)>-1}function q(J,te,ae){return J.nodeType===J.TEXT_NODE?ae.reduce(function(le,re){return re(J,le)},new c.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(le,re){var he=q(re,te,ae);return re.nodeType===J.ELEMENT_NODE&&(he=te.reduce(function(X,Q){return Q(re,X)},he),he=(re[H]||[]).reduce(function(X,Q){return Q(re,X)},he)),le.concat(he)},new c.default):new c.default}function K(J,te,ae){return L(ae,J,!0)}function Z(J,te){var ae=g.default.Attributor.Attribute.keys(J),le=g.default.Attributor.Class.keys(J),re=g.default.Attributor.Style.keys(J),he={};return ae.concat(le).concat(re).forEach(function(X){var Q=g.default.query(X,g.default.Scope.ATTRIBUTE);Q!=null&&(he[Q.attrName]=Q.value(J),he[Q.attrName])||(Q=M[X],Q!=null&&(Q.attrName===X||Q.keyName===X)&&(he[Q.attrName]=Q.value(J)||void 0),Q=I[X],Q!=null&&(Q.attrName===X||Q.keyName===X)&&(Q=I[X],he[Q.attrName]=Q.value(J)||void 0))}),Object.keys(he).length>0&&(te=L(te,he)),te}function ee(J,te){var ae=g.default.query(J);if(ae==null)return te;if(ae.prototype instanceof g.default.Embed){var le={},re=ae.value(J);re!=null&&(le[ae.blotName]=re,te=new c.default().insert(le,ae.formats(J)))}else typeof ae.formats=="function"&&(te=L(te,ae.blotName,ae.formats(J)));return te}function ne(J,te){return U(te,`
`)||te.insert(`
`),te}function ce(){return new c.default}function fe(J,te){var ae=g.default.query(J);if(ae==null||ae.blotName!=="list-item"||!U(te,`
`))return te;for(var le=-1,re=J.parentNode;!re.classList.contains("ql-clipboard");)(g.default.query(re)||{}).blotName==="list"&&(le+=1),re=re.parentNode;return le<=0?te:te.compose(new c.default().retain(te.length()-1).retain(1,{indent:le}))}function ge(J,te){return U(te,`
`)||($(J)||te.length()>0&&J.nextSibling&&$(J.nextSibling))&&te.insert(`
`),te}function ye(J,te){if($(J)&&J.nextElementSibling!=null&&!U(te,`

`)){var ae=J.offsetHeight+parseFloat(V(J).marginTop)+parseFloat(V(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+ae*1.5&&te.insert(`
`)}return te}function Ue(J,te){var ae={},le=J.style||{};return le.fontStyle&&V(J).fontStyle==="italic"&&(ae.italic=!0),le.fontWeight&&(V(J).fontWeight.startsWith("bold")||parseInt(V(J).fontWeight)>=700)&&(ae.bold=!0),Object.keys(ae).length>0&&(te=L(te,ae)),parseFloat(le.textIndent||0)>0&&(te=new c.default().insert("	").concat(te)),te}function Pe(J,te){var ae=J.data;if(J.parentNode.tagName==="O:P")return te.insert(ae.trim());if(ae.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return te;if(!V(J.parentNode).whiteSpace.startsWith("pre")){var le=function(he,X){return X=X.replace(/[^\u00a0]/g,""),X.length<1&&he?" ":X};ae=ae.replace(/\r\n/g," ").replace(/\n/g," "),ae=ae.replace(/\s\s+/g,le.bind(le,!0)),(J.previousSibling==null&&$(J.parentNode)||J.previousSibling!=null&&$(J.previousSibling))&&(ae=ae.replace(/^\s+/,le.bind(le,!1))),(J.nextSibling==null&&$(J.parentNode)||J.nextSibling!=null&&$(J.nextSibling))&&(ae=ae.replace(/\s+$/,le.bind(le,!1)))}return te.insert(ae)}i.default=F,i.matchAttributor=Z,i.matchBlot=ee,i.matchNewline=ge,i.matchSpacing=ye,i.matchText=Pe},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,m){return _&&b(w.prototype,_),m&&b(w,m),w}}(),l=function b(w,_,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},s=o(6),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"optimize",value:function(m){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),w}(u.default);g.blotName="bold",g.tagName=["STRONG","B"],i.default=g},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var a=function(){function T(O,P){var A=[],R=!0,B=!1,z=void 0;try{for(var H=O[Symbol.iterator](),D;!(R=(D=H.next()).done)&&(A.push(D.value),!(P&&A.length===P));R=!0);}catch(M){B=!0,z=M}finally{try{!R&&H.return&&H.return()}finally{if(B)throw z}}return A}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function T(O,P){for(var A=0;A<P.length;A++){var R=P[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,P,A){return P&&T(O.prototype,P),A&&T(O,A),O}}(),s=o(2),u=m(s),f=o(0),p=m(f),c=o(5),d=m(c),g=o(10),b=m(g),w=o(9),_=m(w);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,O,P){return O in T?Object.defineProperty(T,O,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[O]=P,T}function x(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function y(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function k(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var N=(0,b.default)("quill:toolbar"),j=function(T){k(O,T);function O(P,A){x(this,O);var R=y(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,A));if(Array.isArray(R.options.container)){var B=document.createElement("div");C(B,R.options.container),P.container.parentNode.insertBefore(B,P.container),R.container=B}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;if(!(R.container instanceof HTMLElement)){var z;return z=N.error("Container required for toolbar",R.options),y(R,z)}return R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(H){R.addHandler(H,R.options.handlers[H])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(H){R.attach(H)}),R.quill.on(d.default.events.EDITOR_CHANGE,function(H,D){H===d.default.events.SELECTION_CHANGE&&R.update(D)}),R.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var H=R.quill.selection.getRange(),D=a(H,1),M=D[0];R.update(M)}),R}return l(O,[{key:"addHandler",value:function(A,R){this.handlers[A]=R}},{key:"attach",value:function(A){var R=this,B=[].find.call(A.classList,function(H){return H.indexOf("ql-")===0});if(B){if(B=B.slice(3),A.tagName==="BUTTON"&&A.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){N.warn("ignoring attaching to disabled format",B,A);return}if(p.default.query(B)==null){N.warn("ignoring attaching to nonexistent format",B,A);return}}var z=A.tagName==="SELECT"?"change":"click";A.addEventListener(z,function(H){var D=void 0;if(A.tagName==="SELECT"){if(A.selectedIndex<0)return;var M=A.options[A.selectedIndex];M.hasAttribute("selected")?D=!1:D=M.value||!1}else A.classList.contains("ql-active")?D=!1:D=A.value||!A.hasAttribute("value"),H.preventDefault();R.quill.focus();var I=R.quill.selection.getRange(),F=a(I,1),L=F[0];if(R.handlers[B]!=null)R.handlers[B].call(R,D);else if(p.default.query(B).prototype instanceof p.default.Embed){if(D=prompt("Enter "+B),!D)return;R.quill.updateContents(new u.default().retain(L.index).delete(L.length).insert(v({},B,D)),d.default.sources.USER)}else R.quill.format(B,D,d.default.sources.USER);R.update(L)}),this.controls.push([B,A])}}},{key:"update",value:function(A){var R=A==null?{}:this.quill.getFormat(A);this.controls.forEach(function(B){var z=a(B,2),H=z[0],D=z[1];if(D.tagName==="SELECT"){var M=void 0;if(A==null)M=null;else if(R[H]==null)M=D.querySelector("option[selected]");else if(!Array.isArray(R[H])){var I=R[H];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),M=D.querySelector('option[value="'+I+'"]')}M==null?(D.value="",D.selectedIndex=-1):M.selected=!0}else if(A==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var F=R[H]===D.getAttribute("value")||R[H]!=null&&R[H].toString()===D.getAttribute("value")||R[H]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",F)}else D.classList.toggle("ql-active",R[H]!=null)})}}]),O}(_.default);j.DEFAULTS={};function E(T,O,P){var A=document.createElement("button");A.setAttribute("type","button"),A.classList.add("ql-"+O),P!=null&&(A.value=P),T.appendChild(A)}function C(T,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(P){var A=document.createElement("span");A.classList.add("ql-formats"),P.forEach(function(R){if(typeof R=="string")E(A,R);else{var B=Object.keys(R)[0],z=R[B];Array.isArray(z)?S(A,B,z):E(A,B,z)}}),T.appendChild(A)})}function S(T,O,P){var A=document.createElement("select");A.classList.add("ql-"+O),P.forEach(function(R){var B=document.createElement("option");R!==!1?B.setAttribute("value",R):B.setAttribute("selected","selected"),A.appendChild(B)}),T.appendChild(A)}j.DEFAULTS={container:null,handlers:{clean:function(){var O=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var A=this.quill.getFormat();Object.keys(A).forEach(function(R){p.default.query(R,p.default.Scope.INLINE)!=null&&O.quill.format(R,!1)})}else this.quill.removeFormat(P,d.default.sources.USER)},direction:function(O){var P=this.quill.getFormat().align;O==="rtl"&&P==null?this.quill.format("align","right",d.default.sources.USER):!O&&P==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",O,d.default.sources.USER)},indent:function(O){var P=this.quill.getSelection(),A=this.quill.getFormat(P),R=parseInt(A.indent||0);if(O==="+1"||O==="-1"){var B=O==="+1"?1:-1;A.direction==="rtl"&&(B*=-1),this.quill.format("indent",R+B,d.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,d.default.sources.USER)},list:function(O){var P=this.quill.getSelection(),A=this.quill.getFormat(P);O==="check"?A.list==="checked"||A.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",O,d.default.sources.USER)}}},i.default=j,i.addControls=C},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,m){return _&&b(w.prototype,_),m&&b(w,m),w}}(),l=function b(w,_,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},s=o(28),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){d(w,b);function w(_,m){p(this,w);var v=c(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return v.label.innerHTML=m,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),v}return a(w,[{key:"buildItem",value:function(m){var v=l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"buildItem",this).call(this,m);return v.style.backgroundColor=m.getAttribute("value")||"",v}},{key:"selectItem",value:function(m,v){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,m,v);var x=this.label.querySelector(".ql-color-label"),y=m&&m.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=y:x.style.fill=y)}}]),w}(u.default);i.default=g},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,m){return _&&b(w.prototype,_),m&&b(w,m),w}}(),l=function b(w,_,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},s=o(28),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){d(w,b);function w(_,m){p(this,w);var v=c(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=m[x.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return a(w,[{key:"selectItem",value:function(m,v){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,m,v),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),w}(u.default);i.default=g},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(f,p){for(var c=0;c<p.length;c++){var d=p[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,p,c){return p&&u(f.prototype,p),c&&u(f,c),f}}();function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(f,p){var c=this;l(this,u),this.quill=f,this.boundsContainer=p||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return a(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var c=p.left+p.width/2-this.root.offsetWidth/2,d=p.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),w=0;if(b.right>g.right&&(w=g.right-b.right,this.root.style.left=c+w+"px"),b.left<g.left&&(w=g.left-b.left,this.root.style.left=c+w+"px"),b.bottom>g.bottom){var _=b.bottom-b.top,m=p.bottom-p.top+_;this.root.style.top=d-m+"px",this.root.classList.add("ql-flip")}return w}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();i.default=s},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(T,O){var P=[],A=!0,R=!1,B=void 0;try{for(var z=T[Symbol.iterator](),H;!(A=(H=z.next()).done)&&(P.push(H.value),!(O&&P.length===O));A=!0);}catch(D){R=!0,B=D}finally{try{!A&&z.return&&z.return()}finally{if(R)throw B}}return P}return function(T,O){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function S(T,O,P){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,O);if(A===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:S(R,O,P)}else{if("value"in A)return A.value;var B=A.get;return B===void 0?void 0:B.call(P)}},s=function(){function S(T,O){for(var P=0;P<O.length;P++){var A=O[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,O,P){return O&&S(T.prototype,O),P&&S(T,P),T}}(),u=o(3),f=x(u),p=o(8),c=x(p),d=o(43),g=x(d),b=o(27),w=x(b),_=o(15),m=o(41),v=x(m);function x(S){return S&&S.__esModule?S:{default:S}}function y(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function k(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function N(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(S){N(T,S);function T(O,P){y(this,T),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=j);var A=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,P));return A.quill.container.classList.add("ql-snow"),A}return s(T,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(A,R){P.handlers.link.call(P,!R.format.link)})}}]),T}(g.default);E.DEFAULTS=(0,f.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var O=this.quill.getSelection();if(O==null||O.length==0)return;var P=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var A=this.quill.theme.tooltip;A.edit("link",P)}else this.quill.format("link",!1)}}}}});var C=function(S){N(T,S);function T(O,P){y(this,T);var A=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,P));return A.preview=A.root.querySelector("a.ql-preview"),A}return s(T,[{key:"listen",value:function(){var P=this;l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(A){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),A.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(A){if(P.linkRange!=null){var R=P.linkRange;P.restoreFocus(),P.quill.formatText(R,"link",!1,c.default.sources.USER),delete P.linkRange}A.preventDefault(),P.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(A,R,B){if(A!=null){if(A.length===0&&B===c.default.sources.USER){var z=P.quill.scroll.descendant(w.default,A.index),H=a(z,2),D=H[0],M=H[1];if(D!=null){P.linkRange=new _.Range(A.index-M,D.length());var I=w.default.formats(D.domNode);P.preview.textContent=I,P.preview.setAttribute("href",I),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(d.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=E},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(29),l=re(a),s=o(36),u=o(38),f=o(64),p=o(65),c=re(p),d=o(66),g=re(d),b=o(67),w=re(b),_=o(37),m=o(26),v=o(39),x=o(40),y=o(56),k=re(y),N=o(68),j=re(N),E=o(27),C=re(E),S=o(69),T=re(S),O=o(70),P=re(O),A=o(71),R=re(A),B=o(72),z=re(B),H=o(73),D=re(H),M=o(13),I=re(M),F=o(74),L=re(F),V=o(75),U=re(V),$=o(57),q=re($),K=o(41),Z=re(K),ee=o(28),ne=re(ee),ce=o(59),fe=re(ce),ge=o(60),ye=re(ge),Ue=o(61),Pe=re(Ue),J=o(108),te=re(J),ae=o(62),le=re(ae);function re(he){return he&&he.__esModule?he:{default:he}}l.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":x.SizeStyle},!0),l.default.register({"formats/align":s.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":f.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":v.FontClass,"formats/size":x.SizeClass,"formats/blockquote":c.default,"formats/code-block":I.default,"formats/header":g.default,"formats/list":w.default,"formats/bold":k.default,"formats/code":M.Code,"formats/italic":j.default,"formats/link":C.default,"formats/script":T.default,"formats/strike":P.default,"formats/underline":R.default,"formats/image":z.default,"formats/video":D.default,"formats/list/item":b.ListItem,"modules/formula":L.default,"modules/syntax":U.default,"modules/toolbar":q.default,"themes/bubble":te.default,"themes/snow":le.default,"ui/icons":Z.default,"ui/picker":ne.default,"ui/icon-picker":ye.default,"ui/color-picker":fe.default,"ui/tooltip":Pe.default},!0),i.default=l.default},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var a=function(){function w(_,m){for(var v=0;v<m.length;v++){var x=m[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}return function(_,m,v){return m&&w(_.prototype,m),v&&w(_,v),_}}(),l=function w(_,m,v){_===null&&(_=Function.prototype);var x=Object.getOwnPropertyDescriptor(_,m);if(x===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:w(y,m,v)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(v)}},s=o(0),u=f(s);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function c(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var g=function(w){d(_,w);function _(){return p(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(v,x){if(x==="+1"||x==="-1"){var y=this.value(v)||0;x=x==="+1"?y+1:y-1}return x===0?(this.remove(v),!0):l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,v,x)}},{key:"canAdd",value:function(v,x){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,x)||l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,parseInt(x))}},{key:"value",value:function(v){return parseInt(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,v))||void 0}}]),_}(u.default.Attributor.Class),b=new g("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(4),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function f(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function p(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){p(g,d);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(l.default);c.blotName="blockquote",c.tagName="blockquote",i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function g(b,w){for(var _=0;_<w.length;_++){var m=w[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,w,_){return w&&g(b.prototype,w),_&&g(b,_),b}}(),l=o(4),s=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function p(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var d=function(g){c(b,g);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),b}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],i.default=d},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var a=function(){function y(k,N){for(var j=0;j<N.length;j++){var E=N[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,N,j){return N&&y(k.prototype,N),j&&y(k,j),k}}(),l=function y(k,N,j){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,N);if(E===void 0){var C=Object.getPrototypeOf(k);return C===null?void 0:y(C,N,j)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(j)}},s=o(0),u=g(s),f=o(4),p=g(f),c=o(25),d=g(c);function g(y){return y&&y.__esModule?y:{default:y}}function b(y,k,N){return k in y?Object.defineProperty(y,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):y[k]=N,y}function w(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function _(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function m(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var v=function(y){m(k,y);function k(){return w(this,k),_(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"format",value:function(j,E){j===x.blotName&&!E?this.replaceWith(u.default.create(this.statics.scope)):l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,j,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,E){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,E),this):(this.parent.unwrap(),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,j,E))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:l(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,j)}}]),k}(p.default);v.blotName="list-item",v.tagName="LI";var x=function(y){m(k,y),a(k,null,[{key:"create",value:function(j){var E=j==="ordered"?"OL":"UL",C=l(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,E);return(j==="checked"||j==="unchecked")&&C.setAttribute("data-checked",j==="checked"),C}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(N){w(this,k);var j=_(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N)),E=function(S){if(S.target.parentNode===N){var T=j.statics.formats(N),O=u.default.find(S.target);T==="checked"?O.format("list","unchecked"):T==="unchecked"&&O.format("list","checked")}};return N.addEventListener("touchstart",E),N.addEventListener("mousedown",E),j}return a(k,[{key:"format",value:function(j,E){this.children.length>0&&this.children.tail.format(j,E)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,E){if(j instanceof v)l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,j,E);else{var C=E==null?this.length():E.offset(this),S=this.split(C);S.parent.insertBefore(j,S)}}},{key:"optimize",value:function(j){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,j);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var E=u.default.create(this.statics.defaultChild);j.moveChildren(E),this.appendChild(E)}l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,j)}}]),k}(d.default);x.blotName="list",x.scope=u.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[v],i.ListItem=v,i.default=x},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(56),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function f(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function p(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){p(g,d);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(l.default);c.blotName="italic",c.tagName=["EM","I"],i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,m){return _&&b(w.prototype,_),m&&b(w,m),w}}(),l=function b(w,_,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},s=o(6),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var g=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),w}(u.default);g.blotName="script",g.tagName=["SUB","SUP"],i.default=g},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function f(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function p(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){p(g,d);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(l.default);c.blotName="strike",c.tagName="S",i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function f(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function p(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){p(g,d);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(l.default);c.blotName="underline",c.tagName="U",i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(m,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,x){return v&&_(m.prototype,v),x&&_(m,x),m}}(),l=function _(m,v,x){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var k=Object.getPrototypeOf(m);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(0),u=p(s),f=o(27);function p(_){return _&&_.__esModule?_:{default:_}}function c(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function d(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function g(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var b=["alt","height","width"],w=function(_){g(m,_);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"format",value:function(x,y){b.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=l(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,x);return typeof x=="string"&&y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return b.reduce(function(y,k){return x.hasAttribute(k)&&(y[k]=x.getAttribute(k)),y},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,f.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),m}(u.default.Embed);w.blotName="image",w.tagName="IMG",i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(m,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,x){return v&&_(m.prototype,v),x&&_(m,x),m}}(),l=function _(m,v,x){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var k=Object.getPrototypeOf(m);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(4),u=o(27),f=p(u);function p(_){return _&&_.__esModule?_:{default:_}}function c(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function d(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function g(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var b=["height","width"],w=function(_){g(m,_);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"format",value:function(x,y){b.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=l(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,x);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return b.reduce(function(y,k){return x.hasAttribute(k)&&(y[k]=x.getAttribute(k)),y},{})}},{key:"sanitize",value:function(x){return f.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),m}(s.BlockEmbed);w.blotName="video",w.className="ql-video",w.tagName="IFRAME",i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var a=function(){function x(y,k){for(var N=0;N<k.length;N++){var j=k[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,k,N){return k&&x(y.prototype,k),N&&x(y,N),y}}(),l=function x(y,k,N){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,k);if(j===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:x(E,k,N)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(N)}},s=o(35),u=g(s),f=o(5),p=g(f),c=o(9),d=g(c);function g(x){return x&&x.__esModule?x:{default:x}}function b(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function w(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function _(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var m=function(x){_(y,x);function y(){return b(this,y),w(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"create",value:function(N){var j=l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",N)),j}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),y}(u.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var v=function(x){_(y,x),a(y,null,[{key:"register",value:function(){p.default.register(m,!0)}}]);function y(){b(this,y);var k=w(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return y}(d.default);i.FormulaBlot=m,i.default=v},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var a=function(){function N(j,E){for(var C=0;C<E.length;C++){var S=E[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,E,C){return E&&N(j.prototype,E),C&&N(j,C),j}}(),l=function N(j,E,C){j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,E);if(S===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:N(T,E,C)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(C)}},s=o(0),u=w(s),f=o(5),p=w(f),c=o(9),d=w(c),g=o(13),b=w(g);function w(N){return N&&N.__esModule?N:{default:N}}function _(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function m(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function v(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var x=function(N){v(j,N);function j(){return _(this,j),m(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),j}(b.default);x.className="ql-syntax";var y=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),k=function(N){v(j,N),a(j,null,[{key:"register",value:function(){p.default.register(y,!0),p.default.register(x,!0)}}]);function j(E,C){_(this,j);var S=m(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E,C));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return S.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){S.highlight(),T=null},S.options.interval)}),S.highlight(),S}return a(j,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(T){T.highlight(C.options.highlight)}),this.quill.update(p.default.sources.SILENT),S!=null&&this.quill.setSelection(S,p.default.sources.SILENT)}}}]),j}(d.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var j=window.hljs.highlightAuto(N);return j.value}}(),interval:1e3},i.CodeBlock=x,i.CodeToken=y,i.default=k},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,i){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,i){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,i){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,i){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var a=function j(E,C,S){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,C);if(T===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:j(O,C,S)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(S)}},l=function(){function j(E,C){for(var S=0;S<C.length;S++){var T=C[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,C,S){return C&&j(E.prototype,C),S&&j(E,S),E}}(),s=o(3),u=_(s),f=o(8),p=_(f),c=o(43),d=_(c),g=o(15),b=o(41),w=_(b);function _(j){return j&&j.__esModule?j:{default:j}}function m(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function v(j,E){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:j}function x(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(j,E):j.__proto__=E)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(j){x(E,j);function E(C,S){m(this,E),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=y);var T=v(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,S));return T.quill.container.classList.add("ql-bubble"),T}return l(E,[{key:"extendToolbar",value:function(S){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),w.default)}}]),E}(d.default);k.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(j){x(E,j);function E(C,S){m(this,E);var T=v(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,S));return T.quill.on(p.default.events.EDITOR_CHANGE,function(O,P,A,R){if(O===p.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&R===p.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var B=T.quill.getLines(P.index,P.length);if(B.length===1)T.position(T.quill.getBounds(P));else{var z=B[B.length-1],H=T.quill.getIndex(z),D=Math.min(z.length()-1,P.index+P.length-H),M=T.quill.getBounds(new g.Range(H,D));T.position(M)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return l(E,[{key:"listen",value:function(){var S=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var T=S.quill.getSelection();T!=null&&S.position(S.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var T=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,S),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",T===0)return T;O.style.marginLeft=-1*T-O.offsetWidth/2+"px"}}]),E}(c.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=N,i.default=k},function(r,i,o){r.exports=o(63)}]).default})})(cv);var lN=cv.exports,sN=_t&&_t.__extends||function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])},e(n,r)};return function(n,r){e(n,r);function i(){this.constructor=n}n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),ll=_t&&_t.__assign||function(){return ll=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ll.apply(this,arguments)},uN=_t&&_t.__spreadArrays||function(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var i=Array(e),o=0,n=0;n<r;n++)for(var a=arguments[n],l=0,s=a.length;l<s;l++,o++)i[o]=a[l];return i},Vl=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},en=Vl(W),cN=Vl(zm),Ci=Vl(aN),mh=Vl(lN),fN=function(e){sN(n,e);function n(r){var i=e.call(this,r)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(a,l,s,u){var f,p,c,d;a==="text-change"?(p=(f=i).onEditorChangeText)===null||p===void 0||p.call(f,i.editor.root.innerHTML,l,u,i.unprivilegedEditor):a==="selection-change"&&((d=(c=i).onEditorChangeSelection)===null||d===void 0||d.call(c,l,u,i.unprivilegedEditor))};var o=i.isControlled()?r.value:r.defaultValue;return i.value=o??"",i}return n.prototype.validateProps=function(r){var i;if(en.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(en.default.Children.count(r.children)){var o=en.default.Children.only(r.children);if(((i=o)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},n.prototype.shouldComponentUpdate=function(r,i){var o=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==i.generation)return!0;if("value"in r){var l=this.getEditorContents(),s=(a=r.value,a??"");this.isEqualValue(s,l)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),uN(this.cleanProps,this.dirtyProps).some(function(u){return!Ci.default(r[u],o.props[u])})},n.prototype.shouldComponentRegenerate=function(r){var i=this;return this.dirtyProps.some(function(o){return!Ci.default(r[o],i.props[o])})},n.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},n.prototype.componentWillUnmount=function(){this.destroyEditor()},n.prototype.componentDidUpdate=function(r,i){var o=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var s=this.regenerationSnapshot,a=s.delta,u=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(a),vh(function(){return o.setEditorSelection(f,u)})}},n.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},n.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},n.prototype.isControlled=function(){return"value"in this.props},n.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},n.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},n.prototype.createEditor=function(r,i){var o=new mh.default(r,i);return i.tabIndex!=null&&this.setEditorTabIndex(o,i.tabIndex),this.hookEditor(o),o},n.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},n.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},n.prototype.getEditorContents=function(){return this.value},n.prototype.getEditorSelection=function(){return this.selection},n.prototype.isDelta=function(r){return r&&r.ops},n.prototype.isEqualValue=function(r,i){return this.isDelta(r)&&this.isDelta(i)?Ci.default(r.ops,i.ops):Ci.default(r,i)},n.prototype.setEditorContents=function(r,i){var o=this;this.value=i;var a=this.getEditorSelection();typeof i=="string"?r.setContents(r.clipboard.convert(i)):r.setContents(i),vh(function(){return o.setEditorSelection(r,a)})},n.prototype.setEditorSelection=function(r,i){if(this.selection=i,i){var o=r.getLength();i.index=Math.max(0,Math.min(i.index,o-1)),i.length=Math.max(0,Math.min(i.length,o-1-i.index)),r.setSelection(i)}},n.prototype.setEditorTabIndex=function(r,i){var o,a;!((a=(o=r)===null||o===void 0?void 0:o.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=i)},n.prototype.setEditorReadOnly=function(r,i){i?r.disable():r.enable()},n.prototype.makeUnprivilegedEditor=function(r){var i=r;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},n.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=cN.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},n.prototype.renderEditingArea=function(){var r=this,i=this.props,o=i.children,a=i.preserveWhitespace,l=this.state.generation,s={key:l,ref:function(u){r.editingArea=u}};return en.default.Children.count(o)?en.default.cloneElement(en.default.Children.only(o),s):a?en.default.createElement("pre",ll({},s)):en.default.createElement("div",ll({},s))},n.prototype.render=function(){var r;return en.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},n.prototype.onEditorChangeText=function(r,i,o,a){var l,s;if(this.editor){var u=this.isDelta(this.value)?a.getContents():a.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=u,(s=(l=this.props).onChange)===null||s===void 0||s.call(l,r,i,o,a))}},n.prototype.onEditorChangeSelection=function(r,i,o){var a,l,s,u,f,p;if(this.editor){var c=this.getEditorSelection(),d=!c&&r,g=c&&!r;Ci.default(r,c)||(this.selection=r,(l=(a=this.props).onChangeSelection)===null||l===void 0||l.call(a,r,i,o),d?(u=(s=this.props).onFocus)===null||u===void 0||u.call(s,r,i,o):g&&((p=(f=this.props).onBlur)===null||p===void 0||p.call(f,c,i,o)))}},n.prototype.focus=function(){this.editor&&this.editor.focus()},n.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},n.displayName="React Quill",n.Quill=mh.default,n.defaultProps={theme:"snow",modules:{},readOnly:!1},n}(en.default.Component);function vh(e){Promise.resolve().then(e)}var dN=fN;const hN=sc(dN),pN=({items:e,onSelect:n,query:r,activeIndex:i,setActiveIndex:o})=>{const a=W.useRef(null);return W.useEffect(()=>{var l,s;(s=(l=a.current)==null?void 0:l.children[i])==null||s.scrollIntoView({block:"nearest"})},[i]),h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-lg shadow-lg w-96",children:[h.jsxs("div",{className:"p-2 border-b border-outline-dark text-sm text-text-secondary",children:["Linking to: ",h.jsxs("span",{className:"text-text-primary font-mono bg-background/50 px-1 rounded",children:["/",r]})]}),h.jsx("ul",{ref:a,className:"max-h-60 overflow-y-auto custom-scrollbar p-1",children:e.length>0?e.map((l,s)=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>n(l),onMouseEnter:()=>o(s),className:`w-full text-left flex items-center gap-2 p-2 rounded-md transition-colors ${i===s?"bg-accent/20":"hover:bg-neutral"}`,children:[l.type==="note"&&h.jsx(tt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),l.type==="project"&&h.jsx(gt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),l.type==="area"&&h.jsx(mt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),h.jsx("span",{className:"truncate",children:l.title})]})},l.id)):h.jsx("li",{className:"p-2 text-center text-sm text-text-tertiary",children:"No matching items found"})})]})},gN=({isOpen:e,onClose:n,onSave:r,onDraftFromNote:i,onSaveNewItem:o,note:a,projects:l,areas:s,allNotes:u,allTasks:f,onSelectTask:p})=>{const[c,d]=W.useState(a.title),[g,b]=W.useState(a.content),[w,_]=W.useState(a.tags||[]),[m,v]=W.useState(!1),[x,y]=W.useState(null),[k,N]=W.useState(""),[j,E]=W.useState(0),[C,S]=W.useState(null),T=W.useRef(null),O=W.useRef(null);W.useEffect(()=>{d(a.title),b(a.content),_(a.tags||[])},[a]);const P=W.useMemo(()=>[...u.filter(L=>L.id!==a.id).map(L=>({id:L.id,title:L.title,type:"note"})),...l.map(L=>({id:L.id,title:L.title,type:"project"})),...s.map(L=>({id:L.id,title:L.title,type:"area"}))],[u,l,s,a.id]),A=W.useMemo(()=>P.filter(L=>L.title.toLowerCase().includes(k.toLowerCase())),[P,k]);W.useEffect(()=>{E(0)},[A.length]),W.useEffect(()=>{var $;const L=($=T.current)==null?void 0:$.getEditor();if(!L)return;const V=(q,K,Z)=>{if(Z==="user"&&q&&q.length>0){const ee=L.getText(q.index,q.length);if(ee.trim()){const ne=L.getBounds(q.index,q.length),fe=L.container.getBoundingClientRect();S({top:ne.top+fe.top-45,left:ne.left+fe.left+ne.width/2,text:ee})}}else Z==="user"&&S(null)};L.on("selection-change",V);const U=(q,K,Z)=>{if(Z==="user"&&x){const ee=L.getSelection();if(!ee||ee.index<x.startPos){y(null);return}const ne=L.getText(x.startPos,ee.index-x.startPos);ne.startsWith("/")?N(ne.substring(1)):y(null)}};return L.on("text-change",U),()=>{L.off("selection-change",V),L.off("text-change",U)}},[T,x]),W.useEffect(()=>{if(!x)return;const L=V=>{if(V.key==="ArrowDown")V.preventDefault(),E(U=>(U+1)%(A.length||1));else if(V.key==="ArrowUp")V.preventDefault(),E(U=>(U-1+(A.length||1))%(A.length||1));else if(V.key==="Enter"){V.preventDefault();const U=A[j];U&&z(U)}else V.key==="Escape"&&(V.preventDefault(),y(null))};return document.addEventListener("keydown",L,!0),()=>document.removeEventListener("keydown",L,!0)},[x,j,A]),W.useEffect(()=>{if(!x)return;const L=V=>{O.current&&!O.current.contains(V.target)&&y(null)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[x]);const R=L=>{L.preventDefault(),c&&r(a.id,c,g,w)},B=()=>{var L;if(C&&C.text){const V=a.parentIds.find($=>$.startsWith("proj-"))||null;o({title:C.text,noteIds:[a.id]},V);const U=(L=T.current)==null?void 0:L.getEditor();U&&U.setSelection(U.getSelection().index,0),S(null)}},z=L=>{var U;const V=(U=T.current)==null?void 0:U.getEditor();if(V&&x){const $=k.length+1,q=`&nbsp;<a href="#" data-link-id="${L.id}" class="internal-link">${L.title}</a>&nbsp;`;V.deleteText(x.startPos,$,"user"),V.clipboard.dangerouslyPasteHTML(x.startPos,q,"user"),V.setSelection(V.getSelection().index,0),y(null),N("")}},H=W.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},keyboard:{bindings:{slashLink:{key:"/",handler:L=>{var q;const V=(q=T.current)==null?void 0:q.getEditor();if(!V)return!0;const U=V.getText(L.index-1,1);if(L.index>0&&U.trim().length>0)return!0;const $=V.getBounds(L.index);return y({top:$.bottom+5,left:$.left,startPos:L.index}),N(""),!0}}}}}),[]),D=[...l,...s].filter(L=>a.parentIds.includes(L.id)),M=W.useMemo(()=>{const L=[],V=new RegExp(`data-link-id="${a.id}"`,"g");return u.forEach(U=>{var $;if(U.id!==a.id&&U.content.match(V)){const q=document.createElement("div");q.innerHTML=U.content;const K=(($=q.textContent)==null?void 0:$.substring(0,100))+"..."||"...";L.push({sourceNoteId:U.id,sourceNoteTitle:U.title,context:K})}}),L},[u,a.id]),I=W.useMemo(()=>f.filter(L=>(L.noteIds||[]).includes(a.id)&&L.status==="active"),[f,a.id]);if(!e)return null;const F=m?"w-screen h-screen max-w-full max-h-full rounded-none":"w-full max-w-4xl max-h-[90vh] rounded-2xl";return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"note-editor-title",children:h.jsxs("div",{className:`bg-surface/80 backdrop-blur-xl flex flex-col border border-outline shadow-lg transition-all duration-300 ${F}`,onClick:L=>L.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"note-editor-title",className:"text-xl font-bold font-heading",children:"Edit Note"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>v(!m),"aria-label":m?"Contract":"Expand",className:"text-text-secondary hover:text-text-primary",children:m?h.jsx(Vm,{className:"w-5 h-5"}):h.jsx(Hm,{className:"w-5 h-5"})}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]})]}),h.jsxs("form",{onSubmit:R,className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"note-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"note-title",type:"text",value:c,onChange:L=>d(L.target.value),placeholder:"Enter note title...",required:!0,className:"w-full bg-transparent border-none px-0 py-2 text-2xl font-bold font-heading text-text-primary focus:outline-none focus:ring-0"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:w,onTagsChange:_})]}),D.length>0&&h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Linked to"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(L=>h.jsxs("span",{className:"flex items-center gap-2 bg-background/50 px-2 py-1 border border-outline rounded-md text-sm",children:[L.id.startsWith("proj-")?h.jsx(gt,{className:"w-4 h-4 text-text-secondary"}):h.jsx(mt,{className:"w-4 h-4 text-text-secondary"}),L.title]},L.id))})]}),h.jsxs("div",{className:"relative",children:[h.jsx(hN,{ref:T,theme:"snow",value:g,onChange:b,modules:H,placeholder:"Distill your thoughts... Type '/' to link to other items."}),x&&h.jsx("div",{ref:O,className:"absolute z-20",style:{top:x.top,left:x.left},onMouseDown:L=>L.preventDefault(),children:h.jsx(pN,{items:A,onSelect:z,query:k,activeIndex:j,setActiveIndex:E})})]}),(M.length>0||I.length>0)&&h.jsxs("div",{className:"mt-8",children:[h.jsx("h3",{className:"text-lg font-semibold font-heading mb-3 border-b border-outline-dark pb-2",children:"Connections"}),M.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"font-semibold text-accent text-sm mb-2",children:"Linked References"}),h.jsx("ul",{className:"space-y-3",children:M.map(L=>h.jsxs("li",{className:"bg-background/30 border border-outline rounded-lg p-3",children:[h.jsx("p",{className:"font-semibold text-accent text-sm mb-1",children:L.sourceNoteTitle}),h.jsxs("p",{className:"text-sm text-text-secondary italic",children:['"',L.context,'"']})]},L.sourceNoteId))})]}),I.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold text-accent text-sm mb-2 flex items-center gap-2",children:[h.jsx(Zt,{className:"w-4 h-4"}),"Linked Tasks"]}),h.jsx("ul",{className:"space-y-2",children:I.map(L=>{var V;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>p(L.id),className:"w-full text-left p-3 bg-background/30 border border-outline rounded-lg hover:bg-neutral transition-colors",children:[h.jsx("p",{className:"font-semibold text-text-primary text-sm",children:L.title}),L.projectId&&h.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:["Project: ",(V=l.find(U=>U.id===L.projectId))==null?void 0:V.title]})]})},L.id)})})]})]})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("button",{type:"button",onClick:()=>i(a.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",title:"Create a new draft based on this note",children:[h.jsx(ox,{className:"w-4 h-4"}),h.jsx("span",{children:"Draft from Note"})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save Changes"})]})]})})]})]})}),C&&h.jsx("div",{style:{position:"fixed",top:C.top,left:C.left,transform:"translateX(-50%)",zIndex:60},className:"bg-background border border-outline rounded-lg shadow-lg p-1 flex items-center",children:h.jsxs("button",{onClick:B,onMouseDown:L=>L.preventDefault(),className:"flex items-center gap-2 px-2 py-1 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-md",children:[h.jsx(Zt,{className:"w-4 h-4"}),"Create Task"]})})]})},mN=pe.memo(gN),vN=({isOpen:e,onClose:n,onSave:r,onArchive:i,onDelete:o,resource:a,allTasks:l,onSelectTask:s})=>{const[u,f]=W.useState(!1),[p,c]=W.useState(a.title),[d,g]=W.useState(a.url||""),[b,w]=W.useState(a.content||""),[_,m]=W.useState(a.tags||[]),v=()=>{c(a.title),g(a.url||""),w(a.content||""),m(a.tags||[]),f(!1)};W.useEffect(()=>{e&&v()},[a,e]);const x=W.useMemo(()=>l.filter(S=>(S.resourceIds||[]).includes(a.id)&&S.status==="active"),[l,a.id]),y=()=>{if(!p.trim()){alert("Title is required.");return}if(!d.trim()&&!b.trim()){alert("A resource must have either a URL or content.");return}const S={};p!==a.title&&(S.title=p),d!==(a.url||"")&&(S.url=d),b!==(a.content||"")&&(S.content=b),JSON.stringify(_)!==JSON.stringify(a.tags||[])&&(S.tags=_),Object.keys(S).length>0&&r(a.id,S),f(!1)},k=()=>{i(a.id),n()},N=()=>{o(a.id)},j=()=>{v()};if(!e)return null;const E=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[a.url&&h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(nr,{className:"w-4 h-4"})," URL"]}),h.jsx("a",{href:a.url.startsWith("http")?a.url:`https://${a.url}`,target:"_blank",rel:"noopener noreferrer",className:"block p-3 bg-background/50 border border-outline rounded-lg text-accent hover:underline truncate",children:a.url})]}),a.content&&h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4"})," Content / Notes"]}),h.jsx("div",{className:"prose prose-invert max-w-none text-text-primary text-sm p-3 bg-background/50 border border-outline rounded-lg whitespace-pre-wrap",children:a.content})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:_,onTagsChange:()=>{}})]}),x.length>0&&h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(Zt,{className:"w-4 h-4"})," Linked Tasks"]}),h.jsx("ul",{className:"space-y-2 bg-background/50 border border-outline rounded-lg p-2",children:x.map(S=>h.jsx("li",{children:h.jsx("button",{onClick:()=>s(S.id),className:"w-full text-left p-2 hover:bg-neutral rounded-md",children:h.jsx("p",{className:"text-sm font-medium",children:S.title})})},S.id))})]})]}),h.jsxs("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0 flex justify-between items-center",children:[h.jsx("div",{className:"flex gap-2",children:h.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover rounded-lg",children:[h.jsx(Fm,{className:"w-4 h-4"})," Edit"]})}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover rounded-lg",children:[h.jsx(Bm,{className:"w-4 h-4"})," Archive"]}),h.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-destructive/20 hover:bg-destructive/30 text-destructive rounded-lg",children:[h.jsx(Lo,{className:"w-4 h-4"})," Delete"]})]})]})]}),C=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"resource-url",className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(nr,{className:"w-4 h-4"})," URL (Optional)"]}),h.jsx("input",{id:"resource-url",type:"text",value:d,onChange:S=>g(S.target.value),placeholder:"Enter URL...",className:"w-full bg-background/50 border border-outline px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent rounded-lg"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"resource-content",className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4"})," Content / Notes"]}),h.jsx("textarea",{id:"resource-content",value:b,onChange:S=>w(S.target.value),rows:5,placeholder:"Enter text content or notes...",className:"w-full bg-background/50 border border-outline px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:_,onTagsChange:m})]})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0 flex justify-end items-center",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save Changes"})]})})]});return h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"resource-detail-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:S=>S.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("input",{id:"resource-detail-title",type:"text",value:p,onChange:S=>c(S.target.value),placeholder:"Enter resource title...",required:!0,className:"w-full bg-transparent border-none text-xl font-bold font-heading text-text-primary focus:outline-none focus:ring-0 disabled:pointer-events-none",disabled:!u}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),u?C():E()]})})},yN=pe.memo(vN),xN=({children:e})=>h.jsx("p",{className:"text-text-tertiary text-sm text-center py-4 italic",children:e}),pr=pe.memo(xN),bN={High:{text:"text-priority-high",border:"border-l-priority-high"},Medium:{text:"text-priority-medium",border:"border-l-priority-medium"},Low:{text:"text-priority-low",border:"border-l-priority-low"}},_N=({task:e,onSelectTask:n,subtaskCount:r})=>{var l;const i=s=>{s.dataTransfer.setData("taskId",e.id),s.dataTransfer.effectAllowed="move"},o=W.useMemo(()=>{var s,u;return(((s=e.noteIds)==null?void 0:s.length)||0)>0||(((u=e.resourceIds)==null?void 0:u.length)||0)>0},[e.noteIds,e.resourceIds]),a=e.priority?(l=bN[e.priority])==null?void 0:l.border:"border-l-transparent";return h.jsxs("div",{draggable:!0,onDragStart:i,onClick:()=>n(e.id),className:`bg-background/50 border border-outline border-l-4 ${a} rounded-lg p-3 shadow-sm cursor-pointer active:cursor-grabbing transition-all hover:shadow-md hover:-translate-y-0.5`,children:[h.jsx("p",{className:"font-semibold text-sm mb-2 text-text-primary",children:e.title}),h.jsx(ct,{tags:e.tags}),h.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-text-tertiary",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[e.description&&h.jsx(tt,{className:"w-3.5 h-3.5",title:"Has description"}),r>0&&h.jsx($o,{className:"w-3.5 h-3.5",title:`${r} subtasks`}),o&&h.jsx(nr,{className:"w-3.5 h-3.5",title:"Has linked items"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[e.dueDate?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Or,{className:"w-3.5 h-3.5"}),h.jsx("span",{children:new Date(e.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}):h.jsx("div",{}),e.priority&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Rl,{className:"w-3.5 h-3.5"}),h.jsx("span",{children:e.priority})]})]})]})]})},wN=pe.memo(_N),kN=({stage:e,tasks:n,allTasks:r,onUpdateTaskStage:i,onUpdateMultipleTaskStages:o,onSelectTask:a})=>{const[l,s]=W.useState(!1),u=c=>{c.preventDefault(),c.dataTransfer.dropEffect="move",s(!0)},f=()=>{s(!1)},p=c=>{var b;c.preventDefault();const d=c.dataTransfer.getData("taskId"),g=r.find(w=>w.id===d);if(!g||g.stage===e){s(!1);return}if(e==="Done"&&(((b=g.subtaskIds)==null?void 0:b.length)||0)>0){const w=(g.subtaskIds||[]).map(_=>r.find(m=>m.id===_)).filter(_=>!!_&&_.stage!=="Done");if(w.length>0)if(window.confirm(`This task has ${w.length} incomplete subtask(s). Do you want to mark them as complete as well?`)){const m=[d,...w.map(v=>v.id)];o(m,"Done")}else i(d,e);else i(d,e)}else i(d,e);s(!1)};return h.jsxs("div",{onDragOver:u,onDragLeave:f,onDrop:p,className:`flex-1 flex flex-col bg-background/50 border border-outline rounded-xl min-w-[300px] h-[400px] transition-colors ${l?"bg-accent/10":""}`,children:[h.jsxs("header",{className:"p-4 border-b border-outline-dark flex items-center gap-2 flex-shrink-0",children:[h.jsx("h3",{className:"font-bold font-heading text-text-primary",children:e}),h.jsx("span",{className:"text-sm font-mono bg-surface px-2 py-0.5 rounded-full text-text-secondary",children:n.length})]}),h.jsx("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto custom-scrollbar",children:n.map(c=>{var d;return h.jsx(wN,{task:c,onSelectTask:a,subtaskCount:((d=c.subtaskIds)==null?void 0:d.length)||0},c.id)})})]})},jN=pe.memo(kN),Cs=["To Do","In Progress","Done"],NN=({tasks:e,allTasks:n,onUpdateTaskStage:r,onUpdateMultipleTaskStages:i,onSelectTask:o})=>{const a=Cs.reduce((s,u)=>(s[u]=e.filter(f=>f.stage===u),s),{}),l=e.filter(s=>!Cs.includes(s.stage));return l.length>0&&(a["To Do"]=[...a["To Do"],...l]),h.jsx("div",{className:"flex gap-6 overflow-x-auto custom-scrollbar pb-4 -mx-4 px-4",children:Cs.map(s=>h.jsx(jN,{stage:s,tasks:a[s],allTasks:n,onUpdateTaskStage:r,onUpdateMultipleTaskStages:i,onSelectTask:o},s))})},EN=pe.memo(NN),Wl=({items:e,onReorder:n,onReparent:r,onPromote:i,isReorderAllowed:o=()=>!0,isReparentAllowed:a=()=>!0,isPromotable:l=()=>!1})=>{const[s,u]=W.useState(null),[f,p]=W.useState(null),c=W.useMemo(()=>new Map(e.map(v=>[v.id,v])),[e]),d=W.useCallback((v,x)=>{v.dataTransfer.setData("text/plain",x),v.dataTransfer.effectAllowed="move",u(x)},[]),g=W.useCallback(()=>{u(null),p(null)},[]),b=W.useCallback((v,x)=>{if(!s||s===x)return;const y=c.get(s),k=c.get(x);if(!(!y||!k)){if(v.preventDefault(),r&&a(y,k)){const N=v.currentTarget.getBoundingClientRect(),j=N.height*.25;if(v.clientY>N.top+j&&v.clientY<N.bottom-j){p({type:"REPARENT",targetId:x});return}}o(y,k)?p({type:"REORDER",targetId:x}):p(null)}},[s,r,c,o,a]),w=W.useCallback(v=>{v.preventDefault(),v.stopPropagation(),s&&f&&(f.type==="REORDER"?n(s,f.targetId):f.type==="REPARENT"&&r&&r(s,f.targetId)),g()},[s,f,n,r,g]),_=W.useCallback(v=>({draggable:!0,onDragStart:x=>d(x,v),onDragEnd:g,onDragOver:x=>b(x,v),onDrop:w}),[d,g,b,w]),m=W.useCallback(()=>({onDragOver:v=>{if(!s||!i)return;const x=c.get(s);x&&l(x)&&(v.preventDefault(),v.dataTransfer.dropEffect="move",p({type:"PROMOTE_TO_ROOT"}))},onDrop:v=>{v.preventDefault(),v.stopPropagation(),s&&i&&(f==null?void 0:f.type)==="PROMOTE_TO_ROOT"&&i(s),g()},onDragLeave:v=>{v.currentTarget.contains(v.relatedTarget)||p(null)}}),[s,i,l,c,f,g]);return{draggedId:s,dropAction:f,getDragAndDropProps:_,getContainerProps:m}},Oe=new Date,fv=new Date(Oe.getTime()-7*24*60*60*1e3),SN=[{id:"area-1",title:"Personal Growth",description:"Focusing on self-improvement, learning, and well-being.",projectIds:["proj-1","proj-2"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",lastReviewed:fv.toISOString(),tags:["self-improvement","learning","well-being"],icon:"brain",color:"#FF9F0A"}],TN=[{id:"proj-1",title:"Learn Advanced TypeScript",description:"Complete a course and build a project to master advanced TS features.",areaId:"area-1",taskIds:["task-1","task-2","task-5"],noteIds:["note-1"],resourceIds:["res-1"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",lastReviewed:fv.toISOString(),tags:["coding","typescript","learning-sprint"]},{id:"proj-2",title:"Fitness Journey",description:"Improve overall health through consistent exercise and diet.",areaId:"area-1",taskIds:["task-3"],noteIds:[],resourceIds:[],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["health","exercise"]}],ON=[{id:"task-1",title:"Finish Generics chapter",projectId:"proj-1",stage:"To Do",priority:"High",description:"Read and take notes on the Generics chapter in the Advanced TypeScript book. Focus on conditional types and mapped types.",subtaskIds:["task-5"],parentId:null,noteIds:["note-1"],resourceIds:[],dueDate:new Date(Oe.getTime()+3*24*60*60*1e3).toISOString(),createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["reading","deep-work"]},{id:"task-2",title:"Refactor project with mapped types",projectId:"proj-1",stage:"To Do",priority:"Medium",description:"",subtaskIds:[],parentId:null,noteIds:[],resourceIds:[],dueDate:new Date(Oe.getTime()+7*24*60*60*1e3).toISOString(),createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["coding","refactoring"]},{id:"task-3",title:"Go for a 3-mile run",projectId:"proj-2",stage:"Done",priority:"Low",description:"",subtaskIds:[],parentId:null,noteIds:[],resourceIds:[],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",completedAt:Oe.toISOString(),tags:["cardio"]},{id:"task-4",title:"Review PKM book draft",projectId:null,stage:"To Do",priority:"Medium",description:"First pass for structure and flow.",subtaskIds:[],parentId:null,noteIds:[],resourceIds:[],createdAt:new Date(Oe.getTime()-1*24*60*60*1e3).toISOString(),updatedAt:new Date(Oe.getTime()-1*24*60*60*1e3).toISOString(),status:"active",isMyDay:!0,tags:["writing","review"]},{id:"task-5",title:"Take notes on conditional types",projectId:"proj-1",stage:"To Do",priority:"High",description:"",subtaskIds:[],parentId:"task-1",noteIds:[],resourceIds:[],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["reading"]}],AN=[{id:"note-1",title:"Key Takeaways on Utility Types",content:"<p><code>Partial</code>, <code>Pick</code>, and <code>Omit</code> are powerful for creating new types from existing ones. Remember to use them to keep code DRY.</p>",parentIds:["proj-1"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["typescript","key-concepts"]}],CN=[{id:"res-1",title:"Official TypeScript Docs",url:"https://www.typescriptlang.org/docs/",content:"The official documentation is the best place to start. Check the Utility Types section.",parentIds:["proj-1"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["documentation","official-source"]}],IN={areas:SN,projects:TN,tasks:ON,notes:AN,resources:CN},Dn=(e,n)=>({id:`${e}-${Date.now()}`,...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"active",tags:n.tags||[]}),PN=(e,n)=>{switch(n.type){case"REPLACE_STATE":return n.payload;case"ADD_ITEM":{const{itemData:r,itemType:i,parentId:o}=n.payload;switch(i){case"note":{const a=Dn("note",{...r,parentIds:o?[o]:[]}),l=o!=null&&o.startsWith("proj-")?e.projects.map(s=>s.id===o?{...s,noteIds:[...s.noteIds,a.id]}:s):e.projects;return{...e,notes:[...e.notes,a],projects:l}}case"task":{const a=Dn("task",{...r,projectId:o,stage:"To Do",description:r.description||"",subtaskIds:[],parentId:null,noteIds:r.noteIds||[],resourceIds:r.resourceIds||[]}),l=o!=null&&o.startsWith("proj-")?e.projects.map(s=>s.id===o?{...s,taskIds:[a.id,...s.taskIds]}:s):e.projects;return{...e,tasks:[a,...e.tasks],projects:l}}case"resource":{const a=Dn("res",{...r,parentIds:o?[o]:[]}),l=o!=null&&o.startsWith("proj-")?e.projects.map(s=>s.id===o?{...s,resourceIds:[...s.resourceIds,a.id]}:s):e.projects;return{...e,resources:[...e.resources,a],projects:l}}case"project":{const a=Dn("proj",{...r,areaId:o,taskIds:[],noteIds:[],resourceIds:[]}),l=o!=null&&o.startsWith("area-")?e.areas.map(s=>s.id===o?{...s,projectIds:[...s.projectIds,a.id]}:s):e.areas;return{...e,projects:[...e.projects,a],areas:l}}case"area":{const a=Dn("area",{...r,projectIds:[],icon:"area",color:"#94A3B8"});return{...e,areas:[...e.areas,a]}}default:return e}}case"ADD_SUBTASK":{const{parentTaskId:r,subtaskData:i}=n.payload,o=e.tasks.find(u=>u.id===r);if(!o)return e;const a=Dn("task",{...i,projectId:o.projectId,stage:"To Do",description:i.description||"",subtaskIds:[],parentId:r,noteIds:[],resourceIds:[]}),l=e.tasks.map(u=>u.id===r?{...u,subtaskIds:[...u.subtaskIds,a.id]}:u).concat(a),s=o.projectId?e.projects.map(u=>u.id===o.projectId?{...u,taskIds:[...u.taskIds,a.id]}:u):e.projects;return{...e,tasks:l,projects:s}}case"ADD_INBOX_ITEM":{const{content:r,type:i}=n.payload;let o=r.length>50?r.substring(0,50)+"...":r;if(i==="note"){const a=Dn("note",{title:o,content:r,parentIds:[]});return{...e,notes:[...e.notes,a]}}else if(i==="resource"){const a={};if(Nx(r)){try{let u=new URL(r.startsWith("http")?r:`https://${r}`).hostname.replace("www.","");const f=u.lastIndexOf(".");f>0&&(u=u.substring(0,f)),o=u.replace(/-/g," ").replace(/\b\w/g,p=>p.toUpperCase())}catch{o="Link Resource"}a.url=r}else o="Text Snippet",a.content=r;const l=Dn("res",{title:o,...a,parentIds:[]});return{...e,resources:[...e.resources,l]}}return e}case"TOGGLE_TASK":{const{taskId:r}=n.payload;return{...e,tasks:e.tasks.map(i=>i.id===r?{...i,stage:i.stage==="Done"?"To Do":"Done",updatedAt:new Date().toISOString(),completedAt:i.stage!=="Done"?new Date().toISOString():void 0}:i)}}case"REORDER_LIST":{const{listKey:r,sourceId:i,targetId:o}=n.payload,a=e[r],l=a.findIndex(p=>p.id===i),s=a.findIndex(p=>p.id===o);if(l===-1||s===-1)return e;const u=[...a],[f]=u.splice(l,1);return u.splice(s,0,f),{...e,[r]:u}}case"REORDER_CHILD_LIST":{const{parentListKey:r,parentId:i,childIdListKey:o,sourceId:a,targetId:l}=n.payload,s=e[r].map(u=>{if(u.id===i){const f=[...u[o]||[]],p=f.indexOf(a),c=f.indexOf(l);if(p===-1||c===-1)return u;const[d]=f.splice(p,1);return f.splice(c,0,d),{...u,[o]:f}}return u});return{...e,[r]:s}}case"REPARENT_TASK":{const{taskId:r,newParentId:i}=n.payload,o=e.tasks.find(f=>f.id===r),a=e.tasks.find(f=>f.id===i);if(!o||!a)return e;const l=o.parentId;let s=[...e.tasks];l&&(s=s.map(f=>f.id===l?{...f,subtaskIds:f.subtaskIds.filter(p=>p!==r)}:f)),s=s.map(f=>f.id===i?{...f,subtaskIds:[...f.subtaskIds,r]}:f),s=s.map(f=>f.id===r?{...f,parentId:i,projectId:a.projectId,updatedAt:new Date().toISOString()}:f);const u=e.projects.map(f=>f.taskIds.includes(r)?{...f,taskIds:f.taskIds.filter(p=>p!==r)}:f);return{...e,tasks:s,projects:u}}case"PROMOTE_SUBTASK":{const{taskId:r}=n.payload,i=e.tasks.find(u=>u.id===r);if(!i||!i.parentId||!i.projectId)return e;const{parentId:o,projectId:a}=i,l=e.tasks.map(u=>u.id===o?{...u,subtaskIds:u.subtaskIds.filter(f=>f!==r)}:u.id===r?{...u,parentId:null,updatedAt:new Date().toISOString()}:u),s=e.projects.map(u=>u.id===a?u.taskIds.includes(r)?u:{...u,taskIds:[r,...u.taskIds]}:u);return{...e,tasks:l,projects:s}}case"UPDATE_TASK":{const{taskId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,tasks:e.tasks.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"UPDATE_TASK_STAGE":{const{taskId:r,newStage:i}=n.payload,o=new Date().toISOString();return{...e,tasks:e.tasks.map(a=>a.id===r?{...a,stage:i,updatedAt:o,completedAt:i==="Done"?o:void 0}:a)}}case"UPDATE_MULTIPLE_TASK_STAGES":{const{taskIds:r,newStage:i}=n.payload,o=new Date().toISOString(),a=new Set(r);return{...e,tasks:e.tasks.map(l=>a.has(l.id)?{...l,stage:i,updatedAt:o,completedAt:i==="Done"?o:void 0}:l)}}case"UPDATE_ITEM_STATUS":{const{itemId:r,status:i}=n.payload,o=new Date().toISOString(),a=s=>s.id===r?{...s,status:i,updatedAt:o}:s;switch(Hn(r)){case"area":return{...e,areas:e.areas.map(a)};case"project":return{...e,projects:e.projects.map(a)};case"task":return{...e,tasks:e.tasks.map(a)};case"note":return{...e,notes:e.notes.map(a)};case"resource":return{...e,resources:e.resources.map(a)};default:return e}}case"DELETE_ITEM":{const{itemId:r}=n.payload;switch(Hn(r)){case"area":return{...e,areas:e.areas.filter(o=>o.id!==r)};case"project":return{...e,projects:e.projects.filter(o=>o.id!==r)};case"task":return{...e,tasks:e.tasks.filter(o=>o.id!==r)};case"note":return{...e,notes:e.notes.filter(o=>o.id!==r)};case"resource":return{...e,resources:e.resources.filter(o=>o.id!==r)};default:return e}}case"UPDATE_NOTE":{const{noteId:r,title:i,content:o,tags:a}=n.payload,l=new Date().toISOString();return{...e,notes:e.notes.map(s=>s.id===r?{...s,title:i,content:o,tags:a,updatedAt:l}:s)}}case"DRAFT_FROM_NOTE":{const{sourceNoteId:r,newNoteId:i}=n.payload,o=e.notes.find(u=>u.id===r);if(!o)return e;const a=`<a href="#" data-link-id="${o.id}" class="internal-link">${o.title}</a>`,l=`<blockquote>${o.content}</blockquote><p><br></p><p><em>Inspired by: ${a}</em></p>`,s={id:i,title:`Draft: ${o.title}`,content:l,parentIds:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"active",tags:o.tags?[...o.tags]:[]};return{...e,notes:[...e.notes,s]}}case"UPDATE_RESOURCE":{const{resourceId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,resources:e.resources.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"UPDATE_PROJECT":{const{projectId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,projects:e.projects.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"UPDATE_AREA":{const{areaId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,areas:e.areas.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"ORGANIZE_ITEM":{const{itemId:r,newParentIds:i}=n.payload,o=new Date().toISOString(),a=Hn(r);if(a==="task"){const f=i[0]||null,p=e.tasks.map(d=>d.id===r?{...d,projectId:f,isMyDay:!1,updatedAt:o}:d);let c=e.projects.map(d=>({...d,taskIds:d.taskIds.filter(g=>g!==r)}));return f&&(c=c.map(d=>d.id===f?{...d,taskIds:[r,...d.taskIds]}:d)),{...e,tasks:p,projects:c}}let l=e.notes,s=e.resources,u=[...e.projects];return u=u.map(f=>{const p=f.noteIds.indexOf(r);p>-1&&f.noteIds.splice(p,1);const c=f.resourceIds.indexOf(r);return c>-1&&f.resourceIds.splice(c,1),f}),a==="note"?l=e.notes.map(f=>f.id===r?{...f,parentIds:i,updatedAt:o}:f):a==="resource"&&(s=e.resources.map(f=>f.id===r?{...f,parentIds:i,updatedAt:o}:f)),i.forEach(f=>{f.startsWith("proj-")&&(u=u.map(p=>{if(p.id===f){const c=a==="note"?"noteIds":"resourceIds",d=p[c];if(Array.isArray(d)&&!d.includes(r))return{...p,[c]:[...d,r]}}return p}))}),{...e,notes:l,resources:s,projects:u}}case"MARK_REVIEWED":{const{itemIds:r,type:i}=n.payload,o=new Date().toISOString();return i==="project"?{...e,projects:e.projects.map(a=>r.includes(a.id)?{...a,lastReviewed:o,updatedAt:o}:a)}:{...e,areas:e.areas.map(a=>r.includes(a.id)?{...a,lastReviewed:o,updatedAt:o}:a)}}case"UPDATE_ITEM_TAGS":{const{itemId:r,tags:i}=n.payload,o=new Date().toISOString(),a=s=>s.id===r?{...s,tags:i,updatedAt:o}:s;switch(Hn(r)){case"area":return{...e,areas:e.areas.map(a)};case"project":return{...e,projects:e.projects.map(a)};case"task":return{...e,tasks:e.tasks.map(a)};case"note":return{...e,notes:e.notes.map(a)};case"resource":return{...e,resources:e.resources.map(a)};default:return e}}default:return e}},dv=W.createContext(void 0),DN=({children:e})=>{const[n,r]=W.useReducer(PN,IN,i=>{try{const o=window.localStorage.getItem("sb-data");return o!==null?JSON.parse(o):i}catch(o){return console.error("Error reading localStorage key sb-data:",o),i}});return W.useEffect(()=>{window.localStorage.setItem("sb-data",JSON.stringify(n))},[n]),h.jsx(dv.Provider,{value:{state:n,dispatch:r},children:e})},xi=()=>{const e=W.useContext(dv);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e},MN=({project:e,allTasks:n,tasks:r,notes:i,resources:o,onToggleTask:a,onArchive:l,onDelete:s,onSelectNote:u,onSelectTask:f,onUpdateProject:p,onOpenCaptureModal:c,onSaveNewItem:d,onAddSubtask:g,onReparentTask:b,onUpdateTask:w,onUpdateTaskStage:_,onUpdateMultipleTaskStages:m})=>{const[v,x]=W.useState(!1),[y,k]=W.useState(""),[N,j]=W.useState(null),[E,C]=W.useState(""),[S,T]=W.useState(e.tags||[]),[O,P]=W.useState("list"),[A,R]=W.useState(new Set),[B,z]=W.useState("active"),[H,D]=W.useState(!1),{dispatch:M}=xi(),I=W.useRef(null),F=jo(e.title,()=>{}),L=jo(e.description,()=>{});W.useEffect(()=>{T(e.tags||[]),j(null),x(!1)},[e]);const V=F.isEditing||L.isEditing,{activeTasks:U,doneTasks:$}=W.useMemo(()=>{const X=r.filter(Y=>Y.stage!=="Done"),Q=r.filter(Y=>Y.stage==="Done").sort((Y,be)=>new Date(be.completedAt||0).getTime()-new Date(Y.completedAt||0).getTime());return{activeTasks:X,doneTasks:Q}},[r]),q=W.useMemo(()=>new Map(n.map(X=>[X.id,X])),[n]),K=W.useMemo(()=>{const X=new Map(n.filter(de=>de.projectId===e.id&&de.status==="active"&&de.stage!=="Done").map(de=>[de.id,de])),Q=e.taskIds.map(de=>X.get(de)).filter(de=>!!de),Y=new Set(Q.map(de=>de.id));X.forEach(de=>{!Y.has(de.id)&&(!de.parentId||!X.has(de.parentId))&&(Q.push(de),Y.add(de.id))});const be=[],me=new Set,In=(de,Ft)=>{me.has(de.id)||(me.add(de.id),be.push({task:de,level:Ft}),de.subtaskIds&&de.subtaskIds.length>0&&de.subtaskIds.map(_i=>X.get(_i)).filter(_i=>!!_i).forEach(_i=>In(_i,Ft+1)))};return Q.forEach(de=>In(de,0)),be},[e,n]),Z=(X,Q)=>{if(X.id===Q.id)return!1;const Y=(be,me)=>{const In=q.get(me);if(!In)return!1;if((In.subtaskIds||[]).includes(be))return!0;for(const de of In.subtaskIds||[])if(Y(be,de))return!0;return!1};return!Y(Q.id,X.id)},{draggedId:ee,dropAction:ne,getDragAndDropProps:ce,getContainerProps:fe}=Wl({items:n,onReorder:(X,Q)=>{const Y=q.get(X);Y&&(Y.parentId?M({type:"REORDER_CHILD_LIST",payload:{parentListKey:"tasks",parentId:Y.parentId,childIdListKey:"subtaskIds",sourceId:X,targetId:Q}}):M({type:"REORDER_CHILD_LIST",payload:{parentListKey:"projects",parentId:e.id,childIdListKey:"taskIds",sourceId:X,targetId:Q}}))},onReparent:(X,Q)=>b(X,Q),isReorderAllowed:(X,Q)=>X.parentId===Q.parentId,isReparentAllowed:Z,isPromotable:X=>!!X.parentId,onPromote:X=>{M({type:"PROMOTE_SUBTASK",payload:{taskId:X}})}}),ge=X=>{R(Q=>{const Y=new Set(Q);return Y.has(X)?Y.delete(X):Y.add(X),Y})},ye=X=>{let Q=X;for(;Q.parentId;){if(A.has(Q.parentId))return!1;const Y=q.get(Q.parentId);if(!Y)break;Q=Y}return!0},Ue=W.useMemo(()=>K.filter(({task:X})=>ye(X)),[K,A,q]),Pe=()=>{F.handleEdit(),L.handleEdit()},J=()=>{const X={};F.value!==e.title&&(X.title=F.value),L.value!==e.description&&(X.description=L.value),JSON.stringify(S)!==JSON.stringify(e.tags||[])&&(X.tags=S),Object.keys(X).length>0&&p(e.id,X),F.handleSave(),L.handleSave()},te=()=>{F.handleCancel(),L.handleCancel(),T(e.tags||[])},ae=X=>{var Q;X.preventDefault(),y.trim()&&(d({title:y},"task",e.id),k(""),(Q=I.current)==null||Q.focus())},le=X=>{X.preventDefault(),E.trim()&&N&&(g(N,{title:E.trim()}),C(""),j(null))},re=X=>{X.currentTarget.contains(X.relatedTarget)||x(!1)},he=X=>{X.currentTarget.contains(X.relatedTarget)||j(null)};return h.jsxs("div",{children:[h.jsx("header",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-start",children:[V?h.jsxs("div",{className:"flex-1 mr-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"project-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"project-title",type:"text",value:F.value,onChange:X=>F.setValue(X.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-4xl font-bold text-text-primary focus:outline-none focus:ring-1 focus:ring-accent font-heading tracking-tight"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"project-description",className:"sr-only",children:"Description"}),h.jsx("textarea",{id:"project-description",value:L.value,onChange:X=>L.setValue(X.target.value),rows:3,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-secondary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar max-w-prose"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:S,onTagsChange:T})]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("button",{onClick:J,className:"px-3 py-1.5 text-sm bg-accent hover:bg-accent-hover text-accent-content transition-all rounded-lg active:scale-95",children:"Save"}),h.jsx("button",{onClick:te,className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-lg active:scale-95",children:"Cancel"})]})]}):h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold mb-2 font-heading tracking-tight",children:e.title}),h.jsx("p",{className:"text-text-secondary max-w-prose mb-4",children:e.description}),h.jsx(ct,{tags:e.tags})]}),h.jsx("div",{className:"flex-shrink-0 ml-4",children:h.jsx($l,{isOpen:H,onToggle:()=>D(!H),onEdit:Pe,onArchive:()=>l(e.id),onDelete:()=>s(e.id)})})]})}),h.jsx("div",{className:"border-b border-outline-dark mb-6",children:h.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[h.jsxs("button",{onClick:()=>z("active"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-semibold text-sm transition-colors ${B==="active"?"border-accent text-accent":"border-transparent text-text-secondary hover:text-text-primary hover:border-text-tertiary"}`,children:["Active ",h.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${B==="active"?"bg-accent/20 text-accent":"bg-surface text-text-secondary"}`,children:U.length})]}),h.jsxs("button",{onClick:()=>z("done"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-semibold text-sm transition-colors ${B==="done"?"border-accent text-accent":"border-transparent text-text-secondary hover:text-text-primary hover:border-text-tertiary"}`,children:["Done ",h.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${B==="done"?"bg-accent/20 text-accent":"bg-surface text-text-secondary"}`,children:$.length})]})]})}),B==="active"?h.jsx("div",{className:"animate-pop-in",children:h.jsxs(It,{icon:h.jsx(Jn,{className:"w-6 h-6"}),title:"Tasks",className:"mb-6",isCollapsible:!0,defaultOpen:!0,onAdd:()=>x(!0),headerPadding:"p-0",bodyPadding:"p-4",children:[h.jsxs("div",{slot:"header-content",className:"flex items-center justify-between p-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-accent",children:h.jsx(Jn,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-bold text-lg font-heading tracking-tight text-text-primary",children:"Tasks"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center bg-background/50 border border-outline-dark rounded-lg p-1",children:[h.jsx("button",{onClick:X=>{X.stopPropagation(),P("list")},title:"List View",className:`p-1.5 rounded-md transition-colors ${O==="list"?"bg-accent text-accent-content":"text-text-secondary hover:bg-neutral"}`,children:h.jsx(Zt,{className:"w-5 h-5"})}),h.jsx("button",{onClick:X=>{X.stopPropagation(),P("board")},title:"Board View",className:`p-1.5 rounded-md transition-colors ${O==="board"?"bg-accent text-accent-content":"text-text-secondary hover:bg-neutral"}`,children:h.jsx(fx,{className:"w-5 h-5"})})]}),h.jsx("button",{onClick:X=>{X.stopPropagation(),x(!0)},className:"p-1.5 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:h.jsx(He,{className:"w-5 h-5"})})]})]}),O==="list"?h.jsxs(h.Fragment,{children:[v&&h.jsxs("form",{onSubmit:ae,onBlur:re,className:"flex gap-2 mb-4 p-2 bg-background/50 rounded-lg border border-outline-dark animate-pop-in",children:[h.jsx("input",{ref:I,type:"text",value:y,onChange:X=>k(X.target.value),onKeyDown:X=>X.key==="Escape"&&x(!1),placeholder:"What needs to be done?",autoFocus:!0,className:"flex-1 bg-transparent border-none px-2 py-1 text-sm text-text-primary focus:outline-none"}),h.jsx("button",{type:"submit",className:"px-3 py-1 text-xs font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-md active:scale-95",children:"Add Task"})]}),U.length>0?h.jsx("ul",{className:`space-y-1 transition-all duration-200 ${(ne==null?void 0:ne.type)==="PROMOTE_TO_ROOT"?"bg-accent/20 outline-dashed outline-2 outline-offset-2 outline-accent rounded-lg p-2":""}`,...fe(),children:Ue.map(({task:X,level:Q},Y)=>{var be;return h.jsxs(pe.Fragment,{children:[h.jsxs("li",{...ce(X.id),className:`relative transition-all duration-200 ${ee===X.id?"opacity-30":"opacity-100"} ${Y===0&&!v?"animate-pop-in":""} ${(ne==null?void 0:ne.type)==="REPARENT"&&ne.targetId===X.id?"bg-accent/20 rounded-lg ring-2 ring-inset ring-accent":""}`,children:[(ne==null?void 0:ne.type)==="REORDER"&&ne.targetId===X.id&&h.jsx("div",{className:"absolute -top-4 left-0 right-0 h-8 bg-accent/20 rounded-lg border border-dashed border-accent"}),h.jsx("div",{style:{paddingLeft:`${Q*12}px`},children:h.jsx(rl,{task:X,allTasks:n,notes:i,resources:o,onToggleTask:a,onUpdateTask:w,onSelectTask:f,hasSubtasks:(((be=X.subtaskIds)==null?void 0:be.length)||0)>0,isCollapsed:A.has(X.id),onToggleCollapse:()=>ge(X.id),onArchive:l,onDelete:s,onAddSubtaskClick:()=>{j(X.id),C("")},showHierarchy:!0})})]}),N===X.id&&h.jsx("li",{style:{paddingLeft:`${(Q+1)*24}px`},className:"py-1 animate-pop-in",children:h.jsx("form",{onSubmit:le,onBlur:he,className:"flex gap-2",children:h.jsx("input",{type:"text",value:E,onChange:me=>C(me.target.value),onKeyDown:me=>me.key==="Escape"&&j(null),placeholder:"Add subtask...",autoFocus:!0,className:"flex-1 bg-background/50 border border-outline px-2 py-1 text-sm rounded-md focus:ring-1 focus:ring-accent focus:outline-none"})})})]},X.id)})}):h.jsx(pr,{children:"Every great project starts with a single step. Add your first task."})]}):h.jsx(EN,{tasks:U,allTasks:n,onUpdateTaskStage:_,onSelectTask:f,onUpdateMultipleTaskStages:m})]})}):h.jsx("div",{className:"animate-pop-in",children:h.jsx(It,{icon:h.jsx(Jn,{className:"w-6 h-6 text-accent"}),title:"Completed Tasks",className:"mb-6",children:$.length>0?h.jsx("ul",{className:"space-y-1",children:$.map(X=>h.jsx("li",{children:h.jsx(rl,{task:X,allTasks:n,onToggleTask:a,onUpdateTask:w,onSelectTask:f})},X.id))}):h.jsx(pr,{children:"No completed tasks in this project yet."})})}),h.jsx(It,{icon:h.jsx(tt,{className:"w-6 h-6"}),title:"Notes",onAdd:()=>c({parentId:e.id,itemType:"note"}),isCollapsible:!0,defaultOpen:!0,className:"mb-6",children:i.length>0?h.jsx("ul",{className:"space-y-2",children:i.map(X=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>u(X.id),className:"w-full text-left p-3 hover:bg-neutral rounded-lg transition-colors",children:[h.jsx("p",{className:"font-semibold",children:X.title}),h.jsx("p",{className:"text-sm text-text-secondary truncate mt-1",children:Ym(X.content)}),h.jsx(ct,{tags:X.tags,className:"mt-2"})]})},X.id))}):h.jsx(pr,{children:"Jot down ideas, meeting minutes, or inspiration."})}),h.jsx(It,{icon:h.jsx(vt,{className:"w-6 h-6"}),title:"Resources",onAdd:()=>c({parentId:e.id,itemType:"resource"}),isCollapsible:!0,defaultOpen:!0,children:o.length>0?h.jsx("ul",{className:"space-y-1",children:o.map(X=>h.jsx("li",{className:"p-3 hover:bg-neutral rounded-lg transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[X.url?h.jsx(nr,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}):h.jsx(vt,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("a",{href:X.url?X.url.startsWith("http")?X.url:`https://${X.url}`:void 0,target:"_blank",rel:"noopener noreferrer",className:"hover:underline hover:text-accent",children:X.title}),h.jsx(ct,{tags:X.tags,className:"mt-1"})]})]})},X.id))}):h.jsx(pr,{children:"Collect links, files, and snippets related to this project."})})]})},RN=pe.memo(MN),LN=({total:e,completed:n,size:r=20,strokeWidth:i=3})=>{if(e===0)return null;const o=(r-i)/2,a=2*Math.PI*o,l=n/e,s=a*(1-l);return h.jsxs("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,className:"-rotate-90",children:[h.jsx("circle",{cx:r/2,cy:r/2,r:o,stroke:"rgba(139, 148, 158, 0.2)",strokeWidth:i,fill:"transparent"}),h.jsx("circle",{cx:r/2,cy:r/2,r:o,stroke:"currentColor",strokeWidth:i,fill:"transparent",strokeDasharray:a,strokeDashoffset:s,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.3s ease-out"}})]})},hv=pe.memo(LN),bi=({icon:e,title:n,description:r,actionButton:i})=>h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-text-tertiary text-center p-8 bg-surface/80 backdrop-blur-xl border-2 border-dashed border-outline-dark rounded-2xl",children:[pe.cloneElement(e,{className:"w-16 h-16 mb-4"}),h.jsx("h2",{className:"text-xl font-semibold font-heading text-text-primary mb-2",children:n}),h.jsx("p",{className:"max-w-sm mb-4",children:r}),i&&h.jsx("div",{className:"mt-2",children:i})]}),$N=({projects:e,activeProjectId:n,onSelectProject:r,allTasks:i,tasks:o,notes:a,resources:l,onToggleTask:s,onArchive:u,onDelete:f,onSelectNote:p,onSelectTask:c,onUpdateProject:d,onOpenCaptureModal:g,onSaveNewItem:b,onAddSubtask:w,onReparentTask:_,onUpdateTask:m,onUpdateTaskStage:v,onUpdateMultipleTaskStages:x})=>{const{dispatch:y}=xi(),{draggedId:k,dropAction:N,getDragAndDropProps:j,getContainerProps:E}=Wl({items:e,onReorder:(O,P)=>{y({type:"REORDER_LIST",payload:{listKey:"projects",sourceId:O,targetId:P}})}});W.useEffect(()=>{e.length>0&&(!n||!e.some(O=>O.id===n))?r(e[0].id):e.length===0&&r(null)},[e,n,r]);const C=e.find(O=>O.id===n)||null,S=()=>{g({parentId:null,itemType:"project"})},T=O=>{const P=o.filter(R=>O.taskIds.includes(R.id));return{completed:P.filter(R=>R.stage==="Done").length,total:P.length}};return h.jsxs("div",{className:"flex flex-col md:flex-row h-full md:gap-8",children:[h.jsxs("aside",{className:`w-full md:w-1/3 md:max-w-sm h-full flex flex-col bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md ${n?"hidden md:flex":"flex"}`,children:[h.jsxs("header",{className:"p-4 border-b border-outline-dark flex-shrink-0 flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-bold font-heading tracking-tight",children:"Projects"}),h.jsx("button",{onClick:S,"aria-label":"Add new project",className:"p-1.5 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors active:scale-95",children:h.jsx(He,{className:"w-5 h-5"})})]}),h.jsx("ul",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",...E(),children:e.map(O=>{const{completed:P,total:A}=T(O);return h.jsxs("li",{...j(O.id),className:`relative cursor-grab rounded-xl ${k===O.id?"opacity-30":""}`,children:[(N==null?void 0:N.type)==="REORDER"&&N.targetId===O.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-0.5 bg-accent rounded-full"}),h.jsxs("button",{onClick:()=>r(O.id),className:`w-full text-left p-3 mb-1 transition-all duration-200 rounded-xl ${n===O.id?"bg-accent/10 text-accent":"hover:bg-neutral"}`,children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"font-semibold text-text-primary truncate",children:O.title}),A>0&&h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsxs("span",{className:"text-xs font-mono text-text-tertiary",children:[P,"/",A]}),h.jsx(hv,{completed:P,total:A})]})]}),h.jsx("p",{className:"text-xs text-text-secondary truncate mt-1",children:O.description||"No description"}),h.jsx(ct,{tags:O.tags,className:"mt-2"})]})]},O.id)})})]}),h.jsx("section",{className:`flex-1 overflow-y-auto custom-scrollbar ${n?"block":"hidden md:block"}`,children:C?h.jsx(RN,{project:C,allTasks:i,tasks:o.filter(O=>O.projectId===C.id),notes:a.filter(O=>C.noteIds.includes(O.id)||O.parentIds.includes(C.id)),resources:l.filter(O=>C.resourceIds.includes(O.id)||O.parentIds.includes(C.id)),onToggleTask:s,onArchive:u,onDelete:f,onSelectNote:p,onSelectTask:c,onUpdateProject:d,onOpenCaptureModal:g,onSaveNewItem:b,onAddSubtask:w,onReparentTask:_,onUpdateTask:m,onUpdateTaskStage:v,onUpdateMultipleTaskStages:x}):h.jsx(bi,{icon:h.jsx(gt,{}),title:"Start Your First Project",description:"A project has a clear goal and a finish line, like 'Plan Vacation' or 'Launch New Website'. What will you accomplish next?",actionButton:h.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(He,{className:"w-5 h-5"}),"Create New Project"]})})})]})},zN=pe.memo($N),FN=(e,n)=>{switch(e){case"briefcase":return h.jsx(lf,{className:n});case"heart":return h.jsx(sf,{className:n});case"book":return h.jsx(uf,{className:n});case"finance":return h.jsx(cf,{className:n});case"social":return h.jsx(ff,{className:n});case"brain":return h.jsx(af,{className:n});default:return h.jsx(mt,{className:n})}},BN=[{name:"default",component:h.jsx(mt,{className:"w-6 h-6"})},{name:"brain",component:h.jsx(af,{className:"w-6 h-6"})},{name:"briefcase",component:h.jsx(lf,{className:"w-6 h-6"})},{name:"heart",component:h.jsx(sf,{className:"w-6 h-6"})},{name:"book",component:h.jsx(uf,{className:"w-6 h-6"})},{name:"finance",component:h.jsx(cf,{className:"w-6 h-6"})},{name:"social",component:h.jsx(ff,{className:"w-6 h-6"})}],UN=["#F43F5E","#F97316","#FBBF24","#4ADE80","#FF9F0A","#3B82F6","#A855F7","#EC4899"],la=({icon:e,value:n,label:r})=>h.jsxs("div",{className:"bg-background/50 p-4 rounded-xl border border-outline flex items-center gap-4",children:[h.jsx("div",{className:"text-accent",children:e}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:n}),h.jsx("p",{className:"text-sm text-text-secondary",children:r})]})]}),qN=({area:e,projects:n,tasks:r,notes:i,resources:o,onArchive:a,onDelete:l,onSelectNote:s,onUpdateArea:u,onOpenCaptureModal:f,onNavigate:p,isFocusMode:c,onToggleFocusMode:d})=>{const g=jo(e.title,D=>u(e.id,{title:D})),b=jo(e.description,D=>u(e.id,{description:D})),[w,_]=W.useState(e.tags||[]),[m,v]=W.useState(e.color),[x,y]=W.useState(e.icon),{dispatch:k}=xi(),[N,j]=W.useState(!1),{draggedId:E,dropAction:C,getDragAndDropProps:S,getContainerProps:T}=Wl({items:n,onReorder:(D,M)=>{k({type:"REORDER_CHILD_LIST",payload:{parentListKey:"areas",parentId:e.id,childIdListKey:"projectIds",sourceId:D,targetId:M}})}});W.useEffect(()=>{_(e.tags||[]),v(e.color),y(e.icon)},[e]);const O=g.isEditing||b.isEditing,P=W.useMemo(()=>{const D=new Set(n.flatMap(M=>M.taskIds));return r.filter(M=>D.has(M.id))},[n,r]),A=W.useMemo(()=>{const D=P.filter(M=>M.stage!=="Done"&&M.dueDate&&new Date(M.dueDate)>new Date);return{projects:n.length,tasks:P.length,notes:i.length,upcoming:D.length}},[n,P,i]),R=()=>{g.handleEdit(),b.handleEdit(),j(!1)},B=()=>{const D={};g.value!==e.title&&(D.title=g.value),b.value!==e.description&&(D.description=b.value),JSON.stringify(w)!==JSON.stringify(e.tags||[])&&(D.tags=w),x!==e.icon&&(D.icon=x),m!==e.color&&(D.color=m),Object.keys(D).length>0&&u(e.id,D),g.handleSave(),b.handleSave()},z=()=>{g.handleCancel(),b.handleCancel(),_(e.tags||[]),v(e.color),y(e.icon)},H=D=>{const M=r.filter(F=>D.taskIds.includes(F.id));return{completed:M.filter(F=>F.stage==="Done").length,total:M.length}};return h.jsxs("div",{children:[h.jsx("header",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-start",children:[O?h.jsxs("div",{className:"flex-1 mr-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"area-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"area-title",type:"text",value:g.value,onChange:D=>g.setValue(D.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-4xl font-bold text-text-primary focus:outline-none focus:ring-1 focus:ring-accent font-heading tracking-tight"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"area-description",className:"sr-only",children:"Description"}),h.jsx("textarea",{id:"area-description",value:b.value,onChange:D=>b.setValue(D.target.value),rows:3,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-secondary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar max-w-prose"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Color"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:UN.map(D=>h.jsx("button",{type:"button",style:{backgroundColor:D},onClick:()=>v(D),className:`w-8 h-8 rounded-full transition-all ${m===D?"ring-2 ring-offset-2 ring-offset-background ring-white":""}`,"aria-label":`Color ${D}`},D))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Icon"}),h.jsx("div",{className:"grid grid-cols-8 gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:BN.map(D=>h.jsx("button",{type:"button",onClick:()=>y(D.name),className:`p-2 rounded-lg transition-colors ${x===D.name?"bg-accent text-accent-content":"hover:bg-neutral"}`,"aria-label":`Icon ${D.name}`,children:D.component},D.name))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:w,onTagsChange:_})]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("button",{onClick:B,className:"px-3 py-1.5 text-sm bg-accent hover:bg-accent-hover text-accent-content transition-all rounded-lg active:scale-95",children:"Save"}),h.jsx("button",{onClick:z,className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-lg active:scale-95",children:"Cancel"})]})]}):h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{style:{color:e.color||"currentColor",backgroundColor:`${e.color}1A`},className:"p-3 rounded-xl flex-shrink-0",children:FN(e.icon||"default","w-8 h-8")}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold font-heading tracking-tight",children:e.title}),h.jsx("p",{className:"text-text-secondary max-w-prose mt-1",children:e.description}),h.jsx(ct,{tags:e.tags,className:"mt-4"})]})]}),h.jsxs("div",{className:"flex-shrink-0 ml-4 flex items-center",children:[h.jsx("button",{onClick:d,"aria-label":c?"Exit focus mode":"Enter focus mode",className:"p-2 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:c?h.jsx(Vm,{className:"w-5 h-5"}):h.jsx(Hm,{className:"w-5 h-5"})}),h.jsx($l,{isOpen:N,onToggle:()=>j(!N),onEdit:R,onArchive:()=>a(e.id),onDelete:()=>l(e.id)})]})]})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx(la,{icon:h.jsx(gt,{className:"w-6 h-6"}),value:A.projects,label:"Active Projects"}),h.jsx(la,{icon:h.jsx(Zt,{className:"w-6 h-6"}),value:A.tasks,label:"Total Tasks"}),h.jsx(la,{icon:h.jsx(Or,{className:"w-6 h-6"}),value:A.upcoming,label:"Upcoming"}),h.jsx(la,{icon:h.jsx(tt,{className:"w-6 h-6"}),value:A.notes,label:"Notes"})]}),h.jsx(It,{icon:h.jsx(gt,{className:"w-6 h-6 text-accent"}),title:"Projects",onAdd:()=>f({parentId:e.id,itemType:"project"}),isCollapsible:!0,defaultOpen:!0,children:n.length>0?h.jsx("ul",{className:"space-y-2",...T(),children:n.map(D=>{const{completed:M,total:I}=H(D);return h.jsxs("li",{...S(D.id),className:`relative cursor-grab rounded-lg ${E===D.id?"opacity-30":""}`,children:[(C==null?void 0:C.type)==="REORDER"&&C.targetId===D.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-0.5 bg-accent rounded-full"}),h.jsxs("button",{onClick:()=>p("projects",D.id),className:"w-full text-left p-3 hover:bg-neutral rounded-lg transition-colors flex justify-between items-center gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-semibold truncate",children:D.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate mb-2",children:D.description}),h.jsx(ct,{tags:D.tags})]}),I>0&&h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsxs("span",{className:"text-xs font-mono text-text-tertiary",children:[M,"/",I]}),h.jsx(hv,{completed:M,total:I})]})]})]},D.id)})}):h.jsx(pr,{children:"No projects in this area yet. Add one to get started!"})}),h.jsx(It,{icon:h.jsx(tt,{className:"w-6 h-6 text-accent"}),title:"Notes",onAdd:()=>f({parentId:e.id,itemType:"note"}),isCollapsible:!0,defaultOpen:!0,children:i.length>0?h.jsx("ul",{className:"space-y-2",children:i.map(D=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>s(D.id),className:"w-full text-left p-3 hover:bg-neutral rounded-lg transition-colors",children:[h.jsx("p",{className:"font-semibold",children:D.title}),h.jsx("p",{className:"text-sm text-text-secondary truncate mt-1",children:Ym(D.content)}),h.jsx(ct,{tags:D.tags,className:"mt-2"})]})},D.id))}):h.jsx(pr,{children:"Capture notes related to this area of your life."})}),h.jsx(It,{icon:h.jsx(vt,{className:"w-6 h-6 text-accent"}),title:"Resources",onAdd:()=>f({parentId:e.id,itemType:"resource"}),isCollapsible:!0,defaultOpen:!0,children:o.length>0?h.jsx("ul",{className:"space-y-1",children:o.map(D=>h.jsx("li",{className:"p-3 hover:bg-neutral rounded-lg transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[D.url?h.jsx(nr,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}):h.jsx(vt,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("a",{href:D.url?D.url.startsWith("http")?D.url:`https://${D.url}`:void 0,target:"_blank",rel:"noopener noreferrer",className:"hover:underline hover:text-accent",children:D.title}),h.jsx(ct,{tags:D.tags,className:"mt-1"})]})]})},D.id))}):h.jsx(pr,{children:"Add resources that support this long-term responsibility."})})]})},HN=pe.memo(qN),VN=(e,n)=>{switch(e){case"briefcase":return h.jsx(lf,{className:n});case"heart":return h.jsx(sf,{className:n});case"book":return h.jsx(uf,{className:n});case"finance":return h.jsx(cf,{className:n});case"social":return h.jsx(ff,{className:n});case"brain":return h.jsx(af,{className:n});default:return h.jsx(mt,{className:n})}},WN=({areas:e,activeAreaId:n,onSelectArea:r,projects:i,tasks:o,notes:a,resources:l,onArchive:s,onDelete:u,onSelectNote:f,onUpdateArea:p,onOpenCaptureModal:c,onNavigate:d,onDirectOrganizeItem:g,isFocusMode:b,onToggleFocusMode:w})=>{const{dispatch:_}=xi(),{state:m}=Ll(),{draggedItemId:v,draggedItemType:x}=m,[y,k]=W.useState(null),{draggedId:N,dropAction:j,getDragAndDropProps:E,getContainerProps:C}=Wl({items:e,onReorder:(z,H)=>{_({type:"REORDER_LIST",payload:{listKey:"areas",sourceId:z,targetId:H}})}});W.useEffect(()=>{e.length>0&&(!n||!e.some(z=>z.id===n))?r(e[0].id):e.length===0&&r(null)},[e,n,r]);const S=e.find(z=>z.id===n)||null,T=W.useMemo(()=>S?S.projectIds.map(z=>i.find(H=>H.id===z)).filter(z=>!!z&&z.status==="active"):[],[S,i]),O=()=>{c({parentId:null,itemType:"area"})},P=(z,H)=>{z.stopPropagation(),c({parentId:H,itemType:"project"})},A=(z,H)=>{(x==="note"||x==="resource")&&(z.preventDefault(),z.dataTransfer.dropEffect="move",k(H))},R=z=>{z.currentTarget.contains(z.relatedTarget)||k(null)},B=(z,H)=>{z.preventDefault(),z.stopPropagation(),v&&g(v,[H]),k(null)};return h.jsxs("div",{className:"flex flex-col md:flex-row h-full md:gap-8",children:[h.jsxs("aside",{className:`w-full md:w-1/3 md:max-w-sm h-full flex flex-col bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md ${n&&!b?"hidden md:flex":"flex"}`,children:[h.jsxs("header",{className:"p-4 border-b border-outline-dark flex-shrink-0 flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-bold font-heading tracking-tight",children:"Areas"}),h.jsx("button",{onClick:O,"aria-label":"Add new area",className:"p-1.5 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors active:scale-95",children:h.jsx(He,{className:"w-5 h-5"})})]}),h.jsx("ul",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",...C(),children:e.map(z=>h.jsxs("li",{...E(z.id),onDragOver:H=>A(H,z.id),onDragLeave:R,onDrop:H=>B(H,z.id),className:`relative cursor-grab rounded-xl transition-all duration-300 group ${N===z.id?"opacity-30":""} ${y===z.id?"ring-2 ring-accent ring-inset":""}`,children:[(j==null?void 0:j.type)==="REORDER"&&j.targetId===z.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-0.5 bg-accent rounded-full"}),h.jsx("button",{onClick:()=>r(z.id),className:`w-full text-left p-3 mb-1 transition-all duration-200 rounded-xl border-l-4 ${n===z.id?"bg-neutral":"border-transparent hover:bg-neutral"}`,style:{borderColor:n===z.id?z.color:"transparent"},children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{style:{color:z.color||"currentColor"},children:VN(z.icon||"default","w-5 h-5 flex-shrink-0")}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-text-primary truncate",children:z.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate",children:z.description}),h.jsx(ct,{tags:z.tags,className:"mt-2"})]})]})}),h.jsx("button",{onClick:H=>P(H,z.id),"aria-label":`Quick add to ${z.title}`,className:"absolute top-1/2 -translate-y-1/2 right-2 p-1.5 bg-secondary hover:bg-secondary-hover rounded-full text-secondary-content opacity-0 group-hover:opacity-100 focus:opacity-100 transition-all duration-200",children:h.jsx(He,{className:"w-4 h-4"})})]},z.id))})]}),h.jsx("section",{className:`flex-1 overflow-y-auto custom-scrollbar ${n?"block":"hidden md:block"}`,children:S?h.jsx(HN,{area:S,projects:T,tasks:o,notes:a.filter(z=>z.parentIds.includes(S.id)),resources:l.filter(z=>z.parentIds.includes(S.id)),onArchive:s,onDelete:u,onSelectNote:f,onUpdateArea:p,onOpenCaptureModal:c,onNavigate:d,isFocusMode:b,onToggleFocusMode:w}):h.jsx(bi,{icon:h.jsx(mt,{}),title:"Create Your First Area of Life",description:"Areas are the broad, ongoing responsibilities that shape your life, like 'Personal Growth' or 'Career'. What's a major part of your life you want to focus on?",actionButton:h.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(He,{className:"w-5 h-5"}),"Create New Area"]})})})]})},GN=pe.memo(WN),KN={area:{label:"Areas",icon:h.jsx(mt,{className:"w-6 h-6 text-accent"})},project:{label:"Projects",icon:h.jsx(gt,{className:"w-6 h-6 text-accent"})},task:{label:"Tasks",icon:h.jsx(Zt,{className:"w-6 h-6 text-accent"})},note:{label:"Notes",icon:h.jsx(tt,{className:"w-6 h-6 text-accent"})},resource:{label:"Resources",icon:h.jsx(vt,{className:"w-6 h-6 text-accent"})}},YN=({items:e,onRestore:n,onDelete:r})=>{const i=e.filter(l=>l.status==="archived"),o=i.reduce((l,s)=>{const u=Hn(s.id);return u&&(l[u]||(l[u]=[]),l[u].push(s)),l},{}),a=["area","project","task","note","resource"];return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Archives"}),h.jsx("p",{className:"text-text-secondary",children:"View, restore, or permanently delete archived items."})]}),i.length===0?h.jsx(bi,{icon:h.jsx(rf,{}),title:"A Clean Slate",description:"The archives are currently empty. When you complete a project or an area is no longer active, archive it to keep your workspace tidy."}):a.map(l=>{const s=o[l];if(!s||s.length===0)return null;const u=KN[l];return h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md mb-6",children:[h.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-outline-dark",children:[u.icon,h.jsx("h3",{className:"font-bold text-lg font-heading",children:u.label})]}),h.jsx("div",{className:"p-2",children:h.jsx("ul",{children:s.map(f=>h.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-neutral",children:[h.jsx("span",{className:"font-medium",children:f.title}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>n(f.id),"aria-label":`Restore ${f.title}`,className:"p-2 text-text-secondary hover:text-accent transition-colors rounded-full",children:h.jsx(nx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>r(f.id),"aria-label":`Delete ${f.title}`,className:"p-2 text-text-secondary hover:text-destructive transition-colors rounded-full",children:h.jsx(Lo,{className:"w-5 h-5"})})]})]},f.id))})})]},l)})]})},QN=pe.memo(YN),yh=({buttonContent:e,children:n})=>{const[r,i]=W.useState(!1),o=W.useRef(null);return W.useEffect(()=>{const a=l=>{o.current&&!o.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),h.jsxs("div",{className:"relative",ref:o,children:[h.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-surface/80 border border-outline rounded-lg hover:bg-neutral transition-colors",children:[e,h.jsx(of,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),r&&h.jsx("div",{onClick:()=>i(!1),className:"absolute right-0 mt-2 w-56 bg-surface/95 backdrop-blur-xl border border-outline rounded-lg shadow-lg z-20",children:n})]})},ZN=({tags:e,sortOptions:n,tagFilter:r,onTagFilterChange:i,sortOption:o,onSortChange:a})=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(yh,{buttonContent:h.jsxs(h.Fragment,{children:[h.jsx(ux,{className:"w-4 h-4"}),h.jsx("span",{children:"Filter"}),r&&h.jsx("span",{className:"w-1.5 h-1.5 bg-accent rounded-full"})]}),children:h.jsxs("ul",{className:"p-1 max-h-60 overflow-y-auto custom-scrollbar",children:[r&&h.jsx("li",{className:"border-b border-outline-dark mb-1 pb-1",children:h.jsxs("button",{onClick:()=>i(null),className:"w-full text-left flex items-center justify-between px-2 py-1.5 text-sm rounded-md hover:bg-neutral text-destructive",children:["Clear Filter",h.jsx(Lt,{className:"w-4 h-4"})]})}),e.map(l=>h.jsx("li",{children:h.jsx("button",{onClick:()=>i(l),className:`w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-neutral ${r===l?"bg-accent/20 font-semibold":""}`,children:l})},l))]})}),h.jsx(yh,{buttonContent:h.jsxs(h.Fragment,{children:[h.jsx(cx,{className:"w-4 h-4"}),h.jsx("span",{children:"Sort"})]}),children:h.jsx("ul",{className:"p-1",children:n.map(l=>h.jsx("li",{children:h.jsx("button",{onClick:()=>a(l),className:`w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-neutral ${o===l?"bg-accent/20 font-semibold":""}`,children:l})},l))})})]}),pv=pe.memo(ZN),XN=e=>{try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.replace(/^www\./,"")}catch{return null}},JN=({resource:e,getParentName:n,onNavigate:r,onEditResource:i,onArchive:o,onDelete:a})=>{const[l,s]=W.useState(!1),[u,f]=W.useState(!1);W.useEffect(()=>{s(!1)},[e.id]);const p=!!e.url,c=p?XN(e.url):null,d=p?e.url.startsWith("http")?e.url:`https://${e.url}`:"#",g=p&&!l&&/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(e.url),b=c?`https://www.google.com/s2/favicons?sz=64&domain_url=${c}`:null,w=e.parentIds.map(v=>{const x=n(v);return x?h.jsxs("button",{onClick:y=>{y.stopPropagation(),r(x.type==="project"?"projects":"areas",v)},className:"flex items-center gap-1 bg-background/50 px-2 py-0.5 border border-outline rounded-md hover:bg-neutral transition-colors","aria-label":`Navigate to ${x.type} ${x.name}`,children:[x.type==="project"?h.jsx(gt,{className:"w-3 h-3"}):h.jsx(mt,{className:"w-3 h-3"}),x.name]},v):null}).filter(Boolean),_=h.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[h.jsxs("div",{className:"flex justify-between items-start gap-2",children:[h.jsx("h4",{className:"font-semibold flex-1 clamp-2-lines",children:e.title}),h.jsx("div",{className:"-mr-2 -mt-2",onClick:v=>v.stopPropagation(),children:h.jsx($l,{isOpen:u,onToggle:()=>f(!u),onEdit:()=>i(e.id),onArchive:()=>o(e.id),onDelete:()=>a(e.id)})})]}),c&&h.jsx("p",{className:"text-xs text-text-tertiary mt-1 truncate",children:c}),e.content&&h.jsx("p",{className:"text-sm text-text-secondary mt-2 clamp-3-lines",children:e.content}),h.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[w.length>0&&h.jsx("div",{className:"flex items-center flex-wrap gap-2 text-xs text-text-secondary",children:w}),h.jsx(ct,{tags:e.tags})]})]}),m=g?h.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"block aspect-video bg-background/50 rounded-t-xl overflow-hidden border-b border-outline group",children:h.jsx("img",{src:d,alt:e.title,onError:()=>s(!0),className:"w-full h-full object-cover"})}):p?h.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"block aspect-video bg-background/50 flex items-center justify-center rounded-t-xl overflow-hidden border-b border-outline group",children:b?h.jsx("img",{src:b,alt:`${c} favicon`,className:"w-12 h-12"}):h.jsx(nr,{className:"w-12 h-12 text-text-tertiary group-hover:text-accent transition-colors"})}):h.jsx("div",{className:"block aspect-video bg-background/50 flex items-center justify-center rounded-t-xl overflow-hidden border-b border-outline group cursor-pointer",onClick:()=>i(e.id),children:h.jsx(vt,{className:"w-12 h-12 text-text-tertiary group-hover:text-accent transition-colors"})});return h.jsxs("div",{className:"flex flex-col h-full bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md transition-all duration-300 ease-soft hover:shadow-lg hover:-translate-y-1",children:[m,h.jsx("div",{onClick:()=>i(e.id),className:"flex flex-col flex-grow cursor-pointer",children:_})]})},eE=({resources:e,projects:n,areas:r,onArchive:i,onDelete:o,onOpenCaptureModal:a,onEditResource:l,onNavigate:s})=>{const[u,f]=W.useState(null),[p,c]=W.useState("Creation Date (Newest First)"),d=W.useMemo(()=>{const v=new Set;return e.forEach(x=>{var y;return(y=x.tags)==null?void 0:y.forEach(k=>v.add(k))}),Array.from(v).sort()},[e]),g=W.useMemo(()=>{let v=[...e];switch(u&&(v=v.filter(x=>{var y;return(y=x.tags)==null?void 0:y.includes(u)})),p){case"Title (A-Z)":v.sort((x,y)=>x.title.localeCompare(y.title));break;case"Updated Date (Newest First)":v.sort((x,y)=>new Date(y.updatedAt).getTime()-new Date(x.updatedAt).getTime());break;case"Creation Date (Newest First)":default:v.sort((x,y)=>new Date(y.createdAt).getTime()-new Date(x.createdAt).getTime());break}return v},[e,u,p]),b=v=>{const x=n.find(k=>k.id===v);if(x)return{name:x.title,type:"project"};const y=r.find(k=>k.id===v);return y?{name:y.title,type:"area"}:null},w=()=>{a({parentId:null,itemType:"resource"})},_=["Creation Date (Newest First)","Updated Date (Newest First)","Title (A-Z)"];return h.jsxs("div",{children:[h.jsx("style",{children:`
        .clamp-2-lines {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        .clamp-3-lines {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
    `}),h.jsxs("header",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Resources"}),h.jsx("p",{className:"text-text-secondary",children:"Your personal library of links, files, and text snippets."})]}),h.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[h.jsx(pv,{tags:d,sortOptions:_,tagFilter:u,onTagFilterChange:f,sortOption:p,onSortChange:c}),h.jsxs("button",{onClick:w,className:"flex items-center gap-2 bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(He,{className:"w-5 h-5"}),"Add Resource"]})]})]}),g.length===0?h.jsx(bi,{icon:h.jsx(vt,{}),title:u?"No Matching Resources":"Build Your Personal Library",description:u?`No resources found with the tag "${u}".`:"Resources are topics of interest or useful information, like articles, links, or code snippets. Start capturing knowledge."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(v=>h.jsx("div",{children:h.jsx(JN,{resource:v,getParentName:b,onNavigate:s,onEditResource:l,onArchive:i,onDelete:o})},v.id))})]})},tE=pe.memo(eE),nE={areas:{label:"Areas",icon:h.jsx(mt,{className:"w-5 h-5 text-accent"})},projects:{label:"Projects",icon:h.jsx(gt,{className:"w-5 h-5 text-accent"})},tasks:{label:"Tasks",icon:h.jsx(Zt,{className:"w-5 h-5 text-accent"})},notes:{label:"Notes",icon:h.jsx(tt,{className:"w-5 h-5 text-accent"})},resources:{label:"Resources",icon:h.jsx(vt,{className:"w-5 h-5 text-accent"})}},rE=({query:e,areas:n,projects:r,tasks:i,notes:o,resources:a,onNavigate:l})=>{const s=W.useMemo(()=>{const p=e.toLowerCase();if(!p)return null;const c=d=>d.filter(g=>g.title.toLowerCase().includes(p)&&g.status==="active");return{areas:c(n),projects:c(r),tasks:c(i),notes:c(o),resources:c(a)}},[e,n,r,i,o,a]),u=(p,c)=>{switch(c){case"areas":l("areas",p.id);break;case"projects":l("projects",p.id);break;case"tasks":p.projectId&&l("projects",p.projectId);break;case"notes":case"resources":const d=p.parentIds.find(g=>g.startsWith("proj-"));if(d)l("projects",d);else{const g=p.parentIds.find(b=>b.startsWith("area-"));g&&l("areas",g)}break}},f=s?Object.values(s).reduce((p,c)=>p+c.length,0):0;return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Search Results"}),h.jsxs("p",{className:"text-text-secondary",children:["Found ",f,' results for "',h.jsx("span",{className:"text-accent font-semibold",children:e}),'"']})]}),f===0?h.jsx(bi,{icon:h.jsx(ai,{}),title:"No Results Found",description:"Try a different search term or check for typos."}):Object.entries(s||{}).map(([p,c])=>{const d=c;if(d.length===0)return null;const g=nE[p];return h.jsxs("div",{className:"mb-6",children:[h.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2 mb-3 font-heading",children:[g.icon,h.jsx("span",{children:g.label})]}),h.jsx("ul",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md divide-y divide-outline-dark",children:d.map(b=>h.jsx("li",{children:h.jsx("button",{onClick:()=>u(b,p),className:"w-full text-left p-3 hover:bg-neutral",children:b.title})},b.id))})]},p)})]})},iE=pe.memo(rE),oE=({isOpen:e,onClose:n,onSave:r,item:i,projects:o,areas:a})=>{const[l,s]=W.useState(i.parentIds||[]);W.useEffect(()=>{s(i.parentIds||[])},[i]);const u=c=>{s(d=>d.includes(c)?d.filter(g=>g!==c):[...d,c])},f=c=>{c.preventDefault(),r(i.id,l)};if(!e)return null;const p=[...a.map(c=>({id:c.id,title:c.title,type:"Area"})),...o.map(c=>({id:c.id,title:c.title,type:"Project"}))];return h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"organize-modal-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-outline rounded-xl shadow-lg",onClick:c=>c.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"organize-modal-title",className:"text-xl font-bold font-heading",children:"Organize Item"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:f,className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar",children:[h.jsx("p",{className:"text-text-secondary mb-2",children:"Assigning:"}),h.jsx("p",{className:"font-bold text-lg text-text-primary mb-4",children:i.title}),h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Select one or more Projects/Areas to link this item to:"}),h.jsx("div",{className:"space-y-2 border border-outline-dark p-2 rounded-lg max-h-64 overflow-y-auto custom-scrollbar bg-background/30",children:p.map(c=>h.jsxs("div",{className:"flex items-center p-1",children:[h.jsx("input",{type:"checkbox",id:`parent-${c.id}`,checked:l.includes(c.id),onChange:()=>u(c.id),className:"h-4 w-4 rounded border-outline bg-surface text-accent focus:ring-accent"}),h.jsxs("label",{htmlFor:`parent-${c.id}`,className:"ml-3 block text-sm text-text-primary",children:[c.title," ",h.jsxs("span",{className:"text-xs text-text-tertiary",children:["(",c.type,")"]})]})]},c.id))})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save Organization"})]})})]})]})})},aE=pe.memo(oE),sa={High:1,Medium:2,Low:3},Is={High:{text:"text-priority-high",bg:"bg-priority-high-bg"},Medium:{text:"text-priority-medium",bg:"bg-priority-medium-bg"},Low:{text:"text-priority-low",bg:"bg-priority-low-bg"}},lE=({tasks:e,projects:n,onToggleTask:r,onSelectTask:i})=>{const[o,a]=W.useState("project"),[l,s]=W.useState(null),[u,f]=W.useState("Priority (High to Low)"),p=W.useMemo(()=>{const m=new Set;return e.forEach(v=>{var x;return(x=v.tags)==null?void 0:x.forEach(y=>m.add(y))}),Array.from(m).sort()},[e]),c=W.useMemo(()=>e.filter(m=>m.status==="active"),[e]),d=W.useMemo(()=>{let m=[...c];switch(l&&(m=m.filter(v=>{var x;return(x=v.tags)==null?void 0:x.includes(l)})),u){case"Priority (High to Low)":m.sort((v,x)=>(sa[v.priority||""]||4)-(sa[x.priority||""]||4));break;case"Due Date (Soonest First)":m.sort((v,x)=>!v.dueDate&&!x.dueDate?0:v.dueDate?x.dueDate?new Date(v.dueDate).getTime()-new Date(x.dueDate).getTime():-1:1);break;case"Title (A-Z)":m.sort((v,x)=>v.title.localeCompare(x.title));break;case"Creation Date (Newest First)":default:m.sort((v,x)=>new Date(x.createdAt).getTime()-new Date(v.createdAt).getTime());break}return m},[c,l,u]),g=W.useMemo(()=>o==="project"?d.reduce((m,v)=>{const x=n.find(k=>k.id===v.projectId),y=x?x.title:"No Project";return m[y]||(m[y]=[]),m[y].push(v),m},{}):o==="priority"?d.reduce((m,v)=>{const x=v.priority||"No Priority";return m[x]||(m[x]=[]),m[x].push(v),m},{}):o==="dueDate"?d.reduce((m,v)=>{const x=v.dueDate?new Date(v.dueDate).toDateString():"No Due Date";return m[x]||(m[x]=[]),m[x].push(v),m},{}):{},[d,n,o]),w=(m=>{const v=Object.keys(m);return o==="priority"?v.sort((x,y)=>(sa[x]||4)-(sa[y]||4)):o==="dueDate"?v.sort((x,y)=>x==="No Due Date"?1:y==="No Due Date"?-1:new Date(x).getTime()-new Date(y).getTime()):o==="project"?v.sort((x,y)=>x==="No Project"?1:y==="No Project"?-1:x.localeCompare(y)):v.sort()})(g),_=["Priority (High to Low)","Due Date (Soonest First)","Creation Date (Newest First)","Title (A-Z)"];return h.jsxs("div",{className:"custom-scrollbar h-full",children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"All Tasks"}),h.jsx("p",{className:"text-text-secondary",children:"A complete list of all your active tasks."})]}),h.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sticky top-0 bg-background/80 backdrop-blur-sm py-4 z-10",children:[h.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[h.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Group by:"}),h.jsx("div",{className:"flex gap-2",children:["project","priority","dueDate"].map(m=>h.jsx("button",{onClick:()=>a(m),className:`px-3 py-1 text-sm transition-colors border rounded-lg ${o===m?"bg-accent text-accent-content border-accent":"bg-surface/80 border-outline-dark hover:bg-neutral"}`,children:m==="dueDate"?"Due Date":m.charAt(0).toUpperCase()+m.slice(1)},m))})]}),h.jsx(pv,{tags:p,sortOptions:_,tagFilter:l,onTagFilterChange:s,sortOption:u,onSortChange:f})]}),d.length===0?h.jsx(bi,{icon:h.jsx(Zt,{}),title:l?"No Matching Tasks":"All Clear!",description:l?`No tasks found with the tag "${l}".`:"You have no active tasks. Enjoy the peace, or capture a new task to get things moving."}):h.jsx("div",{className:"space-y-6",children:w.map(m=>h.jsxs("section",{children:[h.jsx("h2",{className:"text-lg font-bold text-text-primary mb-3 font-heading",children:m}),h.jsx("ul",{className:"space-y-2",children:g[m].map(v=>{var x;return h.jsx("li",{className:"p-3 bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-sm",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>r(v.id),"aria-label":v.stage==="Done"?"Mark as incomplete":"Mark as complete",children:v.stage==="Done"?h.jsx(Jn,{className:"w-5 h-5 text-accent"}):h.jsx(Mu,{className:"w-5 h-5 text-text-tertiary"})}),h.jsxs("div",{className:"flex-1",role:"button",onClick:()=>i(v.id),children:[h.jsx("p",{className:`${v.stage==="Done"?"line-through text-text-tertiary":""}`,children:v.title}),h.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[o!=="project"&&h.jsx("p",{className:"text-xs text-text-tertiary",children:((x=n.find(y=>y.id===v.projectId))==null?void 0:x.title)||"No Project"}),h.jsx(ct,{tags:v.tags})]})]}),v.dueDate&&o!=="dueDate"&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[h.jsx(Or,{className:"w-4 h-4"}),new Date(v.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),v.priority&&o!=="priority"&&Is[v.priority]&&h.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full ${Is[v.priority].bg} ${Is[v.priority].text}`,children:[h.jsx(Rl,{className:"w-3 h-3"}),v.priority]})]})},v.id)})})]},m))})]})},sE=pe.memo(lE),xh=new Date(Date.now()-7*24*60*60*1e3),uE=({inboxCount:e,projects:n,areas:r,tasks:i,onNavigate:o,onMarkReviewed:a})=>{const[l,s]=W.useState("inbox"),u=W.useMemo(()=>n.filter(_=>!_.lastReviewed||new Date(_.lastReviewed)<xh),[n]),f=W.useMemo(()=>r.filter(_=>!_.lastReviewed||new Date(_.lastReviewed)<xh),[r]),p=W.useMemo(()=>{const _=new Date(Date.now()+6048e5);return i.filter(m=>m.dueDate&&new Date(m.dueDate)<=_)},[i]),c=[{id:"inbox",title:"Process Your Inbox",count:e},{id:"projects",title:"Review Active Projects",count:u.length},{id:"areas",title:"Review Active Areas",count:f.length},{id:"tasks",title:"Look at Upcoming Tasks",count:p.length}],d=_=>{_==="project"?a(u.map(m=>m.id),"project"):a(f.map(m=>m.id),"area")},g=()=>{switch(l){case"inbox":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",e," ",e===1?"item":"items"," in your inbox to process."]}),h.jsx("button",{onClick:()=>o("dashboard"),className:"bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm",children:"Go to Home"})]});case"projects":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",u.length," ",u.length===1?"project":"projects"," that haven't been reviewed in the last week."]}),h.jsx("ul",{className:"space-y-2 mb-4",children:u.map(_=>h.jsx("li",{children:h.jsx("button",{onClick:()=>o("projects",_.id),className:"text-accent hover:underline font-semibold",children:_.title})},_.id))}),h.jsx("button",{onClick:()=>d("project"),className:"bg-secondary hover:bg-secondary-hover text-secondary-content font-semibold px-4 py-2 transition-all rounded-lg shadow-sm",children:"Mark all as reviewed"})]});case"areas":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",f.length," ",f.length===1?"area":"areas"," that haven't been reviewed in the last week."]}),h.jsx("ul",{className:"space-y-2 mb-4",children:f.map(_=>h.jsx("li",{children:h.jsx("button",{onClick:()=>o("areas",_.id),className:"text-accent hover:underline font-semibold",children:_.title})},_.id))}),h.jsx("button",{onClick:()=>d("area"),className:"bg-secondary hover:bg-secondary-hover text-secondary-content font-semibold px-4 py-2 transition-all rounded-lg shadow-sm",children:"Mark all as reviewed"})]});case"tasks":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",p.length," ",p.length===1?"task":"tasks"," due in the next 7 days."]}),h.jsx("button",{onClick:()=>o("dashboard"),className:"bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-all rounded-lg shadow-sm",children:"Go to Home"})]});case"complete":return h.jsxs("div",{className:"text-center",children:[h.jsx(Jn,{className:"w-16 h-16 text-accent mx-auto mb-4"}),h.jsx("h3",{className:"text-2xl font-bold font-heading",children:"Review Complete!"}),h.jsx("p",{className:"text-text-secondary",children:"Your digital garden is tended to and ready for the week ahead."})]})}},b=c.findIndex(_=>_.id===l),w=()=>{b<c.length-1?s(c[b+1].id):s("complete")};return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("header",{className:"mb-12 text-center",children:[h.jsx("h1",{className:"text-4xl font-bold font-heading",children:"Weekly Review"}),h.jsx("p",{className:"text-text-secondary mt-2",children:"A guided tour to keep your digital mind clear and focused."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsx("div",{className:"w-full md:w-1/3",children:h.jsx("ol",{className:"space-y-4",children:c.map((_,m)=>{const v=m<b,x=m===b;return h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx("span",{className:`w-8 h-8 flex items-center justify-center font-bold text-sm rounded-full transition-colors flex-shrink-0 ${x?"bg-accent text-accent-content":v?"bg-surface text-text-primary border border-outline-dark":"bg-surface text-text-secondary border border-outline-dark"}`,children:v?"":m+1}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-text-primary",children:_.title}),h.jsxs("p",{className:"text-xs text-text-secondary",children:[_.count," ",_.count===1?"item":"items"]})]})]},_.id)})})}),h.jsxs("div",{className:"w-full md:w-2/3 bg-surface/80 backdrop-blur-xl p-6 border border-outline rounded-xl shadow-md",children:[g(),l!=="complete"&&h.jsx("div",{className:"mt-6 pt-6 border-t border-outline-dark text-right",children:h.jsx("button",{onClick:w,className:"bg-neutral hover:bg-neutral-hover text-neutral-content font-semibold px-4 py-2 rounded-lg transition-colors",children:"Next Step "})})]})]})]})},cE=pe.memo(uE);function fE(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function dE(e,n,r){return n=bE(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function bh(e,n){return gE(e)||fE(e,n)||gv(e,n)||yE()}function hE(e){return pE(e)||mE(e)||gv(e)||vE()}function pE(e){if(Array.isArray(e))return Bu(e)}function gE(e){if(Array.isArray(e))return e}function mE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gv(e,n){if(e){if(typeof e=="string")return Bu(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bu(e,n)}}function Bu(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function vE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xE(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function bE(e){var n=xE(e,"string");return typeof n=="symbol"?n:String(n)}var _E=function(n,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(hE(Object.entries(n).filter(function(o){var a=bh(o,1),l=a[0];return!i.has(l)}).map(function(o){var a=bh(o,2),l=a[0],s=a[1];return dE({},l,s)}))))};function Uu(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function wE(e){if(Array.isArray(e))return e}function kE(e){if(Array.isArray(e))return Uu(e)}function jE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NE(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function EE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TE(e,n){return wE(e)||NE(e,n)||mv(e,n)||EE()}function _h(e){return kE(e)||jE(e)||mv(e)||SE()}function mv(e,n){if(e){if(typeof e=="string")return Uu(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uu(e,n):void 0}}function OE(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,i=r===void 0?"div":r,o=n.nodeMapper,a=o===void 0?function(p){return p}:o,l=n.methodNames,s=l===void 0?[]:l,u=n.initPropNames,f=u===void 0?[]:u;return W.forwardRef(function(p,c){var d=W.useRef(),g=W.useMemo(function(){var _=Object.fromEntries(f.filter(function(m){return p.hasOwnProperty(m)}).map(function(m){return[m,p[m]]}));return e(_)},[]);wh(function(){g(a(d.current))},W.useLayoutEffect),wh(function(){return g._destructor instanceof Function?g._destructor:void 0});var b=W.useCallback(function(_){for(var m=arguments.length,v=new Array(m>1?m-1:0),x=1;x<m;x++)v[x-1]=arguments[x];return g[_]instanceof Function?g[_].apply(g,v):void 0},[g]),w=W.useRef({});return Object.keys(_E(p,[].concat(_h(s),_h(f)))).filter(function(_){return w.current[_]!==p[_]}).forEach(function(_){return b(_,p[_])}),w.current=p,W.useImperativeHandle(c,function(){return Object.fromEntries(s.map(function(_){return[_,function(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];return b.apply(void 0,[_].concat(v))}]}))},[b]),pe.createElement(i,{ref:d})})}function wh(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W.useEffect,r=W.useRef(),i=W.useRef(!1),o=W.useRef(!1),a=W.useState(0),l=TE(a,2);l[0];var s=l[1];i.current&&(o.current=!0),n(function(){return i.current||(r.current=e(),i.current=!0),s(function(u){return u+1}),function(){o.current&&r.current&&r.current()}},[])}var qu="http://www.w3.org/1999/xhtml";const kh={svg:"http://www.w3.org/2000/svg",xhtml:qu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gl(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),kh.hasOwnProperty(n)?{space:kh[n],local:e}:e}function AE(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===qu&&n.documentElement.namespaceURI===qu?n.createElement(e):n.createElementNS(r,e)}}function CE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vv(e){var n=Gl(e);return(n.local?CE:AE)(n)}function IE(){}function gf(e){return e==null?IE:function(){return this.querySelector(e)}}function PE(e){typeof e!="function"&&(e=gf(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f,p=0;p<l;++p)(u=a[p])&&(f=e.call(u,u.__data__,p,a))&&("__data__"in u&&(f.__data__=u.__data__),s[p]=f);return new Nt(i,this._parents)}function DE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ME(){return[]}function yv(e){return e==null?ME:function(){return this.querySelectorAll(e)}}function RE(e){return function(){return DE(e.apply(this,arguments))}}function LE(e){typeof e=="function"?e=RE(e):e=yv(e);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var l=n[a],s=l.length,u,f=0;f<s;++f)(u=l[f])&&(i.push(e.call(u,u.__data__,f,l)),o.push(u));return new Nt(i,o)}function xv(e){return function(){return this.matches(e)}}function bv(e){return function(n){return n.matches(e)}}var $E=Array.prototype.find;function zE(e){return function(){return $E.call(this.children,e)}}function FE(){return this.firstElementChild}function BE(e){return this.select(e==null?FE:zE(typeof e=="function"?e:bv(e)))}var UE=Array.prototype.filter;function qE(){return Array.from(this.children)}function HE(e){return function(){return UE.call(this.children,e)}}function VE(e){return this.selectAll(e==null?qE:HE(typeof e=="function"?e:bv(e)))}function WE(e){typeof e!="function"&&(e=xv(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,s=i[o]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&s.push(u);return new Nt(i,this._parents)}function _v(e){return new Array(e.length)}function GE(){return new Nt(this._enter||this._groups.map(_v),this._parents)}function sl(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}sl.prototype={constructor:sl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KE(e){return function(){return e}}function YE(e,n,r,i,o,a){for(var l=0,s,u=n.length,f=a.length;l<f;++l)(s=n[l])?(s.__data__=a[l],i[l]=s):r[l]=new sl(e,a[l]);for(;l<u;++l)(s=n[l])&&(o[l]=s)}function QE(e,n,r,i,o,a,l){var s,u,f=new Map,p=n.length,c=a.length,d=new Array(p),g;for(s=0;s<p;++s)(u=n[s])&&(d[s]=g=l.call(u,u.__data__,s,n)+"",f.has(g)?o[s]=u:f.set(g,u));for(s=0;s<c;++s)g=l.call(e,a[s],s,a)+"",(u=f.get(g))?(i[s]=u,u.__data__=a[s],f.delete(g)):r[s]=new sl(e,a[s]);for(s=0;s<p;++s)(u=n[s])&&f.get(d[s])===u&&(o[s]=u)}function ZE(e){return e.__data__}function XE(e,n){if(!arguments.length)return Array.from(this,ZE);var r=n?QE:YE,i=this._parents,o=this._groups;typeof e!="function"&&(e=KE(e));for(var a=o.length,l=new Array(a),s=new Array(a),u=new Array(a),f=0;f<a;++f){var p=i[f],c=o[f],d=c.length,g=JE(e.call(p,p&&p.__data__,f,i)),b=g.length,w=s[f]=new Array(b),_=l[f]=new Array(b),m=u[f]=new Array(d);r(p,c,w,_,m,g,n);for(var v=0,x=0,y,k;v<b;++v)if(y=w[v]){for(v>=x&&(x=v+1);!(k=_[x])&&++x<b;);y._next=k||null}}return l=new Nt(l,i),l._enter=s,l._exit=u,l}function JE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eS(){return new Nt(this._exit||this._groups.map(_v),this._parents)}function tS(e,n,r){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function nS(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,o=r.length,a=i.length,l=Math.min(o,a),s=new Array(o),u=0;u<l;++u)for(var f=r[u],p=i[u],c=f.length,d=s[u]=new Array(c),g,b=0;b<c;++b)(g=f[b]||p[b])&&(d[b]=g);for(;u<o;++u)s[u]=r[u];return new Nt(s,this._parents)}function rS(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],o=i.length-1,a=i[o],l;--o>=0;)(l=i[o])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function iS(e){e||(e=oS);function n(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,p=0;p<s;++p)(f=l[p])&&(u[p]=f);u.sort(n)}return new Nt(o,this._parents).order()}function oS(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function aS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lS(){return Array.from(this)}function sS(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){var l=i[o];if(l)return l}return null}function uS(){let e=0;for(const n of this)++e;return e}function cS(){return!this.node()}function fS(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,l=o.length,s;a<l;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function dS(e){return function(){this.removeAttribute(e)}}function hS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pS(e,n){return function(){this.setAttribute(e,n)}}function gS(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function mS(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function vS(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function yS(e,n){var r=Gl(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?hS:dS:typeof n=="function"?r.local?vS:mS:r.local?gS:pS)(r,n))}function wv(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xS(e){return function(){this.style.removeProperty(e)}}function bS(e,n,r){return function(){this.style.setProperty(e,n,r)}}function _S(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function wS(e,n,r){return arguments.length>1?this.each((n==null?xS:typeof n=="function"?_S:bS)(e,n,r??"")):li(this.node(),e)}function li(e,n){return e.style.getPropertyValue(n)||wv(e).getComputedStyle(e,null).getPropertyValue(n)}function kS(e){return function(){delete this[e]}}function jS(e,n){return function(){this[e]=n}}function NS(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function ES(e,n){return arguments.length>1?this.each((n==null?kS:typeof n=="function"?NS:jS)(e,n)):this.node()[e]}function kv(e){return e.trim().split(/^|\s+/)}function mf(e){return e.classList||new jv(e)}function jv(e){this._node=e,this._names=kv(e.getAttribute("class")||"")}jv.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nv(e,n){for(var r=mf(e),i=-1,o=n.length;++i<o;)r.add(n[i])}function Ev(e,n){for(var r=mf(e),i=-1,o=n.length;++i<o;)r.remove(n[i])}function SS(e){return function(){Nv(this,e)}}function TS(e){return function(){Ev(this,e)}}function OS(e,n){return function(){(n.apply(this,arguments)?Nv:Ev)(this,e)}}function AS(e,n){var r=kv(e+"");if(arguments.length<2){for(var i=mf(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof n=="function"?OS:n?SS:TS)(r,n))}function CS(){this.textContent=""}function IS(e){return function(){this.textContent=e}}function PS(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function DS(e){return arguments.length?this.each(e==null?CS:(typeof e=="function"?PS:IS)(e)):this.node().textContent}function MS(){this.innerHTML=""}function RS(e){return function(){this.innerHTML=e}}function LS(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function $S(e){return arguments.length?this.each(e==null?MS:(typeof e=="function"?LS:RS)(e)):this.node().innerHTML}function zS(){this.nextSibling&&this.parentNode.appendChild(this)}function FS(){return this.each(zS)}function BS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function US(){return this.each(BS)}function qS(e){var n=typeof e=="function"?e:vv(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function HS(){return null}function VS(e,n){var r=typeof e=="function"?e:vv(e),i=n==null?HS:typeof n=="function"?n:gf(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function WS(){var e=this.parentNode;e&&e.removeChild(this)}function GS(){return this.each(WS)}function KS(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function YS(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function QS(e){return this.select(e?YS:KS)}function ZS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function XS(e){return function(n){e.call(this,n,this.__data__)}}function JS(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function eT(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,o=n.length,a;r<o;++r)a=n[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function tT(e,n,r){return function(){var i=this.__on,o,a=XS(n);if(i){for(var l=0,s=i.length;l<s;++l)if((o=i[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=n;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:n,listener:a,options:r},i?i.push(o):this.__on=[o]}}function nT(e,n,r){var i=JS(e+""),o,a=i.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,f=s.length,p;u<f;++u)for(o=0,p=s[u];o<a;++o)if((l=i[o]).type===p.type&&l.name===p.name)return p.value}return}for(s=n?tT:eT,o=0;o<a;++o)this.each(s(i[o],n,r));return this}function Sv(e,n,r){var i=wv(e),o=i.CustomEvent;typeof o=="function"?o=new o(n,r):(o=i.document.createEvent("Event"),r?(o.initEvent(n,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function rT(e,n){return function(){return Sv(this,e,n)}}function iT(e,n){return function(){return Sv(this,e,n.apply(this,arguments))}}function oT(e,n){return this.each((typeof n=="function"?iT:rT)(e,n))}function*aT(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&(yield l)}var Tv=[null];function Nt(e,n){this._groups=e,this._parents=n}function zo(){return new Nt([[document.documentElement]],Tv)}function lT(){return this}Nt.prototype=zo.prototype={constructor:Nt,select:PE,selectAll:LE,selectChild:BE,selectChildren:VE,filter:WE,data:XE,enter:GE,exit:eS,join:tS,merge:nS,selection:lT,order:rS,sort:iS,call:aS,nodes:lS,node:sS,size:uS,empty:cS,each:fS,attr:yS,style:wS,property:ES,classed:AS,text:DS,html:$S,raise:FS,lower:US,append:qS,insert:VS,remove:GS,clone:QS,datum:ZS,on:nT,dispatch:oT,[Symbol.iterator]:aT};function Pt(e){return typeof e=="string"?new Nt([[document.querySelector(e)]],[document.documentElement]):new Nt([[e]],Tv)}function sT(e){let n;for(;n=e.sourceEvent;)e=n;return e}function rn(e,n){if(e=sT(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}var uT={value:()=>{}};function Fo(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Ta(r)}function Ta(e){this._=e}function cT(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Ta.prototype=Fo.prototype={constructor:Ta,on:function(e,n){var r=this._,i=cT(e+"",r),o,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((o=(e=i[a]).type)&&(o=fT(r[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<l;)if(o=(e=i[a]).type)r[o]=jh(r[o],e.name,n);else if(n==null)for(o in r)r[o]=jh(r[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Ta(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(n,r)}};function fT(e,n){for(var r=0,i=e.length,o;r<i;++r)if((o=e[r]).name===n)return o.value}function jh(e,n,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===n){e[i]=uT,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const dT={passive:!1},No={capture:!0,passive:!1};function Ps(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ov(e){var n=e.document.documentElement,r=Pt(e).on("dragstart.drag",Zr,No);"onselectstart"in n?r.on("selectstart.drag",Zr,No):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Av(e,n){var r=e.document.documentElement,i=Pt(e).on("dragstart.drag",null);n&&(i.on("click.drag",Zr,No),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const ua=e=>()=>e;function Hu(e,{sourceEvent:n,subject:r,target:i,identifier:o,active:a,x:l,y:s,dx:u,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}Hu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function hT(e){return!e.ctrlKey&&!e.button}function pT(){return this.parentNode}function gT(e,n){return n??{x:e.x,y:e.y}}function mT(){return navigator.maxTouchPoints||"ontouchstart"in this}function vT(){var e=hT,n=pT,r=gT,i=mT,o={},a=Fo("start","drag","end"),l=0,s,u,f,p,c=0;function d(y){y.on("mousedown.drag",g).filter(i).on("touchstart.drag",_).on("touchmove.drag",m,dT).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(y,k){if(!(p||!e.call(this,y,k))){var N=x(this,n.call(this,y,k),y,k,"mouse");N&&(Pt(y.view).on("mousemove.drag",b,No).on("mouseup.drag",w,No),Ov(y.view),Ps(y),f=!1,s=y.clientX,u=y.clientY,N("start",y))}}function b(y){if(Zr(y),!f){var k=y.clientX-s,N=y.clientY-u;f=k*k+N*N>c}o.mouse("drag",y)}function w(y){Pt(y.view).on("mousemove.drag mouseup.drag",null),Av(y.view,f),Zr(y),o.mouse("end",y)}function _(y,k){if(e.call(this,y,k)){var N=y.changedTouches,j=n.call(this,y,k),E=N.length,C,S;for(C=0;C<E;++C)(S=x(this,j,y,k,N[C].identifier,N[C]))&&(Ps(y),S("start",y,N[C]))}}function m(y){var k=y.changedTouches,N=k.length,j,E;for(j=0;j<N;++j)(E=o[k[j].identifier])&&(Zr(y),E("drag",y,k[j]))}function v(y){var k=y.changedTouches,N=k.length,j,E;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),j=0;j<N;++j)(E=o[k[j].identifier])&&(Ps(y),E("end",y,k[j]))}function x(y,k,N,j,E,C){var S=a.copy(),T=rn(C||N,k),O,P,A;if((A=r.call(y,new Hu("beforestart",{sourceEvent:N,target:d,identifier:E,active:l,x:T[0],y:T[1],dx:0,dy:0,dispatch:S}),j))!=null)return O=A.x-T[0]||0,P=A.y-T[1]||0,function R(B,z,H){var D=T,M;switch(B){case"start":o[E]=R,M=l++;break;case"end":delete o[E],--l;case"drag":T=rn(H||z,k),M=l;break}S.call(B,y,new Hu(B,{sourceEvent:z,subject:A,target:d,identifier:E,active:M,x:T[0]+O,y:T[1]+P,dx:T[0]-D[0],dy:T[1]-D[1],dispatch:S}),j)}}return d.filter=function(y){return arguments.length?(e=typeof y=="function"?y:ua(!!y),d):e},d.container=function(y){return arguments.length?(n=typeof y=="function"?y:ua(y),d):n},d.subject=function(y){return arguments.length?(r=typeof y=="function"?y:ua(y),d):r},d.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:ua(!!y),d):i},d.on=function(){var y=a.on.apply(a,arguments);return y===a?d:y},d.clickDistance=function(y){return arguments.length?(c=(y=+y)*y,d):Math.sqrt(c)},d}function vf(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Cv(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function Bo(){}var Eo=.7,ul=1/Eo,Xr="\\s*([+-]?\\d+)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yT=/^#([0-9a-f]{3,8})$/,xT=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),bT=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),_T=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${So}\\)$`),wT=new RegExp(`^rgba\\(${un},${un},${un},${So}\\)$`),kT=new RegExp(`^hsl\\(${So},${un},${un}\\)$`),jT=new RegExp(`^hsla\\(${So},${un},${un},${So}\\)$`),Nh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vf(Bo,To,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eh,formatHex:Eh,formatHex8:NT,formatHsl:ET,formatRgb:Sh,toString:Sh});function Eh(){return this.rgb().formatHex()}function NT(){return this.rgb().formatHex8()}function ET(){return Iv(this).formatHsl()}function Sh(){return this.rgb().formatRgb()}function To(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=yT.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Th(n):r===3?new ft(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?ca(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?ca(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=xT.exec(e))?new ft(n[1],n[2],n[3],1):(n=bT.exec(e))?new ft(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=_T.exec(e))?ca(n[1],n[2],n[3],n[4]):(n=wT.exec(e))?ca(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=kT.exec(e))?Ch(n[1],n[2]/100,n[3]/100,1):(n=jT.exec(e))?Ch(n[1],n[2]/100,n[3]/100,n[4]):Nh.hasOwnProperty(e)?Th(Nh[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function Th(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function ca(e,n,r,i){return i<=0&&(e=n=r=NaN),new ft(e,n,r,i)}function ST(e){return e instanceof Bo||(e=To(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function Vu(e,n,r,i){return arguments.length===1?ST(e):new ft(e,n,r,i??1)}function ft(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}vf(ft,Vu,Cv(Bo,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(yr(this.r),yr(this.g),yr(this.b),cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oh,formatHex:Oh,formatHex8:TT,formatRgb:Ah,toString:Ah}));function Oh(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function TT(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ah(){const e=cl(this.opacity);return`${e===1?"rgb(":"rgba("}${yr(this.r)}, ${yr(this.g)}, ${yr(this.b)}${e===1?")":`, ${e})`}`}function cl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=yr(e),(e<16?"0":"")+e.toString(16)}function Ch(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Wt(e,n,r,i)}function Iv(e){if(e instanceof Wt)return new Wt(e.h,e.s,e.l,e.opacity);if(e instanceof Bo||(e=To(e)),!e)return new Wt;if(e instanceof Wt)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),l=NaN,s=a-o,u=(a+o)/2;return s?(n===a?l=(r-i)/s+(r<i)*6:r===a?l=(i-n)/s+2:l=(n-r)/s+4,s/=u<.5?a+o:2-a-o,l*=60):s=u>0&&u<1?0:l,new Wt(l,s,u,e.opacity)}function OT(e,n,r,i){return arguments.length===1?Iv(e):new Wt(e,n,r,i??1)}function Wt(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}vf(Wt,OT,Cv(Bo,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new Wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new Wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,o=2*r-i;return new ft(Ds(e>=240?e-240:e+120,o,i),Ds(e,o,i),Ds(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Wt(Ih(this.h),fa(this.s),fa(this.l),cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cl(this.opacity);return`${e===1?"hsl(":"hsla("}${Ih(this.h)}, ${fa(this.s)*100}%, ${fa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ih(e){return e=(e||0)%360,e<0?e+360:e}function fa(e){return Math.max(0,Math.min(1,e||0))}function Ds(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const Pv=e=>()=>e;function AT(e,n){return function(r){return e+r*n}}function CT(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function IT(e){return(e=+e)==1?Dv:function(n,r){return r-n?CT(n,r,e):Pv(isNaN(n)?r:n)}}function Dv(e,n){var r=n-e;return r?AT(e,r):Pv(isNaN(e)?n:e)}const Ph=function e(n){var r=IT(n);function i(o,a){var l=r((o=Vu(o)).r,(a=Vu(a)).r),s=r(o.g,a.g),u=r(o.b,a.b),f=Dv(o.opacity,a.opacity);return function(p){return o.r=l(p),o.g=s(p),o.b=u(p),o.opacity=f(p),o+""}}return i.gamma=e,i}(1);function zn(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var Wu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ms=new RegExp(Wu.source,"g");function PT(e){return function(){return e}}function DT(e){return function(n){return e(n)+""}}function MT(e,n){var r=Wu.lastIndex=Ms.lastIndex=0,i,o,a,l=-1,s=[],u=[];for(e=e+"",n=n+"";(i=Wu.exec(e))&&(o=Ms.exec(n));)(a=o.index)>r&&(a=n.slice(r,a),s[l]?s[l]+=a:s[++l]=a),(i=i[0])===(o=o[0])?s[l]?s[l]+=o:s[++l]=o:(s[++l]=null,u.push({i:l,x:zn(i,o)})),r=Ms.lastIndex;return r<n.length&&(a=n.slice(r),s[l]?s[l]+=a:s[++l]=a),s.length<2?u[0]?DT(u[0].x):PT(n):(n=u.length,function(f){for(var p=0,c;p<n;++p)s[(c=u[p]).i]=c.x(f);return s.join("")})}var Dh=180/Math.PI,Gu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mv(e,n,r,i,o,a){var l,s,u;return(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l),(u=e*r+n*i)&&(r-=e*u,i-=n*u),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,u/=s),e*i<n*r&&(e=-e,n=-n,u=-u,l=-l),{translateX:o,translateY:a,rotate:Math.atan2(n,e)*Dh,skewX:Math.atan(u)*Dh,scaleX:l,scaleY:s}}var da;function RT(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Gu:Mv(n.a,n.b,n.c,n.d,n.e,n.f)}function LT(e){return e==null||(da||(da=document.createElementNS("http://www.w3.org/2000/svg","g")),da.setAttribute("transform",e),!(e=da.transform.baseVal.consolidate()))?Gu:(e=e.matrix,Mv(e.a,e.b,e.c,e.d,e.e,e.f))}function Rv(e,n,r,i){function o(f){return f.length?f.pop()+" ":""}function a(f,p,c,d,g,b){if(f!==c||p!==d){var w=g.push("translate(",null,n,null,r);b.push({i:w-4,x:zn(f,c)},{i:w-2,x:zn(p,d)})}else(c||d)&&g.push("translate("+c+n+d+r)}function l(f,p,c,d){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:zn(f,p)})):p&&c.push(o(c)+"rotate("+p+i)}function s(f,p,c,d){f!==p?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:zn(f,p)}):p&&c.push(o(c)+"skewX("+p+i)}function u(f,p,c,d,g,b){if(f!==c||p!==d){var w=g.push(o(g)+"scale(",null,",",null,")");b.push({i:w-4,x:zn(f,c)},{i:w-2,x:zn(p,d)})}else(c!==1||d!==1)&&g.push(o(g)+"scale("+c+","+d+")")}return function(f,p){var c=[],d=[];return f=e(f),p=e(p),a(f.translateX,f.translateY,p.translateX,p.translateY,c,d),l(f.rotate,p.rotate,c,d),s(f.skewX,p.skewX,c,d),u(f.scaleX,f.scaleY,p.scaleX,p.scaleY,c,d),f=p=null,function(g){for(var b=-1,w=d.length,_;++b<w;)c[(_=d[b]).i]=_.x(g);return c.join("")}}}var $T=Rv(RT,"px, ","px)","deg)"),zT=Rv(LT,", ",")",")"),FT=1e-12;function Mh(e){return((e=Math.exp(e))+1/e)/2}function BT(e){return((e=Math.exp(e))-1/e)/2}function UT(e){return((e=Math.exp(2*e))-1)/(e+1)}const qT=function e(n,r,i){function o(a,l){var s=a[0],u=a[1],f=a[2],p=l[0],c=l[1],d=l[2],g=p-s,b=c-u,w=g*g+b*b,_,m;if(w<FT)m=Math.log(d/f)/n,_=function(j){return[s+j*g,u+j*b,f*Math.exp(n*j*m)]};else{var v=Math.sqrt(w),x=(d*d-f*f+i*w)/(2*f*r*v),y=(d*d-f*f-i*w)/(2*d*r*v),k=Math.log(Math.sqrt(x*x+1)-x),N=Math.log(Math.sqrt(y*y+1)-y);m=(N-k)/n,_=function(j){var E=j*m,C=Mh(k),S=f/(r*v)*(C*UT(n*E+k)-BT(k));return[s+S*g,u+S*b,f*C/Mh(n*E+k)]}}return _.duration=m*1e3*n/Math.SQRT2,_}return o.rho=function(a){var l=Math.max(.001,+a),s=l*l,u=s*s;return e(l,s,u)},o}(Math.SQRT2,2,4);var si=0,Hi=0,Ii=0,Lv=1e3,fl,Vi,dl=0,Er=0,Kl=0,Oo=typeof performance=="object"&&performance.now?performance:Date,$v=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yf(){return Er||($v(HT),Er=Oo.now()+Kl)}function HT(){Er=0}function hl(){this._call=this._time=this._next=null}hl.prototype=xf.prototype={constructor:hl,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?yf():+r)+(n==null?0:+n),!this._next&&Vi!==this&&(Vi?Vi._next=this:fl=this,Vi=this),this._call=e,this._time=r,Ku()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ku())}};function xf(e,n,r){var i=new hl;return i.restart(e,n,r),i}function VT(){yf(),++si;for(var e=fl,n;e;)(n=Er-e._time)>=0&&e._call.call(void 0,n),e=e._next;--si}function Rh(){Er=(dl=Oo.now())+Kl,si=Hi=0;try{VT()}finally{si=0,GT(),Er=0}}function WT(){var e=Oo.now(),n=e-dl;n>Lv&&(Kl-=n,dl=e)}function GT(){for(var e,n=fl,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:fl=r);Vi=e,Ku(i)}function Ku(e){if(!si){Hi&&(Hi=clearTimeout(Hi));var n=e-Er;n>24?(e<1/0&&(Hi=setTimeout(Rh,e-Oo.now()-Kl)),Ii&&(Ii=clearInterval(Ii))):(Ii||(dl=Oo.now(),Ii=setInterval(WT,Lv)),si=1,$v(Rh))}}function Lh(e,n,r){var i=new hl;return n=n==null?0:+n,i.restart(o=>{i.stop(),e(o+n)},n,r),i}var KT=Fo("start","end","cancel","interrupt"),YT=[],zv=0,$h=1,Yu=2,Oa=3,zh=4,Qu=5,Aa=6;function Yl(e,n,r,i,o,a){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;QT(e,r,{name:n,index:i,group:o,on:KT,tween:YT,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:zv})}function bf(e,n){var r=Xt(e,n);if(r.state>zv)throw new Error("too late; already scheduled");return r}function fn(e,n){var r=Xt(e,n);if(r.state>Oa)throw new Error("too late; already running");return r}function Xt(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function QT(e,n,r){var i=e.__transition,o;i[n]=r,r.timer=xf(a,0,r.time);function a(f){r.state=$h,r.timer.restart(l,r.delay,r.time),r.delay<=f&&l(f-r.delay)}function l(f){var p,c,d,g;if(r.state!==$h)return u();for(p in i)if(g=i[p],g.name===r.name){if(g.state===Oa)return Lh(l);g.state===zh?(g.state=Aa,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[p]):+p<n&&(g.state=Aa,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[p])}if(Lh(function(){r.state===Oa&&(r.state=zh,r.timer.restart(s,r.delay,r.time),s(f))}),r.state=Yu,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Yu){for(r.state=Oa,o=new Array(d=r.tween.length),p=0,c=-1;p<d;++p)(g=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(o[++c]=g);o.length=c+1}}function s(f){for(var p=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(u),r.state=Qu,1),c=-1,d=o.length;++c<d;)o[c].call(e,p);r.state===Qu&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Aa,r.timer.stop(),delete i[n];for(var f in i)return;delete e.__transition}}function Ca(e,n){var r=e.__transition,i,o,a=!0,l;if(r){n=n==null?null:n+"";for(l in r){if((i=r[l]).name!==n){a=!1;continue}o=i.state>Yu&&i.state<Qu,i.state=Aa,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[l]}a&&delete e.__transition}}function ZT(e){return this.each(function(){Ca(this,e)})}function XT(e,n){var r,i;return function(){var o=fn(this,e),a=o.tween;if(a!==r){i=r=a;for(var l=0,s=i.length;l<s;++l)if(i[l].name===n){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function JT(e,n,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=fn(this,e),l=a.tween;if(l!==i){o=(i=l).slice();for(var s={name:n,value:r},u=0,f=o.length;u<f;++u)if(o[u].name===n){o[u]=s;break}u===f&&o.push(s)}a.tween=o}}function eO(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=Xt(this.node(),r).tween,o=0,a=i.length,l;o<a;++o)if((l=i[o]).name===e)return l.value;return null}return this.each((n==null?XT:JT)(r,e,n))}function _f(e,n,r){var i=e._id;return e.each(function(){var o=fn(this,i);(o.value||(o.value={}))[n]=r.apply(this,arguments)}),function(o){return Xt(o,i).value[n]}}function Fv(e,n){var r;return(typeof n=="number"?zn:n instanceof To?Ph:(r=To(n))?(n=r,Ph):MT)(e,n)}function tO(e){return function(){this.removeAttribute(e)}}function nO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rO(e,n,r){var i,o=r+"",a;return function(){var l=this.getAttribute(e);return l===o?null:l===i?a:a=n(i=l,r)}}function iO(e,n,r){var i,o=r+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===i?a:a=n(i=l,r)}}function oO(e,n,r){var i,o,a;return function(){var l,s=r(this),u;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=s+"",l===u?null:l===i&&u===o?a:(o=u,a=n(i=l,s)))}}function aO(e,n,r){var i,o,a;return function(){var l,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=s+"",l===u?null:l===i&&u===o?a:(o=u,a=n(i=l,s)))}}function lO(e,n){var r=Gl(e),i=r==="transform"?zT:Fv;return this.attrTween(e,typeof n=="function"?(r.local?aO:oO)(r,i,_f(this,"attr."+e,n)):n==null?(r.local?nO:tO)(r):(r.local?iO:rO)(r,i,n))}function sO(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function uO(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function cO(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&uO(e,a)),r}return o._value=n,o}function fO(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&sO(e,a)),r}return o._value=n,o}function dO(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=Gl(e);return this.tween(r,(i.local?cO:fO)(i,n))}function hO(e,n){return function(){bf(this,e).delay=+n.apply(this,arguments)}}function pO(e,n){return n=+n,function(){bf(this,e).delay=n}}function gO(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?hO:pO)(n,e)):Xt(this.node(),n).delay}function mO(e,n){return function(){fn(this,e).duration=+n.apply(this,arguments)}}function vO(e,n){return n=+n,function(){fn(this,e).duration=n}}function yO(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?mO:vO)(n,e)):Xt(this.node(),n).duration}function xO(e,n){if(typeof n!="function")throw new Error;return function(){fn(this,e).ease=n}}function bO(e){var n=this._id;return arguments.length?this.each(xO(n,e)):Xt(this.node(),n).ease}function _O(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;fn(this,e).ease=r}}function wO(e){if(typeof e!="function")throw new Error;return this.each(_O(this._id,e))}function kO(e){typeof e!="function"&&(e=xv(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,s=i[o]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&s.push(u);return new On(i,this._parents,this._name,this._id)}function jO(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],p=u.length,c=l[s]=new Array(p),d,g=0;g<p;++g)(d=u[g]||f[g])&&(c[g]=d);for(;s<i;++s)l[s]=n[s];return new On(l,this._parents,this._name,this._id)}function NO(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function EO(e,n,r){var i,o,a=NO(n)?bf:fn;return function(){var l=a(this,e),s=l.on;s!==i&&(o=(i=s).copy()).on(n,r),l.on=o}}function SO(e,n){var r=this._id;return arguments.length<2?Xt(this.node(),r).on.on(e):this.each(EO(r,e,n))}function TO(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function OO(){return this.on("end.remove",TO(this._id))}function AO(e){var n=this._name,r=this._id;typeof e!="function"&&(e=gf(e));for(var i=this._groups,o=i.length,a=new Array(o),l=0;l<o;++l)for(var s=i[l],u=s.length,f=a[l]=new Array(u),p,c,d=0;d<u;++d)(p=s[d])&&(c=e.call(p,p.__data__,d,s))&&("__data__"in p&&(c.__data__=p.__data__),f[d]=c,Yl(f[d],n,r,d,f,Xt(p,r)));return new On(a,this._parents,n,r)}function CO(e){var n=this._name,r=this._id;typeof e!="function"&&(e=yv(e));for(var i=this._groups,o=i.length,a=[],l=[],s=0;s<o;++s)for(var u=i[s],f=u.length,p,c=0;c<f;++c)if(p=u[c]){for(var d=e.call(p,p.__data__,c,u),g,b=Xt(p,r),w=0,_=d.length;w<_;++w)(g=d[w])&&Yl(g,n,r,w,d,b);a.push(d),l.push(p)}return new On(a,l,n,r)}var IO=zo.prototype.constructor;function PO(){return new IO(this._groups,this._parents)}function DO(e,n){var r,i,o;return function(){var a=li(this,e),l=(this.style.removeProperty(e),li(this,e));return a===l?null:a===r&&l===i?o:o=n(r=a,i=l)}}function Bv(e){return function(){this.style.removeProperty(e)}}function MO(e,n,r){var i,o=r+"",a;return function(){var l=li(this,e);return l===o?null:l===i?a:a=n(i=l,r)}}function RO(e,n,r){var i,o,a;return function(){var l=li(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),li(this,e))),l===u?null:l===i&&u===o?a:(o=u,a=n(i=l,s))}}function LO(e,n){var r,i,o,a="style."+n,l="end."+a,s;return function(){var u=fn(this,e),f=u.on,p=u.value[a]==null?s||(s=Bv(n)):void 0;(f!==r||o!==p)&&(i=(r=f).copy()).on(l,o=p),u.on=i}}function $O(e,n,r){var i=(e+="")=="transform"?$T:Fv;return n==null?this.styleTween(e,DO(e,i)).on("end.style."+e,Bv(e)):typeof n=="function"?this.styleTween(e,RO(e,i,_f(this,"style."+e,n))).each(LO(this._id,e)):this.styleTween(e,MO(e,i,n),r).on("end.style."+e,null)}function zO(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function FO(e,n,r){var i,o;function a(){var l=n.apply(this,arguments);return l!==o&&(i=(o=l)&&zO(e,l,r)),i}return a._value=n,a}function BO(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,FO(e,n,r??""))}function UO(e){return function(){this.textContent=e}}function qO(e){return function(){var n=e(this);this.textContent=n??""}}function HO(e){return this.tween("text",typeof e=="function"?qO(_f(this,"text",e)):UO(e==null?"":e+""))}function VO(e){return function(n){this.textContent=e.call(this,n)}}function WO(e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&VO(o)),n}return i._value=e,i}function GO(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,WO(e))}function KO(){for(var e=this._name,n=this._id,r=Uv(),i=this._groups,o=i.length,a=0;a<o;++a)for(var l=i[a],s=l.length,u,f=0;f<s;++f)if(u=l[f]){var p=Xt(u,n);Yl(u,e,r,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new On(i,this._parents,e,r)}function YO(){var e,n,r=this,i=r._id,o=r.size();return new Promise(function(a,l){var s={value:l},u={value:function(){--o===0&&a()}};r.each(function(){var f=fn(this,i),p=f.on;p!==e&&(n=(e=p).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),f.on=n}),o===0&&a()})}var QO=0;function On(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function Uv(){return++QO}var dn=zo.prototype;On.prototype={constructor:On,select:AO,selectAll:CO,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:kO,merge:jO,selection:PO,transition:KO,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:SO,attr:lO,attrTween:dO,style:$O,styleTween:BO,text:HO,textTween:GO,remove:OO,tween:eO,delay:gO,duration:yO,ease:bO,easeVarying:wO,end:YO,[Symbol.iterator]:dn[Symbol.iterator]};function ZO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var XO={time:null,delay:0,duration:250,ease:ZO};function JO(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function e4(e){var n,r;e instanceof On?(n=e._id,e=e._name):(n=Uv(),(r=XO).time=yf(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var l=i[a],s=l.length,u,f=0;f<s;++f)(u=l[f])&&Yl(u,e,n,f,l,r||JO(u,n));return new On(i,this._parents,e,n)}zo.prototype.interrupt=ZT;zo.prototype.transition=e4;const ha=e=>()=>e;function t4(e,{sourceEvent:n,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function _n(e,n,r){this.k=e,this.x=n,this.y=r}_n.prototype={constructor:_n,scale:function(e){return e===1?this:new _n(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new _n(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wf=new _n(1,0,0);nn.prototype=_n.prototype;function nn(e){for(;!e.__zoom;)if(!(e=e.parentNode))return wf;return e.__zoom}function Rs(e){e.stopImmediatePropagation()}function Pi(e){e.preventDefault(),e.stopImmediatePropagation()}function n4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function r4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fh(){return this.__zoom||wf}function i4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function o4(){return navigator.maxTouchPoints||"ontouchstart"in this}function a4(e,n,r){var i=e.invertX(n[0][0])-r[0][0],o=e.invertX(n[1][0])-r[1][0],a=e.invertY(n[0][1])-r[0][1],l=e.invertY(n[1][1])-r[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function l4(){var e=n4,n=r4,r=a4,i=i4,o=o4,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,u=qT,f=Fo("start","zoom","end"),p,c,d,g=500,b=150,w=0,_=10;function m(A){A.property("__zoom",Fh).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",S).filter(o).on("touchstart.zoom",T).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(A,R,B,z){var H=A.selection?A.selection():A;H.property("__zoom",Fh),A!==H?k(A,R,B,z):H.interrupt().each(function(){N(this,arguments).event(z).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},m.scaleBy=function(A,R,B,z){m.scaleTo(A,function(){var H=this.__zoom.k,D=typeof R=="function"?R.apply(this,arguments):R;return H*D},B,z)},m.scaleTo=function(A,R,B,z){m.transform(A,function(){var H=n.apply(this,arguments),D=this.__zoom,M=B==null?y(H):typeof B=="function"?B.apply(this,arguments):B,I=D.invert(M),F=typeof R=="function"?R.apply(this,arguments):R;return r(x(v(D,F),M,I),H,l)},B,z)},m.translateBy=function(A,R,B,z){m.transform(A,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof B=="function"?B.apply(this,arguments):B),n.apply(this,arguments),l)},null,z)},m.translateTo=function(A,R,B,z,H){m.transform(A,function(){var D=n.apply(this,arguments),M=this.__zoom,I=z==null?y(D):typeof z=="function"?z.apply(this,arguments):z;return r(wf.translate(I[0],I[1]).scale(M.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof B=="function"?-B.apply(this,arguments):-B),D,l)},z,H)};function v(A,R){return R=Math.max(a[0],Math.min(a[1],R)),R===A.k?A:new _n(R,A.x,A.y)}function x(A,R,B){var z=R[0]-B[0]*A.k,H=R[1]-B[1]*A.k;return z===A.x&&H===A.y?A:new _n(A.k,z,H)}function y(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function k(A,R,B,z){A.on("start.zoom",function(){N(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(z).end()}).tween("zoom",function(){var H=this,D=arguments,M=N(H,D).event(z),I=n.apply(H,D),F=B==null?y(I):typeof B=="function"?B.apply(H,D):B,L=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),V=H.__zoom,U=typeof R=="function"?R.apply(H,D):R,$=u(V.invert(F).concat(L/V.k),U.invert(F).concat(L/U.k));return function(q){if(q===1)q=U;else{var K=$(q),Z=L/K[2];q=new _n(Z,F[0]-K[0]*Z,F[1]-K[1]*Z)}M.zoom(null,q)}})}function N(A,R,B){return!B&&A.__zooming||new j(A,R)}function j(A,R){this.that=A,this.args=R,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,R),this.taps=0}j.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,R){return this.mouse&&A!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var R=Pt(this.that).datum();f.call(A,this.that,new t4(A,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:f}),R)}};function E(A,...R){if(!e.apply(this,arguments))return;var B=N(this,R).event(A),z=this.__zoom,H=Math.max(a[0],Math.min(a[1],z.k*Math.pow(2,i.apply(this,arguments)))),D=rn(A);if(B.wheel)(B.mouse[0][0]!==D[0]||B.mouse[0][1]!==D[1])&&(B.mouse[1]=z.invert(B.mouse[0]=D)),clearTimeout(B.wheel);else{if(z.k===H)return;B.mouse=[D,z.invert(D)],Ca(this),B.start()}Pi(A),B.wheel=setTimeout(M,b),B.zoom("mouse",r(x(v(z,H),B.mouse[0],B.mouse[1]),B.extent,l));function M(){B.wheel=null,B.end()}}function C(A,...R){if(d||!e.apply(this,arguments))return;var B=A.currentTarget,z=N(this,R,!0).event(A),H=Pt(A.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",L,!0),D=rn(A,B),M=A.clientX,I=A.clientY;Ov(A.view),Rs(A),z.mouse=[D,this.__zoom.invert(D)],Ca(this),z.start();function F(V){if(Pi(V),!z.moved){var U=V.clientX-M,$=V.clientY-I;z.moved=U*U+$*$>w}z.event(V).zoom("mouse",r(x(z.that.__zoom,z.mouse[0]=rn(V,B),z.mouse[1]),z.extent,l))}function L(V){H.on("mousemove.zoom mouseup.zoom",null),Av(V.view,z.moved),Pi(V),z.event(V).end()}}function S(A,...R){if(e.apply(this,arguments)){var B=this.__zoom,z=rn(A.changedTouches?A.changedTouches[0]:A,this),H=B.invert(z),D=B.k*(A.shiftKey?.5:2),M=r(x(v(B,D),z,H),n.apply(this,R),l);Pi(A),s>0?Pt(this).transition().duration(s).call(k,M,z,A):Pt(this).call(m.transform,M,z,A)}}function T(A,...R){if(e.apply(this,arguments)){var B=A.touches,z=B.length,H=N(this,R,A.changedTouches.length===z).event(A),D,M,I,F;for(Rs(A),M=0;M<z;++M)I=B[M],F=rn(I,this),F=[F,this.__zoom.invert(F),I.identifier],H.touch0?!H.touch1&&H.touch0[2]!==F[2]&&(H.touch1=F,H.taps=0):(H.touch0=F,D=!0,H.taps=1+!!p);p&&(p=clearTimeout(p)),D&&(H.taps<2&&(c=F[0],p=setTimeout(function(){p=null},g)),Ca(this),H.start())}}function O(A,...R){if(this.__zooming){var B=N(this,R).event(A),z=A.changedTouches,H=z.length,D,M,I,F;for(Pi(A),D=0;D<H;++D)M=z[D],I=rn(M,this),B.touch0&&B.touch0[2]===M.identifier?B.touch0[0]=I:B.touch1&&B.touch1[2]===M.identifier&&(B.touch1[0]=I);if(M=B.that.__zoom,B.touch1){var L=B.touch0[0],V=B.touch0[1],U=B.touch1[0],$=B.touch1[1],q=(q=U[0]-L[0])*q+(q=U[1]-L[1])*q,K=(K=$[0]-V[0])*K+(K=$[1]-V[1])*K;M=v(M,Math.sqrt(q/K)),I=[(L[0]+U[0])/2,(L[1]+U[1])/2],F=[(V[0]+$[0])/2,(V[1]+$[1])/2]}else if(B.touch0)I=B.touch0[0],F=B.touch0[1];else return;B.zoom("touch",r(x(M,I,F),B.extent,l))}}function P(A,...R){if(this.__zooming){var B=N(this,R).event(A),z=A.changedTouches,H=z.length,D,M;for(Rs(A),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),D=0;D<H;++D)M=z[D],B.touch0&&B.touch0[2]===M.identifier?delete B.touch0:B.touch1&&B.touch1[2]===M.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(M=rn(M,this),Math.hypot(c[0]-M[0],c[1]-M[1])<_)){var I=Pt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return m.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:ha(+A),m):i},m.filter=function(A){return arguments.length?(e=typeof A=="function"?A:ha(!!A),m):e},m.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:ha(!!A),m):o},m.extent=function(A){return arguments.length?(n=typeof A=="function"?A:ha([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),m):n},m.scaleExtent=function(A){return arguments.length?(a[0]=+A[0],a[1]=+A[1],m):[a[0],a[1]]},m.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(A){return arguments.length?(r=A,m):r},m.duration=function(A){return arguments.length?(s=+A,m):s},m.interpolate=function(A){return arguments.length?(u=A,m):u},m.on=function(){var A=f.on.apply(f,arguments);return A===f?m:A},m.clickDistance=function(A){return arguments.length?(w=(A=+A)*A,m):Math.sqrt(w)},m.tapDistance=function(A){return arguments.length?(_=+A,m):_},m}class Bh extends Map{constructor(n,r=c4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[i,o]of n)this.set(i,o)}get(n){return super.get(Uh(this,n))}has(n){return super.has(Uh(this,n))}set(n,r){return super.set(s4(this,n),r)}delete(n){return super.delete(u4(this,n))}}function Uh({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):r}function s4({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function u4({_intern:e,_key:n},r){const i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function c4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qh(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function Hh(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function f4(e,n){let r=0;for(let i of e)(i=+i)&&(r+=i);return r}var d4=typeof global=="object"&&global&&global.Object===Object&&global,h4=typeof self=="object"&&self&&self.Object===Object&&self,qv=d4||h4||Function("return this")(),pl=qv.Symbol,Hv=Object.prototype,p4=Hv.hasOwnProperty,g4=Hv.toString,Di=pl?pl.toStringTag:void 0;function m4(e){var n=p4.call(e,Di),r=e[Di];try{e[Di]=void 0;var i=!0}catch{}var o=g4.call(e);return i&&(n?e[Di]=r:delete e[Di]),o}var v4=Object.prototype,y4=v4.toString;function x4(e){return y4.call(e)}var b4="[object Null]",_4="[object Undefined]",Vh=pl?pl.toStringTag:void 0;function w4(e){return e==null?e===void 0?_4:b4:Vh&&Vh in Object(e)?m4(e):x4(e)}function k4(e){return e!=null&&typeof e=="object"}var j4="[object Symbol]";function N4(e){return typeof e=="symbol"||k4(e)&&w4(e)==j4}var E4=/\s/;function S4(e){for(var n=e.length;n--&&E4.test(e.charAt(n)););return n}var T4=/^\s+/;function O4(e){return e&&e.slice(0,S4(e)+1).replace(T4,"")}function gl(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Wh=NaN,A4=/^[-+]0x[0-9a-f]+$/i,C4=/^0b[01]+$/i,I4=/^0o[0-7]+$/i,P4=parseInt;function Gh(e){if(typeof e=="number")return e;if(N4(e))return Wh;if(gl(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=gl(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=O4(e);var r=C4.test(e);return r||I4.test(e)?P4(e.slice(2),r?2:8):A4.test(e)?Wh:+e}var Ls=function(){return qv.Date.now()},D4="Expected a function",M4=Math.max,R4=Math.min;function Vv(e,n,r){var i,o,a,l,s,u,f=0,p=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError(D4);n=Gh(n)||0,gl(r)&&(p=!!r.leading,c="maxWait"in r,a=c?M4(Gh(r.maxWait)||0,n):a,d="trailing"in r?!!r.trailing:d);function g(N){var j=i,E=o;return i=o=void 0,f=N,l=e.apply(E,j),l}function b(N){return f=N,s=setTimeout(m,n),p?g(N):l}function w(N){var j=N-u,E=N-f,C=n-j;return c?R4(C,a-E):C}function _(N){var j=N-u,E=N-f;return u===void 0||j>=n||j<0||c&&E>=a}function m(){var N=Ls();if(_(N))return v(N);s=setTimeout(m,w(N))}function v(N){return s=void 0,d&&i?g(N):(i=o=void 0,l)}function x(){s!==void 0&&clearTimeout(s),f=0,i=u=o=s=void 0}function y(){return s===void 0?l:v(Ls())}function k(){var N=Ls(),j=_(N);if(i=arguments,o=this,u=N,j){if(s===void 0)return b(u);if(c)return clearTimeout(s),s=setTimeout(m,n),g(u)}return s===void 0&&(s=setTimeout(m,n)),l}return k.cancel=x,k.flush=y,k}var L4="Expected a function";function $4(e,n,r){var i=!0,o=!0;if(typeof e!="function")throw new TypeError(L4);return gl(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Vv(e,n,{leading:i,maxWait:n,trailing:o})}var xr=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-xr.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?xr.Bounce.In(e*2)*.5:xr.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),Wi=function(){return performance.now()},Wv=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var l=a[o];(n=l._group)===null||n===void 0||n.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=Wi()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],l=!r;a&&a.update(n,l)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},e}(),Zu={Linear:function(e,n){var r=e.length-1,i=r*n,o=Math.floor(i),a=Zu.Utils.Linear;return n<0?a(e[0],e[1],i):n>1?a(e[r],e[r-1],r-i):a(e[o],e[o+1>r?r:o+1],i-o)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},Gv=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Xu=new Wv,Kh=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=xr.Linear.None,this._interpolationFunction=Zu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Gv.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Xu,Xu.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=Wi()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var a in this._valuesEnd)o[a]=this._valuesEnd[a];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,i,o,a){for(var l in i){var s=n[l],u=Array.isArray(s),f=u?"array":typeof s,p=!u&&Array.isArray(i[l]);if(!(f==="undefined"||f==="function")){if(p){var c=i[l];if(c.length===0)continue;for(var d=[s],g=0,b=c.length;g<b;g+=1){var w=this._handleRelativeValue(s,c[g]);if(isNaN(w)){p=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(w)}p&&(i[l]=d)}if((f==="object"||u)&&s&&!p){r[l]=u?[]:{};var _=s;for(var m in _)r[l][m]=_[m];o[l]=u?[]:{};var c=i[l];if(!this._isDynamic){var v={};for(var m in c)v[m]=c[m];i[l]=c=v}this._setupProperties(_,r[l],c,o[l],a)}else(typeof r[l]>"u"||a)&&(r[l]=s),u||(r[l]*=1),p?o[l]=i[l].slice().reverse():o[l]=r[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=Wi()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=Wi()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=xr.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=Zu.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var i=this,o;if(n===void 0&&(n=Wi()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=n-this._startTime,s=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),u=this._duration+this._repeat*s,f=function(){if(i._duration===0||l>u)return 1;var w=Math.trunc(l/s),_=l-w*s,m=Math.min(_/i._duration,1);return m===0&&l===i._duration?1:m},p=f(),c=this._easingFunction(p);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,c),this._onUpdateCallback&&this._onUpdateCallback(this._object,p),this._duration===0||l>=this._duration)if(this._repeat>0){var d=Math.min(Math.trunc((l-this._duration)/s)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=d);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*d,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var g=0,b=this._chainedTweens.length;g<b;g++)this._chainedTweens[g].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,o){for(var a in i)if(r[a]!==void 0){var l=r[a]||0,s=i[a],u=Array.isArray(n[a]),f=Array.isArray(s),p=!u&&f;p?n[a]=this._interpolationFunction(s,o):typeof s=="object"&&s?this._updateProperties(n[a],l,s,o):(s=this._handleRelativeValue(l,s),typeof s=="number"&&(n[a]=l+(s-l)*o))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}();Gv.nextId;var cn=Xu;cn.getAll.bind(cn);cn.removeAll.bind(cn);cn.add.bind(cn);cn.remove.bind(cn);cn.update.bind(cn);function Yh(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function z4(e){if(Array.isArray(e))return e}function F4(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function B4(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function U4(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function q4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H4(e,n){return z4(e)||U4(e,n)||V4(e,n)||q4()}function V4(e,n){if(e){if(typeof e=="string")return Yh(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yh(e,n):void 0}}var W4=B4(function e(n,r){var i=r.default,o=i===void 0?null:i,a=r.triggerUpdate,l=a===void 0?!0:a,s=r.onChange,u=s===void 0?function(f,p){}:s;F4(this,e),this.name=n,this.defaultVal=o,this.triggerUpdate=l,this.onChange=u});function kf(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,o=i===void 0?{}:i,a=e.methods,l=a===void 0?{}:a,s=e.aliases,u=s===void 0?{}:s,f=e.init,p=f===void 0?function(){}:f,c=e.update,d=c===void 0?function(){}:c,g=Object.keys(o).map(function(b){return new W4(b,o[b])});return function b(){for(var w=arguments.length,_=new Array(w),m=0;m<w;m++)_[m]=arguments[m];var v=!!(this instanceof b&&this.constructor),x=v?_.shift():void 0,y=_[0],k=y===void 0?{}:y,N=Object.assign({},r instanceof Function?r(k):r,{initialised:!1}),j={};function E(T){return C(T,k),S(),E}var C=function(O,P){p.call(E,O,N,P),N.initialised=!0},S=Vv(function(){N.initialised&&(d.call(E,N,j),j={})},1);return g.forEach(function(T){E[T.name]=O(T);function O(P){var A=P.name,R=P.triggerUpdate,B=R===void 0?!1:R,z=P.onChange,H=z===void 0?function(I,F){}:z,D=P.defaultVal,M=D===void 0?null:D;return function(I){var F=N[A];if(!arguments.length)return F;var L=I===void 0?M:I;return N[A]=L,H.call(E,L,N,F),!j.hasOwnProperty(A)&&(j[A]=F),B&&S(),E}}}),Object.keys(l).forEach(function(T){E[T]=function(){for(var O,P=arguments.length,A=new Array(P),R=0;R<P;R++)A[R]=arguments[R];return(O=l[T]).call.apply(O,[E,N].concat(A))}}),Object.entries(u).forEach(function(T){var O=H4(T,2),P=O[0],A=O[1];return E[P]=E[A]}),E.resetProps=function(){return g.forEach(function(T){E[T.name](T.defaultVal)}),E},E.resetProps(),N._rerender=S,v&&x&&E(x),E}}var _e=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ml(e)}var G4=/^\s+/,K4=/\s+$/;function ue(e,n){if(e=e||"",n=n||{},e instanceof ue)return e;if(!(this instanceof ue))return new ue(e,n);var r=Y4(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,o,a,l,s;return r=n.r/255,i=n.g/255,o=n.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*l+.0722*s},setAlpha:function(n){return this._a=Kv(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=Zh(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=Zh(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var n=Qh(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=Qh(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(n){return Xh(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return J4(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ae(this._r,255)*100)+"%",g:Math.round(Ae(this._g,255)*100)+"%",b:Math.round(Ae(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ae(this._r,255)*100)+"%, "+Math.round(Ae(this._g,255)*100)+"%, "+Math.round(Ae(this._b,255)*100)+"%)":"rgba("+Math.round(Ae(this._r,255)*100)+"%, "+Math.round(Ae(this._g,255)*100)+"%, "+Math.round(Ae(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:f3[Xh(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+Jh(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(n){var a=ue(n);i="#"+Jh(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!r&&o&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return a?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ue(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(r3,arguments)},brighten:function(){return this._applyModification(i3,arguments)},darken:function(){return this._applyModification(o3,arguments)},desaturate:function(){return this._applyModification(e3,arguments)},saturate:function(){return this._applyModification(t3,arguments)},greyscale:function(){return this._applyModification(n3,arguments)},spin:function(){return this._applyModification(a3,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(u3,arguments)},complement:function(){return this._applyCombination(l3,arguments)},monochromatic:function(){return this._applyCombination(c3,arguments)},splitcomplement:function(){return this._applyCombination(s3,arguments)},triad:function(){return this._applyCombination(ep,[3])},tetrad:function(){return this._applyCombination(ep,[4])}};ue.fromRatio=function(e,n){if(ml(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=Gi(e[i]));e=r}return ue(e,n)};function Y4(e){var n={r:0,g:0,b:0},r=1,i=null,o=null,a=null,l=!1,s=!1;return typeof e=="string"&&(e=g3(e)),ml(e)=="object"&&(hn(e.r)&&hn(e.g)&&hn(e.b)?(n=Q4(e.r,e.g,e.b),l=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):hn(e.h)&&hn(e.s)&&hn(e.v)?(i=Gi(e.s),o=Gi(e.v),n=X4(e.h,i,o),l=!0,s="hsv"):hn(e.h)&&hn(e.s)&&hn(e.l)&&(i=Gi(e.s),a=Gi(e.l),n=Z4(e.h,i,a),l=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Kv(r),{ok:l,format:e.format||s,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function Q4(e,n,r){return{r:Ae(e,255)*255,g:Ae(n,255)*255,b:Ae(r,255)*255}}function Qh(e,n,r){e=Ae(e,255),n=Ae(n,255),r=Ae(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,l,s=(i+o)/2;if(i==o)a=l=0;else{var u=i-o;switch(l=s>.5?u/(2-i-o):u/(i+o),i){case e:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-e)/u+2;break;case r:a=(e-n)/u+4;break}a/=6}return{h:a,s:l,l:s}}function Z4(e,n,r){var i,o,a;e=Ae(e,360),n=Ae(n,100),r=Ae(r,100);function l(f,p,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?f+(p-f)*6*c:c<1/2?p:c<2/3?f+(p-f)*(2/3-c)*6:f}if(n===0)i=o=a=r;else{var s=r<.5?r*(1+n):r+n-r*n,u=2*r-s;i=l(u,s,e+1/3),o=l(u,s,e),a=l(u,s,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function Zh(e,n,r){e=Ae(e,255),n=Ae(n,255),r=Ae(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,l,s=i,u=i-o;if(l=i===0?0:u/i,i==o)a=0;else{switch(i){case e:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-e)/u+2;break;case r:a=(e-n)/u+4;break}a/=6}return{h:a,s:l,v:s}}function X4(e,n,r){e=Ae(e,360)*6,n=Ae(n,100),r=Ae(r,100);var i=Math.floor(e),o=e-i,a=r*(1-n),l=r*(1-o*n),s=r*(1-(1-o)*n),u=i%6,f=[r,l,a,a,s,r][u],p=[s,r,r,l,a,a][u],c=[a,a,s,r,r,l][u];return{r:f*255,g:p*255,b:c*255}}function Xh(e,n,r,i){var o=[Gt(Math.round(e).toString(16)),Gt(Math.round(n).toString(16)),Gt(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function J4(e,n,r,i,o){var a=[Gt(Math.round(e).toString(16)),Gt(Math.round(n).toString(16)),Gt(Math.round(r).toString(16)),Gt(Yv(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Jh(e,n,r,i){var o=[Gt(Yv(i)),Gt(Math.round(e).toString(16)),Gt(Math.round(n).toString(16)),Gt(Math.round(r).toString(16))];return o.join("")}ue.equals=function(e,n){return!e||!n?!1:ue(e).toRgbString()==ue(n).toRgbString()};ue.random=function(){return ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function e3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.s-=n/100,r.s=Ql(r.s),ue(r)}function t3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.s+=n/100,r.s=Ql(r.s),ue(r)}function n3(e){return ue(e).desaturate(100)}function r3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.l+=n/100,r.l=Ql(r.l),ue(r)}function i3(e,n){n=n===0?0:n||10;var r=ue(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),ue(r)}function o3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.l-=n/100,r.l=Ql(r.l),ue(r)}function a3(e,n){var r=ue(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,ue(r)}function l3(e){var n=ue(e).toHsl();return n.h=(n.h+180)%360,ue(n)}function ep(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ue(e).toHsl(),i=[ue(e)],o=360/n,a=1;a<n;a++)i.push(ue({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function s3(e){var n=ue(e).toHsl(),r=n.h;return[ue(e),ue({h:(r+72)%360,s:n.s,l:n.l}),ue({h:(r+216)%360,s:n.s,l:n.l})]}function u3(e,n,r){n=n||6,r=r||30;var i=ue(e).toHsl(),o=360/r,a=[ue(e)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,a.push(ue(i));return a}function c3(e,n){n=n||6;for(var r=ue(e).toHsv(),i=r.h,o=r.s,a=r.v,l=[],s=1/n;n--;)l.push(ue({h:i,s:o,v:a})),a=(a+s)%1;return l}ue.mix=function(e,n,r){r=r===0?0:r||50;var i=ue(e).toRgb(),o=ue(n).toRgb(),a=r/100,l={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return ue(l)};ue.readability=function(e,n){var r=ue(e),i=ue(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};ue.isReadable=function(e,n,r){var i=ue.readability(e,n),o,a;switch(a=!1,o=m3(r),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};ue.mostReadable=function(e,n,r){var i=null,o=0,a,l,s,u;r=r||{},l=r.includeFallbackColors,s=r.level,u=r.size;for(var f=0;f<n.length;f++)a=ue.readability(e,n[f]),a>o&&(o=a,i=ue(n[f]));return ue.isReadable(e,i,{level:s,size:u})||!l?i:(r.includeFallbackColors=!1,ue.mostReadable(e,["#fff","#000"],r))};var Ju=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},f3=ue.hexNames=d3(Ju);function d3(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function Kv(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ae(e,n){h3(e)&&(e="100%");var r=p3(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Ql(e){return Math.min(1,Math.max(0,e))}function xt(e){return parseInt(e,16)}function h3(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function p3(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Gt(e){return e.length==1?"0"+e:""+e}function Gi(e){return e<=1&&(e=e*100+"%"),e}function Yv(e){return Math.round(parseFloat(e)*255).toString(16)}function tp(e){return xt(e)/255}var Ut=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function hn(e){return!!Ut.CSS_UNIT.exec(e)}function g3(e){e=e.replace(G4,"").replace(K4,"").toLowerCase();var n=!1;if(Ju[e])e=Ju[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Ut.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Ut.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ut.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Ut.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ut.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Ut.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ut.hex8.exec(e))?{r:xt(r[1]),g:xt(r[2]),b:xt(r[3]),a:tp(r[4]),format:n?"name":"hex8"}:(r=Ut.hex6.exec(e))?{r:xt(r[1]),g:xt(r[2]),b:xt(r[3]),format:n?"name":"hex"}:(r=Ut.hex4.exec(e))?{r:xt(r[1]+""+r[1]),g:xt(r[2]+""+r[2]),b:xt(r[3]+""+r[3]),a:tp(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Ut.hex3.exec(e))?{r:xt(r[1]+""+r[1]),g:xt(r[2]+""+r[2]),b:xt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function m3(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function ec(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function v3(e){if(Array.isArray(e))return ec(e)}function Qv(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function y3(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x3(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Tt(e,n){return e.get(Qv(e,n))}function np(e,n,r){y3(e,n),n.set(e,r)}function rp(e,n,r){return e.set(Qv(e,n),r),r}function b3(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,E3(i.key),i)}}function _3(e,n,r){return n&&b3(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3(e){return v3(e)||w3(e)||S3(e)||k3()}function N3(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E3(e){var n=N3(e,"string");return typeof n=="symbol"?n:n+""}function S3(e,n){if(e){if(typeof e=="string")return ec(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ec(e,n):void 0}}var T3=123,O3=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Zv=function(n,r,i){return(n<<16)+(r<<8)+i},A3=function(n){var r=ue(n).toRgb(),i=r.r,o=r.g,a=r.b;return Zv(i,o,a)},ip=function(n,r){return n*T3%Math.pow(2,r)},ar=new WeakMap,pn=new WeakMap,C3=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;x3(this,e),np(this,ar,void 0),np(this,pn,void 0),rp(pn,this,n),this.reset()}return _3(e,[{key:"reset",value:function(){rp(ar,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Tt(ar,this).length>=Math.pow(2,24-Tt(pn,this)))return null;var i=Tt(ar,this).length,o=ip(i,Tt(pn,this)),a=O3(i+(o<<24-Tt(pn,this)));return Tt(ar,this).push(r),a}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?A3(r):Zv.apply(void 0,j3(r));if(!i)return null;var o=i&Math.pow(2,24-Tt(pn,this))-1,a=i>>24-Tt(pn,this)&Math.pow(2,Tt(pn,this))-1;return ip(o,Tt(pn,this))!==a||o>=Tt(ar,this).length?null:Tt(ar,this)[o]}}])}(),Uo,Ie,Xv,Jv,cr,op,ey,ty,ny,jf,tc,nc,Ao={},ry=[],I3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Zl=Array.isArray;function an(e,n){for(var r in n)e[r]=n[r];return e}function Nf(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function P3(e,n,r){var i,o,a,l={};for(a in n)a=="key"?i=n[a]:a=="ref"?o=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?Uo.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)l[a]===void 0&&(l[a]=e.defaultProps[a]);return ro(e,l,i,o,null)}function ro(e,n,r,i,o){var a={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Xv,__i:-1,__u:0};return o==null&&Ie.vnode!=null&&Ie.vnode(a),a}function Xl(e){return e.children}function Ia(e,n){this.props=e,this.context=n}function ui(e,n){if(n==null)return e.__?ui(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?ui(e):null}function iy(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return iy(e)}}function ap(e){(!e.__d&&(e.__d=!0)&&cr.push(e)&&!vl.__r++||op!=Ie.debounceRendering)&&((op=Ie.debounceRendering)||ey)(vl)}function vl(){for(var e,n,r,i,o,a,l,s=1;cr.length;)cr.length>s&&cr.sort(ty),e=cr.shift(),s=cr.length,e.__d&&(r=void 0,i=void 0,o=(i=(n=e).__v).__e,a=[],l=[],n.__P&&((r=an({},i)).__v=i.__v+1,Ie.vnode&&Ie.vnode(r),Ef(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??ui(i),!!(32&i.__u),l),r.__v=i.__v,r.__.__k[r.__i]=r,ly(a,r,l),i.__e=i.__=null,r.__e!=o&&iy(r)));vl.__r=0}function oy(e,n,r,i,o,a,l,s,u,f,p){var c,d,g,b,w,_,m,v=i&&i.__k||ry,x=n.length;for(u=D3(r,n,v,u,x),c=0;c<x;c++)(g=r.__k[c])!=null&&(d=g.__i==-1?Ao:v[g.__i]||Ao,g.__i=c,_=Ef(e,g,d,o,a,l,s,u,f,p),b=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&Sf(d.ref,null,g),p.push(g.ref,g.__c||b,g)),w==null&&b!=null&&(w=b),(m=!!(4&g.__u))||d.__k===g.__k?u=ay(g,u,e,m):typeof g.type=="function"&&_!==void 0?u=_:b&&(u=b.nextSibling),g.__u&=-7);return r.__e=w,u}function D3(e,n,r,i,o){var a,l,s,u,f,p=r.length,c=p,d=0;for(e.__k=new Array(o),a=0;a<o;a++)(l=n[a])!=null&&typeof l!="boolean"&&typeof l!="function"?(u=a+d,(l=e.__k[a]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?ro(null,l,null,null,null):Zl(l)?ro(Xl,{children:l},null,null,null):l.constructor==null&&l.__b>0?ro(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,s=null,(f=l.__i=M3(l,r,u,c))!=-1&&(c--,(s=r[f])&&(s.__u|=2)),s==null||s.__v==null?(f==-1&&(o>p?d--:o<p&&d++),typeof l.type!="function"&&(l.__u|=4)):f!=u&&(f==u-1?d--:f==u+1?d++:(f>u?d--:d++,l.__u|=4))):e.__k[a]=null;if(c)for(a=0;a<p;a++)(s=r[a])!=null&&!(2&s.__u)&&(s.__e==i&&(i=ui(s)),uy(s,s));return i}function ay(e,n,r,i){var o,a;if(typeof e.type=="function"){for(o=e.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=e,n=ay(o[a],n,r,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=ui(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function M3(e,n,r,i){var o,a,l,s=e.key,u=e.type,f=n[r],p=f!=null&&(2&f.__u)==0;if(f===null&&e.key==null||p&&s==f.key&&u==f.type)return r;if(i>(p?1:0)){for(o=r-1,a=r+1;o>=0||a<n.length;)if((f=n[l=o>=0?o--:a++])!=null&&!(2&f.__u)&&s==f.key&&u==f.type)return l}return-1}function lp(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||I3.test(n)?r:r+"px"}function pa(e,n,r,i,o){var a,l;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)r&&n in r||lp(e.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||lp(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(ny,"$1")),l=n.toLowerCase(),n=l in e||n=="onFocusOut"||n=="onFocusIn"?l.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+a]=r,r?i?r.u=i.u:(r.u=jf,e.addEventListener(n,a?nc:tc,a)):e.removeEventListener(n,a?nc:tc,a);else{if(o=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function sp(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=jf++;else if(n.t<r.u)return;return r(Ie.event?Ie.event(n):n)}}}function Ef(e,n,r,i,o,a,l,s,u,f){var p,c,d,g,b,w,_,m,v,x,y,k,N,j,E,C,S,T=n.type;if(n.constructor!=null)return null;128&r.__u&&(u=!!(32&r.__u),a=[s=n.__e=r.__e]),(p=Ie.__b)&&p(n);e:if(typeof T=="function")try{if(m=n.props,v="prototype"in T&&T.prototype.render,x=(p=T.contextType)&&i[p.__c],y=p?x?x.props.value:p.__:i,r.__c?_=(c=n.__c=r.__c).__=c.__E:(v?n.__c=c=new T(m,y):(n.__c=c=new Ia(m,y),c.constructor=T,c.render=L3),x&&x.sub(c),c.props=m,c.state||(c.state={}),c.context=y,c.__n=i,d=c.__d=!0,c.__h=[],c._sb=[]),v&&c.__s==null&&(c.__s=c.state),v&&T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=an({},c.__s)),an(c.__s,T.getDerivedStateFromProps(m,c.__s))),g=c.props,b=c.state,c.__v=n,d)v&&T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),v&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(v&&T.getDerivedStateFromProps==null&&m!==g&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,y),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,y)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(c.props=m,c.state=c.__s,c.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(O){O&&(O.__=n)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&l.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,y),v&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(g,b,w)})}if(c.context=y,c.props=m,c.__P=e,c.__e=!1,N=Ie.__r,j=0,v){for(c.state=c.__s,c.__d=!1,N&&N(n),p=c.render(c.props,c.state,c.context),E=0;E<c._sb.length;E++)c.__h.push(c._sb[E]);c._sb=[]}else do c.__d=!1,N&&N(n),p=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++j<25);c.state=c.__s,c.getChildContext!=null&&(i=an(an({},i),c.getChildContext())),v&&!d&&c.getSnapshotBeforeUpdate!=null&&(w=c.getSnapshotBeforeUpdate(g,b)),C=p,p!=null&&p.type===Xl&&p.key==null&&(C=sy(p.props.children)),s=oy(e,Zl(C)?C:[C],n,r,i,o,a,l,s,u,f),c.base=n.__e,n.__u&=-161,c.__h.length&&l.push(c),_&&(c.__E=c.__=null)}catch(O){if(n.__v=null,u||a!=null)if(O.then){for(n.__u|=u?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,n.__e=s}else{for(S=a.length;S--;)Nf(a[S]);rc(n)}else n.__e=r.__e,n.__k=r.__k,O.then||rc(n);Ie.__e(O,n,r)}else a==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):s=n.__e=R3(r.__e,n,r,i,o,a,l,u,f);return(p=Ie.diffed)&&p(n),128&n.__u?void 0:s}function rc(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(rc)}function ly(e,n,r){for(var i=0;i<r.length;i++)Sf(r[i],r[++i],r[++i]);Ie.__c&&Ie.__c(n,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){Ie.__e(a,o.__v)}})}function sy(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Zl(e)?e.map(sy):an({},e)}function R3(e,n,r,i,o,a,l,s,u){var f,p,c,d,g,b,w,_=r.props,m=n.props,v=n.type;if(v=="svg"?o="http://www.w3.org/2000/svg":v=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(f=0;f<a.length;f++)if((g=a[f])&&"setAttribute"in g==!!v&&(v?g.localName==v:g.nodeType==3)){e=g,a[f]=null;break}}if(e==null){if(v==null)return document.createTextNode(m);e=document.createElementNS(o,v,m.is&&m),s&&(Ie.__m&&Ie.__m(n,a),s=!1),a=null}if(v==null)_===m||s&&e.data==m||(e.data=m);else{if(a=a&&Uo.call(e.childNodes),_=r.props||Ao,!s&&a!=null)for(_={},f=0;f<e.attributes.length;f++)_[(g=e.attributes[f]).name]=g.value;for(f in _)if(g=_[f],f!="children"){if(f=="dangerouslySetInnerHTML")c=g;else if(!(f in m)){if(f=="value"&&"defaultValue"in m||f=="checked"&&"defaultChecked"in m)continue;pa(e,f,null,g,o)}}for(f in m)g=m[f],f=="children"?d=g:f=="dangerouslySetInnerHTML"?p=g:f=="value"?b=g:f=="checked"?w=g:s&&typeof g!="function"||_[f]===g||pa(e,f,g,_[f],o);if(p)s||c&&(p.__html==c.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),n.__k=[];else if(c&&(e.innerHTML=""),oy(n.type=="template"?e.content:e,Zl(d)?d:[d],n,r,i,v=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,l,a?a[0]:r.__k&&ui(r,0),s,u),a!=null)for(f=a.length;f--;)Nf(a[f]);s||(f="value",v=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[f]||v=="progress"&&!b||v=="option"&&b!=_[f])&&pa(e,f,b,_[f],o),f="checked",w!=null&&w!=e[f]&&pa(e,f,w,_[f],o))}return e}function Sf(e,n,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(o){Ie.__e(o,r)}}function uy(e,n,r){var i,o;if(Ie.unmount&&Ie.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Sf(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){Ie.__e(a,n)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&uy(i[o],n,r||typeof e.type!="function");r||Nf(e.__e),e.__c=e.__=e.__e=void 0}function L3(e,n,r){return this.constructor(e,r)}function $3(e,n,r){var i,o,a,l;n==document&&(n=document.documentElement),Ie.__&&Ie.__(e,n),o=(i=!1)?null:n.__k,a=[],l=[],Ef(n,e=n.__k=P3(Xl,null,[e]),o||Ao,Ao,n.namespaceURI,o?null:n.firstChild?Uo.call(n.childNodes):null,a,o?o.__e:n.firstChild,i,l),ly(a,e,l)}function cy(e,n,r){var i,o,a,l,s=an({},e.props);for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),n)a=="key"?i=n[a]:a=="ref"?o=n[a]:s[a]=n[a]===void 0&&l!=null?l[a]:n[a];return arguments.length>2&&(s.children=arguments.length>3?Uo.call(arguments,2):r),ro(e.type,s,i||e.key,o||e.ref,null)}Uo=ry.slice,Ie={__e:function(e,n,r,i){for(var o,a,l;n=n.__;)if((o=n.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),l=o.__d),l)return o.__E=o}catch(s){e=s}throw e}},Xv=0,Jv=function(e){return e!=null&&e.constructor==null},Ia.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=an({},this.state),typeof e=="function"&&(e=e(an({},r),this.props)),e&&an(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),ap(this))},Ia.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ap(this))},Ia.prototype.render=Xl,cr=[],ey=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ty=function(e,n){return e.__v.__b-n.__v.__b},vl.__r=0,ny=/(PointerCapture)$|Capture$/i,jf=0,tc=sp(!1),nc=sp(!0);function up(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function z3(e){if(Array.isArray(e))return e}function F3(e,n,r){return(n=W3(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function B3(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function U3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cp(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function q3(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?cp(Object(r),!0).forEach(function(i){F3(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function H3(e,n){return z3(e)||B3(e,n)||G3(e,n)||U3()}function V3(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function W3(e){var n=V3(e,"string");return typeof n=="symbol"?n:n+""}function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yl(e)}function G3(e,n){if(e){if(typeof e=="string")return up(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?up(e,n):void 0}}var ic=function(n){if(yl(n)!=="object")return n;var r=cy(n);if(r.props){var i;r.props=q3({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(ic):ic(r.props.children))}return r},K3=function(n){return Jv(cy(n))},Y3=function(n,r){delete r.__k,$3(ic(n),r)};function Q3(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var Z3=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Q3(Z3);var X3=kf({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.style,a=o===void 0?{}:o,l=!!n&&yl(n)==="object"&&!!n.node&&typeof n.node=="function",s=Pt(l?n.node():n);s.style("position")==="static"&&s.style("position","relative"),r.tooltipEl=s.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(f){var p=H3(f,2),c=p[0],d=p[1];return r.tooltipEl.style(c,d)}),r.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,s.on("mousemove.".concat(u),function(f){r.mouseInside=!0;var p=rn(f),c=s.node(),d=c.offsetWidth,g=c.offsetHeight,b=[r.offsetX===null||r.offsetX===void 0?"-".concat(p[0]/d*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?g>130&&g-p[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",p[0]+"px").style("top",p[1]+"px").style("transform","translate(".concat(b.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),s.on("mouseover.".concat(u),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),s.on("mouseout.".concat(u),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):K3(n.content)?(n.tooltipEl.text(""),Y3(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function J3(e,n,r){var i,o=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function a(){var l,s=i.length,u,f=0,p=0,c=0;for(l=0;l<s;++l)u=i[l],f+=u.x||0,p+=u.y||0,c+=u.z||0;for(f=(f/s-e)*o,p=(p/s-n)*o,c=(c/s-r)*o,l=0;l<s;++l)u=i[l],f&&(u.x-=f),p&&(u.y-=p),c&&(u.z-=c)}return a.initialize=function(l){i=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(n=+l,a):n},a.z=function(l){return arguments.length?(r=+l,a):r},a.strength=function(l){return arguments.length?(o=+l,a):o},a}function e5(e){const n=+this._x.call(null,e);return fy(this.cover(n),n,e)}function fy(e,n,r){if(isNaN(n))return e;var i,o=e._root,a={data:r},l=e._x0,s=e._x1,u,f,p,c,d;if(!o)return e._root=a,e;for(;o.length;)if((p=n>=(u=(l+s)/2))?l=u:s=u,i=o,!(o=o[c=+p]))return i[c]=a,e;if(f=+e._x.call(null,o.data),n===f)return a.next=o,i?i[c]=a:e._root=a,e;do i=i?i[c]=new Array(2):e._root=new Array(2),(p=n>=(u=(l+s)/2))?l=u:s=u;while((c=+p)==(d=+(f>=u)));return i[d]=o,i[c]=a,e}function t5(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,o=-1/0;for(let a=0,l;a<n;++a)isNaN(l=+this._x.call(null,e[a]))||(r[a]=l,l<i&&(i=l),l>o&&(o=l));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<n;++a)fy(this,r[a],e[a]);return this}function n5(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,o=this._root,a,l;n>e||e>=r;)switch(l=+(e<n),a=new Array(2),a[l]=o,o=a,i*=2,l){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._x1=r,this}function r5(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function i5(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function jn(e,n,r){this.node=e,this.x0=n,this.x1=r}function o5(e,n){var r,i=this._x0,o,a,l=this._x1,s=[],u=this._root,f,p;for(u&&s.push(new jn(u,i,l)),n==null?n=1/0:(i=e-n,l=e+n);f=s.pop();)if(!(!(u=f.node)||(o=f.x0)>l||(a=f.x1)<i))if(u.length){var c=(o+a)/2;s.push(new jn(u[1],c,a),new jn(u[0],o,c)),(p=+(e>=c))&&(f=s[s.length-1],s[s.length-1]=s[s.length-1-p],s[s.length-1-p]=f)}else{var d=Math.abs(e-+this._x.call(null,u.data));d<n&&(n=d,i=e-d,l=e+d,r=u.data)}return r}function a5(e){if(isNaN(u=+this._x.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,s=this._x1,u,f,p,c,d;if(!r)return this;if(r.length)for(;;){if((p=u>=(f=(l+s)/2))?l=f:s=f,n=r,!(r=r[c=+p]))return this;if(!r.length)break;n[c+1&1]&&(i=n,d=c)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[c]=a:delete n[c],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[d]=r:this._root=r),this):(this._root=a,this)}function l5(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function s5(){return this._root}function u5(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function c5(e){var n=[],r,i=this._root,o,a,l;for(i&&n.push(new jn(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.x1)&&i.length){var s=(a+l)/2;(o=i[1])&&n.push(new jn(o,s,l)),(o=i[0])&&n.push(new jn(o,a,s))}return this}function f5(e){var n=[],r=[],i;for(this._root&&n.push(new jn(this._root,this._x0,this._x1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,s=i.x1,u=(l+s)/2;(a=o[0])&&n.push(new jn(a,l,u)),(a=o[1])&&n.push(new jn(a,u,s))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function d5(e){return e[0]}function h5(e){return arguments.length?(this._x=e,this):this._x}function dy(e,n){var r=new Tf(n??d5,NaN,NaN);return e==null?r:r.addAll(e)}function Tf(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function fp(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var yt=dy.prototype=Tf.prototype;yt.copy=function(){var e=new Tf(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=fp(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var o=0;o<2;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(2)}):n.target[o]=fp(i));return e};yt.add=e5;yt.addAll=t5;yt.cover=n5;yt.data=r5;yt.extent=i5;yt.find=o5;yt.remove=a5;yt.removeAll=l5;yt.root=s5;yt.size=u5;yt.visit=c5;yt.visitAfter=f5;yt.x=h5;function p5(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return hy(this.cover(n,r),n,r,e)}function hy(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var o,a=e._root,l={data:i},s=e._x0,u=e._y0,f=e._x1,p=e._y1,c,d,g,b,w,_,m,v;if(!a)return e._root=l,e;for(;a.length;)if((w=n>=(c=(s+f)/2))?s=c:f=c,(_=r>=(d=(u+p)/2))?u=d:p=d,o=a,!(a=a[m=_<<1|w]))return o[m]=l,e;if(g=+e._x.call(null,a.data),b=+e._y.call(null,a.data),n===g&&r===b)return l.next=a,o?o[m]=l:e._root=l,e;do o=o?o[m]=new Array(4):e._root=new Array(4),(w=n>=(c=(s+f)/2))?s=c:f=c,(_=r>=(d=(u+p)/2))?u=d:p=d;while((m=_<<1|w)===(v=(b>=d)<<1|g>=c));return o[v]=a,o[m]=l,e}function g5(e){var n,r,i=e.length,o,a,l=new Array(i),s=new Array(i),u=1/0,f=1/0,p=-1/0,c=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,n=e[r]))||isNaN(a=+this._y.call(null,n))||(l[r]=o,s[r]=a,o<u&&(u=o),o>p&&(p=o),a<f&&(f=a),a>c&&(c=a));if(u>p||f>c)return this;for(this.cover(u,f).cover(p,c),r=0;r<i;++r)hy(this,l[r],s[r],e[r]);return this}function m5(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,a=(i=Math.floor(n))+1;else{for(var l=o-r||1,s=this._root,u,f;r>e||e>=o||i>n||n>=a;)switch(f=(n<i)<<1|e<r,u=new Array(4),u[f]=s,s=u,l*=2,f){case 0:o=r+l,a=i+l;break;case 1:r=o-l,a=i+l;break;case 2:o=r+l,i=a-l;break;case 3:r=o-l,i=a-l;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function v5(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function y5(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function rt(e,n,r,i,o){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=o}function x5(e,n,r){var i,o=this._x0,a=this._y0,l,s,u,f,p=this._x1,c=this._y1,d=[],g=this._root,b,w;for(g&&d.push(new rt(g,o,a,p,c)),r==null?r=1/0:(o=e-r,a=n-r,p=e+r,c=n+r,r*=r);b=d.pop();)if(!(!(g=b.node)||(l=b.x0)>p||(s=b.y0)>c||(u=b.x1)<o||(f=b.y1)<a))if(g.length){var _=(l+u)/2,m=(s+f)/2;d.push(new rt(g[3],_,m,u,f),new rt(g[2],l,m,_,f),new rt(g[1],_,s,u,m),new rt(g[0],l,s,_,m)),(w=(n>=m)<<1|e>=_)&&(b=d[d.length-1],d[d.length-1]=d[d.length-1-w],d[d.length-1-w]=b)}else{var v=e-+this._x.call(null,g.data),x=n-+this._y.call(null,g.data),y=v*v+x*x;if(y<r){var k=Math.sqrt(r=y);o=e-k,a=n-k,p=e+k,c=n+k,i=g.data}}return i}function b5(e){if(isNaN(p=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,s=this._y0,u=this._x1,f=this._y1,p,c,d,g,b,w,_,m;if(!r)return this;if(r.length)for(;;){if((b=p>=(d=(l+u)/2))?l=d:u=d,(w=c>=(g=(s+f)/2))?s=g:f=g,n=r,!(r=r[_=w<<1|b]))return this;if(!r.length)break;(n[_+1&3]||n[_+2&3]||n[_+3&3])&&(i=n,m=_)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[_]=a:delete n[_],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[m]=r:this._root=r),this):(this._root=a,this)}function _5(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function w5(){return this._root}function k5(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function j5(e){var n=[],r,i=this._root,o,a,l,s,u;for(i&&n.push(new rt(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.y0,s=r.x1,u=r.y1)&&i.length){var f=(a+s)/2,p=(l+u)/2;(o=i[3])&&n.push(new rt(o,f,p,s,u)),(o=i[2])&&n.push(new rt(o,a,p,f,u)),(o=i[1])&&n.push(new rt(o,f,l,s,p)),(o=i[0])&&n.push(new rt(o,a,l,f,p))}return this}function N5(e){var n=[],r=[],i;for(this._root&&n.push(new rt(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,s=i.y0,u=i.x1,f=i.y1,p=(l+u)/2,c=(s+f)/2;(a=o[0])&&n.push(new rt(a,l,s,p,c)),(a=o[1])&&n.push(new rt(a,p,s,u,c)),(a=o[2])&&n.push(new rt(a,l,c,p,f)),(a=o[3])&&n.push(new rt(a,p,c,u,f))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function E5(e){return e[0]}function S5(e){return arguments.length?(this._x=e,this):this._x}function T5(e){return e[1]}function O5(e){return arguments.length?(this._y=e,this):this._y}function py(e,n,r){var i=new Of(n??E5,r??T5,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Of(e,n,r,i,o,a){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function dp(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var lt=py.prototype=Of.prototype;lt.copy=function(){var e=new Of(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=dp(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var o=0;o<4;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(4)}):n.target[o]=dp(i));return e};lt.add=p5;lt.addAll=g5;lt.cover=m5;lt.data=v5;lt.extent=y5;lt.find=x5;lt.remove=b5;lt.removeAll=_5;lt.root=w5;lt.size=k5;lt.visit=j5;lt.visitAfter=N5;lt.x=S5;lt.y=O5;function A5(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return gy(this.cover(n,r,i),n,r,i,e)}function gy(e,n,r,i,o){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var a,l=e._root,s={data:o},u=e._x0,f=e._y0,p=e._z0,c=e._x1,d=e._y1,g=e._z1,b,w,_,m,v,x,y,k,N,j,E;if(!l)return e._root=s,e;for(;l.length;)if((y=n>=(b=(u+c)/2))?u=b:c=b,(k=r>=(w=(f+d)/2))?f=w:d=w,(N=i>=(_=(p+g)/2))?p=_:g=_,a=l,!(l=l[j=N<<2|k<<1|y]))return a[j]=s,e;if(m=+e._x.call(null,l.data),v=+e._y.call(null,l.data),x=+e._z.call(null,l.data),n===m&&r===v&&i===x)return s.next=l,a?a[j]=s:e._root=s,e;do a=a?a[j]=new Array(8):e._root=new Array(8),(y=n>=(b=(u+c)/2))?u=b:c=b,(k=r>=(w=(f+d)/2))?f=w:d=w,(N=i>=(_=(p+g)/2))?p=_:g=_;while((j=N<<2|k<<1|y)===(E=(x>=_)<<2|(v>=w)<<1|m>=b));return a[E]=l,a[j]=s,e}function C5(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),o=new Float64Array(n);let a=1/0,l=1/0,s=1/0,u=-1/0,f=-1/0,p=-1/0;for(let c=0,d,g,b,w;c<n;++c)isNaN(g=+this._x.call(null,d=e[c]))||isNaN(b=+this._y.call(null,d))||isNaN(w=+this._z.call(null,d))||(r[c]=g,i[c]=b,o[c]=w,g<a&&(a=g),g>u&&(u=g),b<l&&(l=b),b>f&&(f=b),w<s&&(s=w),w>p&&(p=w));if(a>u||l>f||s>p)return this;this.cover(a,l,s).cover(u,f,p);for(let c=0;c<n;++c)gy(this,r[c],i[c],o[c],e[c]);return this}function I5(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,l=this._x1,s=this._y1,u=this._z1;if(isNaN(i))l=(i=Math.floor(e))+1,s=(o=Math.floor(n))+1,u=(a=Math.floor(r))+1;else{for(var f=l-i||1,p=this._root,c,d;i>e||e>=l||o>n||n>=s||a>r||r>=u;)switch(d=(r<a)<<2|(n<o)<<1|e<i,c=new Array(8),c[d]=p,p=c,f*=2,d){case 0:l=i+f,s=o+f,u=a+f;break;case 1:i=l-f,s=o+f,u=a+f;break;case 2:l=i+f,o=s-f,u=a+f;break;case 3:i=l-f,o=s-f,u=a+f;break;case 4:l=i+f,s=o+f,a=u-f;break;case 5:i=l-f,s=o+f,a=u-f;break;case 6:l=i+f,o=s-f,a=u-f;break;case 7:i=l-f,o=s-f,a=u-f;break}this._root&&this._root.length&&(this._root=p)}return this._x0=i,this._y0=o,this._z0=a,this._x1=l,this._y1=s,this._z1=u,this}function P5(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function D5(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ke(e,n,r,i,o,a,l){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=l}function M5(e,n,r,i){var o,a=this._x0,l=this._y0,s=this._z0,u,f,p,c,d,g,b=this._x1,w=this._y1,_=this._z1,m=[],v=this._root,x,y;for(v&&m.push(new ke(v,a,l,s,b,w,_)),i==null?i=1/0:(a=e-i,l=n-i,s=r-i,b=e+i,w=n+i,_=r+i,i*=i);x=m.pop();)if(!(!(v=x.node)||(u=x.x0)>b||(f=x.y0)>w||(p=x.z0)>_||(c=x.x1)<a||(d=x.y1)<l||(g=x.z1)<s))if(v.length){var k=(u+c)/2,N=(f+d)/2,j=(p+g)/2;m.push(new ke(v[7],k,N,j,c,d,g),new ke(v[6],u,N,j,k,d,g),new ke(v[5],k,f,j,c,N,g),new ke(v[4],u,f,j,k,N,g),new ke(v[3],k,N,p,c,d,j),new ke(v[2],u,N,p,k,d,j),new ke(v[1],k,f,p,c,N,j),new ke(v[0],u,f,p,k,N,j)),(y=(r>=j)<<2|(n>=N)<<1|e>=k)&&(x=m[m.length-1],m[m.length-1]=m[m.length-1-y],m[m.length-1-y]=x)}else{var E=e-+this._x.call(null,v.data),C=n-+this._y.call(null,v.data),S=r-+this._z.call(null,v.data),T=E*E+C*C+S*S;if(T<i){var O=Math.sqrt(i=T);a=e-O,l=n-O,s=r-O,b=e+O,w=n+O,_=r+O,o=v.data}}return o}const R5=(e,n,r,i,o,a)=>Math.sqrt((e-i)**2+(n-o)**2+(r-a)**2);function L5(e,n,r,i){const o=[],a=e-i,l=n-i,s=r-i,u=e+i,f=n+i,p=r+i;return this.visit((c,d,g,b,w,_,m)=>{if(!c.length)do{const v=c.data;R5(e,n,r,this._x(v),this._y(v),this._z(v))<=i&&o.push(v)}while(c=c.next);return d>u||g>f||b>p||w<a||_<l||m<s}),o}function $5(e){if(isNaN(d=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e))||isNaN(b=+this._z.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,s=this._y0,u=this._z0,f=this._x1,p=this._y1,c=this._z1,d,g,b,w,_,m,v,x,y,k,N;if(!r)return this;if(r.length)for(;;){if((v=d>=(w=(l+f)/2))?l=w:f=w,(x=g>=(_=(s+p)/2))?s=_:p=_,(y=b>=(m=(u+c)/2))?u=m:c=m,n=r,!(r=r[k=y<<2|x<<1|v]))return this;if(!r.length)break;(n[k+1&7]||n[k+2&7]||n[k+3&7]||n[k+4&7]||n[k+5&7]||n[k+6&7]||n[k+7&7])&&(i=n,N=k)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[k]=a:delete n[k],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[N]=r:this._root=r),this):(this._root=a,this)}function z5(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function F5(){return this._root}function B5(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function U5(e){var n=[],r,i=this._root,o,a,l,s,u,f,p;for(i&&n.push(new ke(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.y0,s=r.z0,u=r.x1,f=r.y1,p=r.z1)&&i.length){var c=(a+u)/2,d=(l+f)/2,g=(s+p)/2;(o=i[7])&&n.push(new ke(o,c,d,g,u,f,p)),(o=i[6])&&n.push(new ke(o,a,d,g,c,f,p)),(o=i[5])&&n.push(new ke(o,c,l,g,u,d,p)),(o=i[4])&&n.push(new ke(o,a,l,g,c,d,p)),(o=i[3])&&n.push(new ke(o,c,d,s,u,f,g)),(o=i[2])&&n.push(new ke(o,a,d,s,c,f,g)),(o=i[1])&&n.push(new ke(o,c,l,s,u,d,g)),(o=i[0])&&n.push(new ke(o,a,l,s,c,d,g))}return this}function q5(e){var n=[],r=[],i;for(this._root&&n.push(new ke(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,s=i.y0,u=i.z0,f=i.x1,p=i.y1,c=i.z1,d=(l+f)/2,g=(s+p)/2,b=(u+c)/2;(a=o[0])&&n.push(new ke(a,l,s,u,d,g,b)),(a=o[1])&&n.push(new ke(a,d,s,u,f,g,b)),(a=o[2])&&n.push(new ke(a,l,g,u,d,p,b)),(a=o[3])&&n.push(new ke(a,d,g,u,f,p,b)),(a=o[4])&&n.push(new ke(a,l,s,b,d,g,c)),(a=o[5])&&n.push(new ke(a,d,s,b,f,g,c)),(a=o[6])&&n.push(new ke(a,l,g,b,d,p,c)),(a=o[7])&&n.push(new ke(a,d,g,b,f,p,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function H5(e){return e[0]}function V5(e){return arguments.length?(this._x=e,this):this._x}function W5(e){return e[1]}function G5(e){return arguments.length?(this._y=e,this):this._y}function K5(e){return e[2]}function Y5(e){return arguments.length?(this._z=e,this):this._z}function my(e,n,r,i){var o=new Af(n??H5,r??W5,i??K5,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function Af(e,n,r,i,o,a,l,s,u){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=l,this._y1=s,this._z1=u,this._root=void 0}function hp(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Ye=my.prototype=Af.prototype;Ye.copy=function(){var e=new Af(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=hp(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var o=0;o<8;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(8)}):n.target[o]=hp(i));return e};Ye.add=A5;Ye.addAll=C5;Ye.cover=I5;Ye.data=P5;Ye.extent=D5;Ye.find=M5;Ye.findAllWithinRadius=L5;Ye.remove=$5;Ye.removeAll=z5;Ye.root=F5;Ye.size=B5;Ye.visit=U5;Ye.visitAfter=q5;Ye.x=V5;Ye.y=G5;Ye.z=Y5;function wn(e){return function(){return e}}function yn(e){return(e()-.5)*1e-6}function Q5(e){return e.index}function pp(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Z5(e){var n=Q5,r=d,i,o=wn(30),a,l,s,u,f,p,c=1;e==null&&(e=[]);function d(m){return 1/Math.min(u[m.source.index],u[m.target.index])}function g(m){for(var v=0,x=e.length;v<c;++v)for(var y=0,k,N,j,E=0,C=0,S=0,T,O;y<x;++y)k=e[y],N=k.source,j=k.target,E=j.x+j.vx-N.x-N.vx||yn(p),s>1&&(C=j.y+j.vy-N.y-N.vy||yn(p)),s>2&&(S=j.z+j.vz-N.z-N.vz||yn(p)),T=Math.sqrt(E*E+C*C+S*S),T=(T-a[y])/T*m*i[y],E*=T,C*=T,S*=T,j.vx-=E*(O=f[y]),s>1&&(j.vy-=C*O),s>2&&(j.vz-=S*O),N.vx+=E*(O=1-O),s>1&&(N.vy+=C*O),s>2&&(N.vz+=S*O)}function b(){if(l){var m,v=l.length,x=e.length,y=new Map(l.map((N,j)=>[n(N,j,l),N])),k;for(m=0,u=new Array(v);m<x;++m)k=e[m],k.index=m,typeof k.source!="object"&&(k.source=pp(y,k.source)),typeof k.target!="object"&&(k.target=pp(y,k.target)),u[k.source.index]=(u[k.source.index]||0)+1,u[k.target.index]=(u[k.target.index]||0)+1;for(m=0,f=new Array(x);m<x;++m)k=e[m],f[m]=u[k.source.index]/(u[k.source.index]+u[k.target.index]);i=new Array(x),w(),a=new Array(x),_()}}function w(){if(l)for(var m=0,v=e.length;m<v;++m)i[m]=+r(e[m],m,e)}function _(){if(l)for(var m=0,v=e.length;m<v;++m)a[m]=+o(e[m],m,e)}return g.initialize=function(m,...v){l=m,p=v.find(x=>typeof x=="function")||Math.random,s=v.find(x=>[1,2,3].includes(x))||2,b()},g.links=function(m){return arguments.length?(e=m,b(),g):e},g.id=function(m){return arguments.length?(n=m,g):n},g.iterations=function(m){return arguments.length?(c=+m,g):c},g.strength=function(m){return arguments.length?(r=typeof m=="function"?m:wn(+m),w(),g):r},g.distance=function(m){return arguments.length?(o=typeof m=="function"?m:wn(+m),_(),g):o},g}const X5=1664525,J5=1013904223,gp=4294967296;function eA(){let e=1;return()=>(e=(X5*e+J5)%gp)/gp}var mp=3;function $s(e){return e.x}function vp(e){return e.y}function tA(e){return e.z}var nA=10,rA=Math.PI*(3-Math.sqrt(5)),iA=Math.PI*20/(9+Math.sqrt(221));function oA(e,n){n=n||2;var r=Math.min(mp,Math.max(1,Math.round(n))),i,o=1,a=.001,l=1-Math.pow(a,1/300),s=0,u=.6,f=new Map,p=xf(g),c=Fo("tick","end"),d=eA();e==null&&(e=[]);function g(){b(),c.call("tick",i),o<a&&(p.stop(),c.call("end",i))}function b(m){var v,x=e.length,y;m===void 0&&(m=1);for(var k=0;k<m;++k)for(o+=(s-o)*l,f.forEach(function(N){N(o)}),v=0;v<x;++v)y=e[v],y.fx==null?y.x+=y.vx*=u:(y.x=y.fx,y.vx=0),r>1&&(y.fy==null?y.y+=y.vy*=u:(y.y=y.fy,y.vy=0)),r>2&&(y.fz==null?y.z+=y.vz*=u:(y.z=y.fz,y.vz=0));return i}function w(){for(var m=0,v=e.length,x;m<v;++m){if(x=e[m],x.index=m,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),x.fz!=null&&(x.z=x.fz),isNaN(x.x)||r>1&&isNaN(x.y)||r>2&&isNaN(x.z)){var y=nA*(r>2?Math.cbrt(.5+m):r>1?Math.sqrt(.5+m):m),k=m*rA,N=m*iA;r===1?x.x=y:r===2?(x.x=y*Math.cos(k),x.y=y*Math.sin(k)):(x.x=y*Math.sin(k)*Math.cos(N),x.y=y*Math.cos(k),x.z=y*Math.sin(k)*Math.sin(N))}(isNaN(x.vx)||r>1&&isNaN(x.vy)||r>2&&isNaN(x.vz))&&(x.vx=0,r>1&&(x.vy=0),r>2&&(x.vz=0))}}function _(m){return m.initialize&&m.initialize(e,d,r),m}return w(),i={tick:b,restart:function(){return p.restart(g),i},stop:function(){return p.stop(),i},numDimensions:function(m){return arguments.length?(r=Math.min(mp,Math.max(1,Math.round(m))),f.forEach(_),i):r},nodes:function(m){return arguments.length?(e=m,w(),f.forEach(_),i):e},alpha:function(m){return arguments.length?(o=+m,i):o},alphaMin:function(m){return arguments.length?(a=+m,i):a},alphaDecay:function(m){return arguments.length?(l=+m,i):+l},alphaTarget:function(m){return arguments.length?(s=+m,i):s},velocityDecay:function(m){return arguments.length?(u=1-m,i):1-u},randomSource:function(m){return arguments.length?(d=m,f.forEach(_),i):d},force:function(m,v){return arguments.length>1?(v==null?f.delete(m):f.set(m,_(v)),i):f.get(m)},find:function(){var m=Array.prototype.slice.call(arguments),v=m.shift()||0,x=(r>1?m.shift():null)||0,y=(r>2?m.shift():null)||0,k=m.shift()||1/0,N=0,j=e.length,E,C,S,T,O,P;for(k*=k,N=0;N<j;++N)O=e[N],E=v-O.x,C=x-(O.y||0),S=y-(O.z||0),T=E*E+C*C+S*S,T<k&&(P=O,k=T);return P},on:function(m,v){return arguments.length>1?(c.on(m,v),i):c.on(m)}}}function aA(){var e,n,r,i,o,a=wn(-30),l,s=1,u=1/0,f=.81;function p(b){var w,_=e.length,m=(n===1?dy(e,$s):n===2?py(e,$s,vp):n===3?my(e,$s,vp,tA):null).visitAfter(d);for(o=b,w=0;w<_;++w)r=e[w],m.visit(g)}function c(){if(e){var b,w=e.length,_;for(l=new Array(w),b=0;b<w;++b)_=e[b],l[_.index]=+a(_,b,e)}}function d(b){var w=0,_,m,v=0,x,y,k,N,j=b.length;if(j){for(x=y=k=N=0;N<j;++N)(_=b[N])&&(m=Math.abs(_.value))&&(w+=_.value,v+=m,x+=m*(_.x||0),y+=m*(_.y||0),k+=m*(_.z||0));w*=Math.sqrt(4/j),b.x=x/v,n>1&&(b.y=y/v),n>2&&(b.z=k/v)}else{_=b,_.x=_.data.x,n>1&&(_.y=_.data.y),n>2&&(_.z=_.data.z);do w+=l[_.data.index];while(_=_.next)}b.value=w}function g(b,w,_,m,v){if(!b.value)return!0;var x=[_,m,v][n-1],y=b.x-r.x,k=n>1?b.y-r.y:0,N=n>2?b.z-r.z:0,j=x-w,E=y*y+k*k+N*N;if(j*j/f<E)return E<u&&(y===0&&(y=yn(i),E+=y*y),n>1&&k===0&&(k=yn(i),E+=k*k),n>2&&N===0&&(N=yn(i),E+=N*N),E<s&&(E=Math.sqrt(s*E)),r.vx+=y*b.value*o/E,n>1&&(r.vy+=k*b.value*o/E),n>2&&(r.vz+=N*b.value*o/E)),!0;if(b.length||E>=u)return;(b.data!==r||b.next)&&(y===0&&(y=yn(i),E+=y*y),n>1&&k===0&&(k=yn(i),E+=k*k),n>2&&N===0&&(N=yn(i),E+=N*N),E<s&&(E=Math.sqrt(s*E)));do b.data!==r&&(j=l[b.data.index]*o/E,r.vx+=y*j,n>1&&(r.vy+=k*j),n>2&&(r.vz+=N*j));while(b=b.next)}return p.initialize=function(b,...w){e=b,i=w.find(_=>typeof _=="function")||Math.random,n=w.find(_=>[1,2,3].includes(_))||2,c()},p.strength=function(b){return arguments.length?(a=typeof b=="function"?b:wn(+b),c(),p):a},p.distanceMin=function(b){return arguments.length?(s=b*b,p):Math.sqrt(s)},p.distanceMax=function(b){return arguments.length?(u=b*b,p):Math.sqrt(u)},p.theta=function(b){return arguments.length?(f=b*b,p):Math.sqrt(f)},p}function lA(e,n,r,i){var o,a,l=wn(.1),s,u;typeof e!="function"&&(e=wn(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function f(c){for(var d=0,g=o.length;d<g;++d){var b=o[d],w=b.x-n||1e-6,_=(b.y||0)-r||1e-6,m=(b.z||0)-i||1e-6,v=Math.sqrt(w*w+_*_+m*m),x=(u[d]-v)*s[d]*c/v;b.vx+=w*x,a>1&&(b.vy+=_*x),a>2&&(b.vz+=m*x)}}function p(){if(o){var c,d=o.length;for(s=new Array(d),u=new Array(d),c=0;c<d;++c)u[c]=+e(o[c],c,o),s[c]=isNaN(u[c])?0:+l(o[c],c,o)}}return f.initialize=function(c,...d){o=c,a=d.find(g=>[1,2,3].includes(g))||2,p()},f.strength=function(c){return arguments.length?(l=typeof c=="function"?c:wn(+c),p(),f):l},f.radius=function(c){return arguments.length?(e=typeof c=="function"?c:wn(+c),p(),f):e},f.x=function(c){return arguments.length?(n=+c,f):n},f.y=function(c){return arguments.length?(r=+c,f):r},f.z=function(c){return arguments.length?(i=+c,f):i},f}const{abs:Mi,cos:gn,sin:Cr,acos:sA,atan2:Ri,sqrt:Mn,pow:Ot}=Math;function Li(e){return e<0?-Ot(-e,1/3):Ot(e,1/3)}const vy=Math.PI,ga=2*vy,Rn=vy/2,uA=1e-6,zs=Number.MAX_SAFE_INTEGER||9007199254740991,Fs=Number.MIN_SAFE_INTEGER||-9007199254740991,cA={x:0,y:0,z:0},oe={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Mn(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const o=1-e;let a=n;if(i===0)return n[0].t=e,n[0];if(i===1){const s={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return r&&(s.z=o*a[0].z+e*a[1].z),s}if(i<4){let s=o*o,u=e*e,f,p,c,d=0;i===2?(a=[a[0],a[1],a[2],cA],f=s,p=o*e*2,c=u):i===3&&(f=s*o,p=s*e*3,c=o*u*3,d=e*u);const g={x:f*a[0].x+p*a[1].x+c*a[2].x+d*a[3].x,y:f*a[0].y+p*a[1].y+c*a[2].y+d*a[3].y,t:e};return r&&(g.z=f*a[0].z+p*a[1].z+c*a[2].z+d*a[3].z),g}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let s=0;s<l.length-1;s++)l[s]={x:l[s].x+(l[s+1].x-l[s].x)*e,y:l[s].y+(l[s+1].y-l[s].y)*e},typeof l[s].z<"u"&&(l[s].z=l[s].z+(l[s+1].z-l[s].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,n,r,i){const o=1-e,a=r,l=n;let s=a[0],u=a[1],f=a[2],p=a[3],c;if(s*=o,u*=e,l.length===2)return c=s+u,{x:(s*l[0].x+u*l[1].x)/c,y:(s*l[0].y+u*l[1].y)/c,z:i?(s*l[0].z+u*l[1].z)/c:!1,t:e};if(s*=o,u*=2*o,f*=e*e,l.length===3)return c=s+u+f,{x:(s*l[0].x+u*l[1].x+f*l[2].x)/c,y:(s*l[0].y+u*l[1].y+f*l[2].y)/c,z:i?(s*l[0].z+u*l[1].z+f*l[2].z)/c:!1,t:e};if(s*=o,u*=1.5*o,f*=3*o,p*=e*e*e,l.length===4)return c=s+u+f+p,{x:(s*l[0].x+u*l[1].x+f*l[2].x+p*l[3].x)/c,y:(s*l[0].y+u*l[1].y+f*l[2].y+p*l[3].y)/c,z:i?(s*l[0].z+u*l[1].z+f*l[2].z+p*l[3].z)/c:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){const l=[];for(let s=0,u;s<a;s++)u={x:a*(i[s+1].x-i[s].x),y:a*(i[s+1].y-i[s].y)},n&&(u.z=a*(i[s+1].z-i[s].z)),l.push(u);r.push(l),i=l}return r},between:function(e,n,r){return n<=e&&e<=r||oe.approximately(e,n)||oe.approximately(e,r)},approximately:function(e,n,r){return Mi(e-n)<=(r||uA)},length:function(e){const r=oe.Tvalues.length;let i=0;for(let o=0,a;o<r;o++)a=.5*oe.Tvalues[o]+.5,i+=oe.Cvalues[o]*oe.arcfn(a,e);return .5*i},map:function(e,n,r,i,o){const a=r-n,l=o-i,s=e-n,u=s/a;return i+l*u},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(oe.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,l=r.y-e.y,s=i*l-o*a,u=i*a+o*l;return Ri(s,u)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return Mn(r*r+i*i)},closest:function(e,n){let r=Ot(2,63),i,o;return e.forEach(function(a,l){o=oe.dist(n,a),o<r&&(r=o,i=l)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Ot(e,n)+Ot(1-e,n),i=r-1;return Mi(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Ot(1-e,n),i=Ot(e,n)+r;return r/i},lli8:function(e,n,r,i,o,a,l,s){const u=(e*i-n*r)*(o-l)-(e-r)*(o*s-a*l),f=(e*i-n*r)*(a-s)-(n-i)*(o*s-a*l),p=(e-r)*(a-s)-(n-i)*(o-l);return p==0?!1:{x:u/p,y:f/p}},lli4:function(e,n,r,i){const o=e.x,a=e.y,l=n.x,s=n.y,u=r.x,f=r.y,p=i.x,c=i.y;return oe.lli8(o,a,l,s,u,f,p,c)},lli:function(e,n){return oe.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new Ee(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=zs,r=zs,i=Fs,o=Fs;return e.forEach(function(a){const l=a.bbox();n>l.x.min&&(n=l.x.min),r>l.y.min&&(r=l.y.min),i<l.x.max&&(i=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(e,n,r,i,o){if(!oe.bboxoverlap(n,i))return[];const a=[],l=[e.startcap,e.forward,e.back,e.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(u){u.virtual||s.forEach(function(f){if(f.virtual)return;const p=u.intersects(f,o);p.length>0&&(p.c1=u,p.c2=f,p.s1=e,p.s2=r,a.push(p))})}),a},makeshape:function(e,n,r){const i=n.points.length,o=e.points.length,a=oe.makeline(n.points[i-1],e.points[0]),l=oe.makeline(e.points[o-1],n.points[0]),s={startcap:a,forward:e,back:n,endcap:l,bbox:oe.findbbox([a,e,n,l])};return s.intersections=function(u){return oe.shapeintersections(s,s.bbox,u,u.bbox,r)},s},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=zs,o=Fs,a,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let s=0,u=r.length;s<u;s++)a=r[s],l=e.get(a),l[n]<i&&(i=l[n]),l[n]>o&&(o=l[n]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,o=-Ri(n.p2.y-i,n.p2.x-r),a=function(l){return{x:(l.x-r)*gn(o)-(l.y-i)*Cr(o),y:(l.x-r)*Cr(o)+(l.y-i)*gn(o)}};return e.map(a)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=oe.align(e,n),o=function(j){return 0<=j&&j<=1};if(r===2){const j=i[0].y,E=i[1].y,C=i[2].y,S=j-2*E+C;if(S!==0){const T=-Mn(E*E-j*C),O=-j+E,P=-(T+O)/S,A=-(-T+O)/S;return[P,A].filter(o)}else if(E!==C&&S===0)return[(2*E-C)/(2*E-2*C)].filter(o);return[]}const a=i[0].y,l=i[1].y,s=i[2].y,u=i[3].y;let f=-a+3*l-3*s+u,p=3*a-6*l+3*s,c=-3*a+3*l,d=a;if(oe.approximately(f,0)){if(oe.approximately(p,0))return oe.approximately(c,0)?[]:[-d/c].filter(o);const j=Mn(c*c-4*p*d),E=2*p;return[(j-c)/E,(-c-j)/E].filter(o)}p/=f,c/=f,d/=f;const g=(3*c-p*p)/3,b=g/3,w=(2*p*p*p-9*p*c+27*d)/27,_=w/2,m=_*_+b*b*b;let v,x,y,k,N;if(m<0){const j=-g/3,E=j*j*j,C=Mn(E),S=-w/(2*C),T=S<-1?-1:S>1?1:S,O=sA(T),P=Li(C),A=2*P;return y=A*gn(O/3)-p/3,k=A*gn((O+ga)/3)-p/3,N=A*gn((O+2*ga)/3)-p/3,[y,k,N].filter(o)}else{if(m===0)return v=_<0?Li(-_):-Li(_),y=2*v-p/3,k=-v-p/3,[y,k].filter(o);{const j=Mn(m);return v=Li(-_+j),x=Li(_+j),[v-x-p/3].filter(o)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],o=n-2*r+i;if(o!==0){const a=-Mn(r*r-n*i),l=-n+r,s=-(a+l)/o,u=-(-a+l)/o;return[s,u]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,o){let a,l,s,u,f=0,p=0;const c=oe.compute(e,n),d=oe.compute(e,r),g=c.x*c.x+c.y*c.y;if(i?(a=Mn(Ot(c.y*d.z-d.y*c.z,2)+Ot(c.z*d.x-d.z*c.x,2)+Ot(c.x*d.y-d.x*c.y,2)),l=Ot(g+c.z*c.z,3/2)):(a=c.x*d.y-c.y*d.x,l=Ot(g,3/2)),a===0||l===0)return{k:0,r:0};if(f=a/l,p=l/a,!o){const b=oe.curvature(e-.001,n,r,i,!0).k,w=oe.curvature(e+.001,n,r,i,!0).k;u=(w-f+(f-b))/2,s=(Mi(w-f)+Mi(f-b))/2}return{k:f,r:p,dk:u,adk:s}},inflections:function(e){if(e.length<4)return[];const n=oe.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,o=n[1].x*n[2].y,a=n[3].x*n[2].y,l=18*(-3*r+2*i+3*o-a),s=18*(3*r-i-3*o),u=18*(o-r);if(oe.approximately(l,0)){if(!oe.approximately(s,0)){let d=-u/s;if(0<=d&&d<=1)return[d]}return[]}const f=2*l;if(oe.approximately(f,0))return[];const p=s*s-4*l*u;if(p<0)return[];const c=Math.sqrt(p);return[(c-s)/f,-(s+c)/f].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let o=0,a,l,s,u;o<i;o++)if(a=r[o],l=e[a].mid,s=n[a].mid,u=(e[a].size+n[a].size)/2,Mi(l-s)>=u)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),o=n.bbox(),a=1e5,l=r||.5;if(i.x.size+i.y.size<l&&o.x.size+o.y.size<l)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(n._t1+n._t2)/2|0)/a];let s=e.split(.5),u=n.split(.5),f=[{left:s.left,right:u.left},{left:s.left,right:u.right},{left:s.right,right:u.right},{left:s.right,right:u.left}];f=f.filter(function(c){return oe.bboxoverlap(c.left.bbox(),c.right.bbox())});let p=[];return f.length===0||(f.forEach(function(c){p=p.concat(oe.pairiteration(c.left,c.right,l))}),p=p.filter(function(c,d){return p.indexOf(c)===d})),p},getccenter:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-n.x,l=r.y-n.y,s=i*gn(Rn)-o*Cr(Rn),u=i*Cr(Rn)+o*gn(Rn),f=a*gn(Rn)-l*Cr(Rn),p=a*Cr(Rn)+l*gn(Rn),c=(e.x+n.x)/2,d=(e.y+n.y)/2,g=(n.x+r.x)/2,b=(n.y+r.y)/2,w=c+s,_=d+u,m=g+f,v=b+p,x=oe.lli8(c,d,w,_,g,b,m,v),y=oe.dist(x,e);let k=Ri(e.y-x.y,e.x-x.x),N=Ri(n.y-x.y,n.x-x.x),j=Ri(r.y-x.y,r.x-x.x),E;return k<j?((k>N||N>j)&&(k+=ga),k>j&&(E=j,j=k,k=E)):j<N&&N<k?(E=j,j=k,k=E):j+=ga,x.s=k,x.e=j,x.r=y,x},numberSort:function(e,n){return e-n}};class io{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return oe.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)oe.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new io(r)}}const{abs:$i,min:yp,max:xp,cos:fA,sin:dA,acos:hA,sqrt:zi}=Math,pA=Math.PI;class Ee{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const g=[];r.forEach(function(b){["x","y","z"].forEach(function(w){typeof b[w]<"u"&&g.push(b[w])})}),r=g}let o=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(a===9||a===12)||n&&n[0]&&typeof n[0].z<"u",s=this.points=[];for(let g=0,b=l?3:2;g<a;g+=b){var u={x:r[g],y:r[g+1]};l&&(u.z=r[g+2]),s.push(u)}const f=this.order=s.length-1,p=this.dims=["x","y"];l&&p.push("z"),this.dimlen=p.length;const c=oe.align(s,{p1:s[0],p2:s[f]}),d=oe.dist(s[0],s[f]);this._linear=c.reduce((g,b)=>g+$i(b.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Ee(r,r,i);if(o===1)return new Ee(n,r,r);const a=Ee.getABC(2,n,r,i,o);return new Ee(n,a.A,i)}static cubicFromPoints(n,r,i,o,a){typeof o>"u"&&(o=.5);const l=Ee.getABC(3,n,r,i,o);typeof a>"u"&&(a=oe.dist(r,l.C));const s=a*(1-o)/o,u=oe.dist(n,i),f=(i.x-n.x)/u,p=(i.y-n.y)/u,c=a*f,d=a*p,g=s*f,b=s*p,w={x:r.x-c,y:r.y-d},_={x:r.x+g,y:r.y+b},m=l.A,v={x:m.x+(w.x-m.x)/(1-o),y:m.y+(w.y-m.y)/(1-o)},x={x:m.x+(_.x-m.x)/o,y:m.y+(_.y-m.y)/o},y={x:n.x+(v.x-n.x)/o,y:n.y+(v.y-n.y)/o},k={x:i.x+(x.x-i.x)/(1-o),y:i.y+(x.y-i.y)/(1-o)};return new Ee(n,y,k,i)}static getUtils(){return oe}getUtils(){return Ee.getUtils()}static get PolyBezier(){return io}valueOf(){return this.toString()}toString(){return oe.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let a=1,l=n.length;a<l;a++)o.push(n[a].x),o.push(n[a].y);return o.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=oe.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=oe.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return oe.length(this.derivative.bind(this))}static getABC(n=2,r,i,o,a=.5){const l=oe.projectionratio(a,n),s=1-l,u={x:l*r.x+s*o.x,y:l*r.y+s*o.y},f=oe.abcratio(a,n);return{A:{x:i.x+(i.x-u.x)/f,y:i.y+(i.y-u.y)/f},B:i,C:u,S:r,E:o}}getABC(n,r){r=r||this.get(n);let i=this.points[0],o=this.points[this.order];return Ee.getABC(this.order,i,r,o,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,o;r<n;r++)o=r/(n-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),o=[];for(let a=0,l,s=0;a<i.length;a++)l=i[a],oe.dist(l,n)<r&&(o.push(l),s+=a/i.length);return o.length?t/=o.length:!1}project(n){const r=this.getLUT(),i=r.length-1,o=oe.closest(r,n),a=o.mpos,l=(a-1)/i,s=(a+1)/i,u=.1/i;let f=o.mdist,p=l,c=p,d;f+=1;for(let g;p<s+u;p+=u)d=this.compute(p),g=oe.dist(n,d),g<f&&(f=g,c=p);return c=c<0?0:c>1?1:c,d=this.compute(c),d.t=c,d.d=f,d}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?oe.computeWithRatios(n,this.points,this.ratios,this._3d):oe.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let o=1,a,l;o<i;o++)a=n[o],l=n[o-1],r[o]={x:(i-o)/i*a.x+o/i*l.x,y:(i-o)/i*a.y+o/i*l.y};return r[i]=n[i-1],new Ee(r)}derivative(n){return oe.compute(n,this.dpoints[0],this._3d)}dderivative(n){return oe.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Ee(oe.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return oe.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return oe.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=zi(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),o=zi(r.x*r.x+r.y*r.y+r.z*r.z),a=zi(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=a,i.y/=a,i.z/=a;const l={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},s=zi(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=s,l.y/=s,l.z/=s;const u=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:u[0]*r.x+u[1]*r.y+u[2]*r.z,y:u[3]*r.x+u[4]*r.y+u[5]*r.z,z:u[6]*r.x+u[7]*r.y+u[8]*r.z}}hull(n){let r=this.points,i=[],o=[],a=0;for(o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],this.order===3&&(o[a++]=r[3]);r.length>1;){i=[];for(let l=0,s,u=r.length-1;l<u;l++)s=oe.lerp(n,r[l],r[l+1]),o[a++]=s,i.push(s);r=i}return o}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),o={left:this.order===2?new Ee([i[0],i[3],i[5]]):new Ee([i[0],i[4],i[7],i[9]]),right:this.order===2?new Ee([i[5],i[4],i[2]]):new Ee([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=oe.map(0,0,1,this._t1,this._t2),o.left._t2=oe.map(n,0,1,this._t1,this._t2),o.right._t1=oe.map(n,0,1,this._t1,this._t2),o.right._t2=oe.map(1,0,1,this._t1,this._t2),r?(r=oe.map(r,n,1,0,1),o.right.split(r).left):o}extrema(){const n={};let r=[];return this.dims.forEach((function(i){let o=function(l){return l[i]},a=this.dpoints[0].map(o);n[i]=oe.droots(a),this.order===3&&(a=this.dpoints[1].map(o),n[i]=n[i].concat(oe.droots(a))),n[i]=n[i].filter(function(l){return l>=0&&l<=1}),r=r.concat(n[i].sort(oe.numberSort))}).bind(this)),n.values=r.sort(oe.numberSort).filter(function(i,o){return r.indexOf(i)===o}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=oe.getminmax(this,i,n[i])}).bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return oe.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),o=this.normal(n),a={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(a.z=i.z+o.z*r),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const l={x:a.x+n*i.x,y:a.y+n*i.y};return a.z&&i.z&&(l.z=a.z+n*i.z),l});return[new Ee(o)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const o=oe.angle(this.points[0],this.points[3],this.points[1]),a=oe.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),$i(hA(i))<pA/3}reduce(){let n,r=0,i=0,o=.01,a,l=[],s=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),r=u[0],n=1;n<u.length;n++)i=u[n],a=this.split(r,i),a._t1=r,a._t2=i,l.push(a),r=i;return l.forEach(function(f){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(a=f.split(r,i),!a.simple()){if(i-=o,$i(r-i)<o)return[];a=f.split(r,i),a._t1=oe.map(r,0,1,f._t1,f._t2),a._t2=oe.map(i,0,1,f._t1,f._t2),s.push(a),r=i;break}r<1&&(a=f.split(r,1),a._t1=oe.map(r,0,1,f._t1,f._t2),a._t2=f._t2,s.push(a))}),s}translate(n,r,i){i=typeof i=="number"?i:r;const o=this.order;let a=this.points.map((l,s)=>(1-s/o)*r+s/o*i);return new Ee(this.points.map((l,s)=>({x:l.x+n.x*a[s],y:l.y+n.y*a[s]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const l=i?i(0):n,s=i?i(1):n,u=[this.offset(0,10),this.offset(1,10)],f=[],p=oe.lli4(u[0],u[0].c,u[1],u[1].c);if(!p)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(c){const d=f[c*r]=oe.copy(a[c*r]);d.x+=(c?s:l)*u[c].n.x,d.y+=(c?s:l)*u[c].n.y}),i?([0,1].forEach(function(c){if(!(r===2&&c)){var d=a[c+1],g={x:d.x-p.x,y:d.y-p.y},b=i?i((c+1)/r):n;i&&!o&&(b=-b);var w=zi(g.x*g.x+g.y*g.y);g.x/=w,g.y/=w,f[c+1]={x:d.x+b*g.x,y:d.y+b*g.y}}}),new Ee(f)):([0,1].forEach(c=>{if(r===2&&c)return;const d=f[c*r],g=this.derivative(c),b={x:d.x+g.x,y:d.y+g.y};f[c+1]=oe.lli4(d,b,p,a[c+1])}),new Ee(f))}outline(n,r,i,o){if(r=r===void 0?n:r,this._linear){const k=this.normal(0),N=this.points[0],j=this.points[this.points.length-1];let E,C,S;i===void 0&&(i=n,o=r),E={x:N.x+k.x*n,y:N.y+k.y*n},S={x:j.x+k.x*i,y:j.y+k.y*i},C={x:(E.x+S.x)/2,y:(E.y+S.y)/2};const T=[E,C,S];E={x:N.x-k.x*r,y:N.y-k.y*r},S={x:j.x-k.x*o,y:j.y-k.y*o},C={x:(E.x+S.x)/2,y:(E.y+S.y)/2};const O=[S,C,E],P=oe.makeline(O[2],T[0]),A=oe.makeline(T[2],O[0]),R=[P,new Ee(T),A,new Ee(O)];return new io(R)}const a=this.reduce(),l=a.length,s=[];let u=[],f,p=0,c=this.length();const d=typeof i<"u"&&typeof o<"u";function g(k,N,j,E,C){return function(S){const T=E/j,O=(E+C)/j,P=N-k;return oe.map(S,0,1,k+T*P,k+O*P)}}a.forEach(function(k){const N=k.length();d?(s.push(k.scale(g(n,i,c,p,N))),u.push(k.scale(g(-r,-o,c,p,N)))):(s.push(k.scale(n)),u.push(k.scale(-r))),p+=N}),u=u.map(function(k){return f=k.points,f[3]?k.points=[f[3],f[2],f[1],f[0]]:k.points=[f[2],f[1],f[0]],k}).reverse();const b=s[0].points[0],w=s[l-1].points[s[l-1].points.length-1],_=u[l-1].points[u[l-1].points.length-1],m=u[0].points[0],v=oe.makeline(_,b),x=oe.makeline(w,m),y=[v].concat(s).concat([x]).concat(u);return new io(y)}outlineshapes(n,r,i){r=r||n;const o=this.outline(n,r).curves,a=[];for(let l=1,s=o.length;l<s/2;l++){const u=oe.makeshape(o[l],o[s-l],i);u.startcap.virtual=l>1,u.endcap.virtual=l<s/2-1,a.push(u)}return a}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Ee&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=yp(n.p1.x,n.p2.x),i=yp(n.p1.y,n.p2.y),o=xp(n.p1.x,n.p2.x),a=xp(n.p1.y,n.p2.y);return oe.roots(this.points,n).filter(l=>{var s=this.get(l);return oe.between(s.x,r,o)&&oe.between(s.y,i,a)})}selfintersects(n){const r=this.reduce(),i=r.length-2,o=[];for(let a=0,l,s,u;a<i;a++)s=r.slice(a,a+1),u=r.slice(a+2),l=this.curveintersects(s,u,n),o.push(...l);return o}curveintersects(n,r,i){const o=[];n.forEach(function(l){r.forEach(function(s){l.overlaps(s)&&o.push({left:l,right:s})})});let a=[];return o.forEach(function(l){const s=oe.pairiteration(l.left,l.right,i);s.length>0&&(a=a.concat(s))}),a}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,o){const a=(o-i)/4,l=this.get(i+a),s=this.get(o-a),u=oe.dist(n,r),f=oe.dist(n,l),p=oe.dist(n,s);return $i(f-u)+$i(p-u)}_iterate(n,r){let i=0,o=1,a;do{a=0,o=1;let l=this.get(i),s,u,f,p,c=!1,d=!1,g,b=o,w=1;do if(d=c,p=f,b=(i+o)/2,s=this.get(b),u=this.get(o),f=oe.getccenter(l,s,u),f.interval={start:i,end:o},c=this._error(f,l,i,o)<=n,g=d&&!c,g||(w=o),c){if(o>=1){if(f.interval.end=w=1,p=f,o>1){let m={x:f.x+f.r*fA(f.e),y:f.y+f.r*dA(f.e)};f.e+=oe.angle({x:f.x,y:f.y},m,this.get(1))}break}o=o+(o-i)/2}else o=b;while(!g&&a++<100);if(a>=100)break;p=p||f,r.push(p),i=w}while(o<1);return r}}function oc(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function gA(e){if(Array.isArray(e))return e}function mA(e){if(Array.isArray(e))return oc(e)}function vA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yA(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function xA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _A(e,n){if(e==null)return{};var r,i,o=wA(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wA(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function kA(e,n){return gA(e)||yA(e,n)||yy(e,n)||xA()}function jA(e){return mA(e)||vA(e)||yy(e)||bA()}function NA(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EA(e){var n=NA(e,"string");return typeof n=="symbol"?n:n+""}function yy(e,n){if(e){if(typeof e=="string")return oc(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oc(e,n):void 0}}var SA=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),a=e.reduce(function(s,u){var f=s,p=u;return o.forEach(function(c,d){var g=c.keyAccessor,b=c.isProp,w;if(b){var _=p,m=_[g],v=_A(_,[g].map(EA));w=m,p=v}else w=g(p,d);d+1<o.length?(f.hasOwnProperty(w)||(f[w]={}),f=f[w]):r?(f.hasOwnProperty(w)||(f[w]=[]),f[w].push(p)):f[w]=p}),s},{});r instanceof Function&&function s(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;f===o.length?Object.keys(u).forEach(function(p){return u[p]=r(u[p])}):Object.values(u).forEach(function(p){return s(p,f+1)})}(a);var l=a;return i&&(l=[],function s(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];f.length===o.length?l.push({keys:f,vals:u}):Object.entries(u).forEach(function(p){var c=kA(p,2),d=c[0],g=c[1];return s(g,[].concat(jA(f),[d]))})}(a),n instanceof Array&&n.length===0&&l.length===1&&(l[0].keys=[])),l};function TA(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const bp=Symbol("implicit");function xy(){var e=new Bh,n=[],r=[],i=bp;function o(a){let l=e.get(a);if(l===void 0){if(i!==bp)return i;e.set(a,l=n.push(a)-1)}return r[l%r.length]}return o.domain=function(a){if(!arguments.length)return n.slice();n=[],e=new Bh;for(const l of a)e.has(l)||e.set(l,n.push(l)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return xy(n,r).unknown(i)},TA.apply(o,arguments),o}function OA(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const AA=OA("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function CA(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var IA=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;CA(IA);function ac(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function PA(e){if(Array.isArray(e))return e}function DA(e){if(Array.isArray(e))return ac(e)}function _p(e,n,r){if(by())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var o=new(e.bind.apply(e,i));return o}function Co(e,n,r){return(n=FA(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function by(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(by=function(){return!!e})()}function MA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RA(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function LA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $A(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wp(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Ir(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wp(Object(r),!0).forEach(function(i){Co(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function oo(e,n){return PA(e)||RA(e,n)||_y(e,n)||LA()}function Dt(e){return DA(e)||MA(e)||_y(e)||$A()}function zA(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function FA(e){var n=zA(e,"string");return typeof n=="symbol"?n:n+""}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lc(e)}function _y(e,n){if(e){if(typeof e=="string")return ac(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ac(e,n):void 0}}var BA=xy(AA);function kp(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=BA(n(i))})}function UA(e,n){var r=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,l=a===void 0?function(){return!0}:a,s=o.onLoopError,u=s===void 0?function(g){throw"Invalid DAG structure! Found cycle in node path: ".concat(g.join(" -> "),".")}:s,f={};r.forEach(function(g){return f[n(g)]={data:g,out:[],depth:-1,skip:!l(g)}}),i.forEach(function(g){var b=g.source,w=g.target,_=y(b),m=y(w);if(!f.hasOwnProperty(_))throw"Missing source node with id: ".concat(_);if(!f.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var v=f[_],x=f[m];v.out.push(x);function y(k){return lc(k)==="object"?n(k):k}});var p=[];d(Object.values(f));var c=Object.assign.apply(Object,[{}].concat(Dt(Object.entries(f).filter(function(g){var b=oo(g,2),w=b[1];return!w.skip}).map(function(g){var b=oo(g,2),w=b[0],_=b[1];return Co({},w,_.depth)}))));return c;function d(g){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=function(){var y=g[m];if(b.indexOf(y)!==-1){var k=[].concat(Dt(b.slice(b.indexOf(y))),[y]).map(function(N){return n(N.data)});return p.some(function(N){return N.length===k.length&&N.every(function(j,E){return j===k[E]})})||(p.push(k),u(k)),1}w>y.depth&&(y.depth=w,d(y.out,[].concat(Dt(b),[y]),w+(y.skip?0:1)))},m=0,v=g.length;m<v;m++)_()}}var qA=2,Xe=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},jp=function(n,r){if(!r.isShadow){var i=_e(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=Dt(Array(a)).map(function(){return{}}):delete o.__photons})}},xl=kf({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,jp(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Xe},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Xe},nodeColor:{default:"color",triggerUpdate:!1,onChange:Xe},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Xe},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Xe},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Xe},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Xe},linkColor:{default:"color",triggerUpdate:!1,onChange:Xe},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Xe},linkWidth:{default:1,triggerUpdate:!1,onChange:Xe},linkCurvature:{default:0,triggerUpdate:!1,onChange:Xe},linkCanvasObject:{triggerUpdate:!1,onChange:Xe},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Xe},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Xe},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Xe},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Xe},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:jp},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),o(),!n.isShadow&&a(),!n.isShadow&&l(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var s=_e(n.nodeVisibility),u=_e(n.nodeVal),f=_e(n.nodeColor),p=_e(n.nodeCanvasObjectMode),c=n.ctx,d=n.isShadow/n.globalScale,g=n.graphData.nodes.filter(s);c.save(),g.forEach(function(b){var w=p(b);if(n.nodeCanvasObject&&(w==="before"||w==="replace")&&(n.nodeCanvasObject(b,c,n.globalScale),w==="replace")){c.restore();return}var _=Math.sqrt(Math.max(0,u(b)||1))*n.nodeRelSize+d;c.beginPath(),c.arc(b.x,b.y,_,0,2*Math.PI,!1),c.fillStyle=f(b)||"rgba(31, 120, 180, 0.92)",c.fill(),n.nodeCanvasObject&&w==="after"&&n.nodeCanvasObject(b,n.ctx,n.globalScale)}),c.restore()}function o(){var s=_e(n.linkVisibility),u=_e(n.linkColor),f=_e(n.linkWidth),p=_e(n.linkLineDash),c=_e(n.linkCurvature),d=_e(n.linkCanvasObjectMode),g=n.ctx,b=n.isShadow*2,w=n.graphData.links.filter(s);w.forEach(N);var _=[],m=[],v=w;if(n.linkCanvasObject){var x=[],y=[];w.forEach(function(j){return({before:_,after:m,replace:x}[d(j)]||y).push(j)}),v=[].concat(Dt(_),m,y),_=_.concat(x)}g.save(),_.forEach(function(j){return n.linkCanvasObject(j,g,n.globalScale)}),g.restore();var k=SA(v,[u,f,p]);g.save(),Object.entries(k).forEach(function(j){var E=oo(j,2),C=E[0],S=E[1],T=!C||C==="undefined"?"rgba(0,0,0,0.15)":C;Object.entries(S).forEach(function(O){var P=oo(O,2),A=P[0],R=P[1],B=(A||1)/n.globalScale+b;Object.entries(R).forEach(function(z){var H=oo(z,2);H[0];var D=H[1],M=p(D[0]);g.beginPath(),D.forEach(function(I){var F=I.source,L=I.target;if(!(!F||!L||!F.hasOwnProperty("x")||!L.hasOwnProperty("x"))){g.moveTo(F.x,F.y);var V=I.__controlPoints;V?g[V.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(g,Dt(V).concat([L.x,L.y])):g.lineTo(L.x,L.y)}}),g.strokeStyle=T,g.lineWidth=B,g.setLineDash(M||[]),g.stroke()})})}),g.restore(),g.save(),m.forEach(function(j){return n.linkCanvasObject(j,g,n.globalScale)}),g.restore();function N(j){var E=c(j);if(!E){j.__controlPoints=null;return}var C=j.source,S=j.target;if(!(!C||!S||!C.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var T=Math.sqrt(Math.pow(S.x-C.x,2)+Math.pow(S.y-C.y,2));if(T>0){var O=Math.atan2(S.y-C.y,S.x-C.x),P=T*E,A={x:(C.x+S.x)/2+P*Math.cos(O-Math.PI/2),y:(C.y+S.y)/2+P*Math.sin(O-Math.PI/2)};j.__controlPoints=[A.x,A.y]}else{var R=E*70;j.__controlPoints=[S.x,S.y-R,S.x+R,S.y]}}}}function a(){var s=1.6,u=.2,f=_e(n.linkDirectionalArrowLength),p=_e(n.linkDirectionalArrowRelPos),c=_e(n.linkVisibility),d=_e(n.linkDirectionalArrowColor||n.linkColor),g=_e(n.nodeVal),b=n.ctx;b.save(),n.graphData.links.filter(c).forEach(function(w){var _=f(w);if(!(!_||_<0)){var m=w.source,v=w.target;if(!(!m||!v||!m.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var x=Math.sqrt(Math.max(0,g(m)||1))*n.nodeRelSize,y=Math.sqrt(Math.max(0,g(v)||1))*n.nodeRelSize,k=Math.min(1,Math.max(0,p(w))),N=d(w)||"rgba(0,0,0,0.28)",j=_/s/2,E=w.__controlPoints&&_p(Ee,[m.x,m.y].concat(Dt(w.__controlPoints),[v.x,v.y])),C=E?function(B){return E.get(B)}:function(B){return{x:m.x+(v.x-m.x)*B||0,y:m.y+(v.y-m.y)*B||0}},S=E?E.length():Math.sqrt(Math.pow(v.x-m.x,2)+Math.pow(v.y-m.y,2)),T=x+_+(S-x-y-_)*k,O=C(T/S),P=C((T-_)/S),A=C((T-_*(1-u))/S),R=Math.atan2(O.y-P.y,O.x-P.x)-Math.PI/2;b.beginPath(),b.moveTo(O.x,O.y),b.lineTo(P.x+j*Math.cos(R),P.y+j*Math.sin(R)),b.lineTo(A.x,A.y),b.lineTo(P.x-j*Math.cos(R),P.y-j*Math.sin(R)),b.fillStyle=N,b.fill()}}}),b.restore()}function l(){var s=_e(n.linkDirectionalParticles),u=_e(n.linkDirectionalParticleSpeed),f=_e(n.linkDirectionalParticleOffset),p=_e(n.linkDirectionalParticleWidth),c=_e(n.linkVisibility),d=_e(n.linkDirectionalParticleColor||n.linkColor),g=n.ctx;g.save(),n.graphData.links.filter(c).forEach(function(b){var w=s(b);if(!(!b.hasOwnProperty("__photons")||!b.__photons.length)){var _=b.source,m=b.target;if(!(!_||!m||!_.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var v=u(b),x=Math.abs(f(b)),y=b.__photons||[],k=Math.max(0,p(b)/2)/Math.sqrt(n.globalScale),N=d(b)||"rgba(0,0,0,0.28)";g.fillStyle=N;var j=b.__controlPoints?_p(Ee,[_.x,_.y].concat(Dt(b.__controlPoints),[m.x,m.y])):null,E=0,C=!1;y.forEach(function(S){var T=!!S.__singleHop;if(S.hasOwnProperty("__progressRatio")||(S.__progressRatio=T?0:(E+x)/w),!T&&E++,S.__progressRatio+=v,S.__progressRatio>=1)if(!T)S.__progressRatio=S.__progressRatio%1;else{C=!0;return}var O=S.__progressRatio,P=j?j.get(O):{x:_.x+(m.x-_.x)*O||0,y:_.y+(m.y-_.y)*O||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(P.x,P.y,b,g,n.globalScale):(g.beginPath(),g.arc(P.x,P.y,k,0,2*Math.PI,!1),g.fill())}),C&&(b.__photons=b.__photons.filter(function(S){return!S.__singleHop||S.__progressRatio<=1}))}}}),g.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:oA().force("link",Z5()).force("charge",aA()).force("center",J3()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&kp(n.graphData.nodes,_e(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&kp(n.graphData.links,_e(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(d){d.source=d[n.linkSource],d.target=d[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(d){return d[n.nodeId]}).links(n.graphData.links);var o=n.dagMode&&UA(n.graphData,function(d){return d[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),a=Math.max.apply(Math,Dt(Object.values(o||[]))),l=n.dagLevelDistance||n.graphData.nodes.length/(a||1)*qA*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var s=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(d){return delete d[s]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var u=["rl","bu"].includes(n.dagMode),f=function(g){return(o[g[n.nodeId]]-a/2)*l*(u?-1:1)},p=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(d){return d[p]=f(d)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?lA(function(d){var g=o[d[n.nodeId]]||-1;return(n.dagMode==="radialin"?a-g:g)*l}).strength(function(d){return n.dagNodeFilter(d)?1:0}):null);for(var c=0;c<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);c++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function wy(e,n){var r=e instanceof Array?e:[e],i=new n;return i._destructor&&i._destructor(),{linkProp:function(a){return{default:i[a](),onChange:function(s,u){r.forEach(function(f){return u[f][a](s)})},triggerUpdate:!1}},linkMethod:function(a){return function(l){for(var s=arguments.length,u=new Array(s>1?s-1:0),f=1;f<s;f++)u[f-1]=arguments[f];var p=[];return r.forEach(function(c){var d=l[c],g=d[a].apply(d,u);g!==d&&p.push(g)}),p.length?p[0]:this}}}}var HA=800,VA=4,WA=5,ky=wy("forceGraph",xl),GA=wy(["forceGraph","shadowGraph"],xl),KA=Object.assign.apply(Object,Dt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Co({},e,ky.linkProp(e))})).concat(Dt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Co({},e,GA.linkProp(e))})))),YA=Object.assign.apply(Object,Dt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Co({},e,ky.linkMethod(e))})));function Bs(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!n&&!r&&a.getContext("2d").scale(i,i)});var o=nn(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/o,(e.height-r)/2/o),e.needsRedraw=!0}}function jy(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Np(e,n,r){e.save(),jy(e),e.clearRect(0,0,n,r),e.restore()}var QA=kf({props:Ir({width:{default:window.innerWidth,onChange:function(n,r){return Bs(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return Bs(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(o){return(o||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(o){var a=o.type,l=o.objs;l.filter(function(s){if(!s.hasOwnProperty("__indexColor"))return!0;var u=r.colorTracker.lookup(s.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==s}).forEach(function(s){s.__indexColor=r.colorTracker.register({type:a,d:s})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},KA),aliases:{stopAnimation:"pauseAnimation"},methods:Ir({graph2ScreenCoords:function(n,r,i){var o=nn(n.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(n,r,i){var o=nn(n.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(n,r,i,o){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var a=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?n.tweenGroup.add(new Kh(l()).to(a,o).easing(xr.Quadratic.Out).onUpdate(s).start()):s(a),this}return l();function l(){var u=nn(n.canvas);return{x:(n.width/2-u.x)/u.k,y:(n.height/2-u.y)/u.k}}function s(u){var f=u.x,p=u.y;n.zoom.translateTo(n.zoom.__baseElem,f===void 0?l().x:f,p===void 0?l().y:p),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?n.tweenGroup.add(new Kh({k:o()}).to({k:r},i).easing(xr.Quadratic.Out).onUpdate(function(l){var s=l.k;return a(s)}).start()):a(r),this;return o();function o(){return nn(n.canvas).k}function a(l){n.zoom.scaleTo(n.zoom.__baseElem,l),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];var s=this.getGraphBbox.apply(this,a);if(s){var u={x:(s.x[0]+s.x[1])/2,y:(s.y[0]+s.y[1])/2},f=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(s.x[1]-s.x[0]),(n.height-i*2)/(s.y[1]-s.y[0])));this.centerAt(u.x,u.y,r),this.zoom(f,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=_e(n.nodeVal),o=function(s){return Math.sqrt(Math.max(0,i(s)||1))*n.nodeRelSize},a=n.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:o(l)}});return a.length?{x:[Hh(a,function(l){return l.x-l.r}),qh(a,function(l){return l.x+l.r})],y:[Hh(a,function(l){return l.y-l.r}),qh(a,function(l){return l.y+l.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},YA),stateInit:function(){return{lastSetZoom:1,zoom:l4(),forceGraph:new xl,shadowGraph:new xl().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new C3,tweenGroup:new Wv}},init:function(n,r){var i=this;n.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",n.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),s={x:-1e12,y:-1e12},u=function(){var c=null,d=window.devicePixelRatio,g=s.x>0&&s.y>0?l.getImageData(s.x*d,s.y*d,1,1):null;return g&&(c=r.colorTracker.lookup(g.data)),c};Pt(r.canvas).call(vT().subject(function(){if(!r.enableNodeDrag)return null;var p=u();return p&&p.type==="Node"?p.d:null}).on("start",function(p){var c=p.subject;c.__initialDragPos={x:c.x,y:c.y,fx:c.fx,fy:c.fy},p.active||(c.fx=c.x,c.fy=c.y),r.canvas.classList.add("grabbable")}).on("drag",function(p){var c=p.subject,d=c.__initialDragPos,g=p,b=nn(r.canvas).k,w={x:d.x+(g.x-d.x)/b-c.x,y:d.y+(g.y-d.y)/b-c.y};["x","y"].forEach(function(_){return c["f".concat(_)]=c[_]=d[_]+(g[_]-d[_])/b}),!(!c.__dragged&&WA>=Math.sqrt(f4(["x","y"].map(function(_){return Math.pow(p[_]-d[_],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,c.__dragged=!0,r.onNodeDrag(c,w))}).on("end",function(p){var c=p.subject,d=c.__initialDragPos,g={x:c.x-d.x,y:c.y-d.y};d.fx===void 0&&(c.fx=void 0),d.fy===void 0&&(c.fy=void 0),delete c.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,c.__dragged&&(delete c.__dragged,r.onNodeDragEnd(c,g))})),r.zoom(r.zoom.__baseElem=Pt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(p){return!p.button&&r.enableZoomPanInteraction&&(p.type!=="wheel"||_e(r.enableZoomInteraction)(p))&&(p.type==="wheel"||_e(r.enablePanInteraction)(p))}).on("zoom",function(p){var c=p.transform;[a,l].forEach(function(d){jy(d),d.translate(c.x,c.y),d.scale(c.k,c.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Ir(Ir({},c),i.centerAt())),r.needsRedraw=!0}).on("end",function(p){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Ir(Ir({},p.transform),i.centerAt()))}),Bs(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){nn(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=VA/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new X3(o),["pointermove","pointerdown"].forEach(function(p){return o.addEventListener(p,function(c){p==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=c),!r.isPointerDragging&&c.type==="pointermove"&&r.onBackgroundClick&&(c.pressure>0||r.isPointerPressed)&&(c.pointerType==="mouse"||c.movementX===void 0||[c.movementX,c.movementY].some(function(b){return Math.abs(b)>1}))&&(r.isPointerDragging=!0);var d=g(o);s.x=c.pageX-d.left,s.y=c.pageY-d.top;function g(b){var w=b.getBoundingClientRect(),_=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:w.top+m,left:w.left+_}}},{passive:!0})}),o.addEventListener("pointerup",function(p){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var c=[p,r.pointerDownEvent];requestAnimationFrame(function(){if(p.button===0)if(r.hoverObj){var d=r["on".concat(r.hoverObj.type,"Click")];d&&d.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,c);if(p.button===2)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"RightClick")];g&&g.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,c)})}},{passive:!0}),o.addEventListener("contextmenu",function(p){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(p.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(l);var f=$4(function(){Np(l,r.width,r.height),r.shadowGraph.linkWidth(function(c){return _e(r.linkWidth)(c)+r.linkHoverPrecision});var p=nn(r.canvas);r.shadowGraph.globalScale(p.k).tickFrame()},HA);r.flushShadowCanvas=f.flush,(this._animationCycle=function p(){var c=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(x){return x.__photons&&x.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var d=r.isPointerDragging?null:u();if(d!==r.hoverObj){var g=r.hoverObj,b=g?g.type:null,w=d?d.type:null;if(b&&b!==w){var _=r["on".concat(b,"Hover")];_&&_(null,g.d)}if(w){var m=r["on".concat(w,"Hover")];m&&m(d.d,b===w?g.d:null)}r.tooltip.content(d&&_e(r["".concat(d.type.toLowerCase(),"Label")])(d.d)||null),r.canvas.classList[(d&&r["on".concat(w,"Click")]||!d&&r.onBackgroundClick)&&_e(r.showPointerCursor)(d==null?void 0:d.d)?"add":"remove"]("clickable"),r.hoverObj=d}c&&f()}if(c){Np(a,r.width,r.height);var v=nn(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,v),r.forceGraph.globalScale(v).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,v)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(p)})()},update:function(n){}}),Ny={exports:{}},ZA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XA=ZA,JA=XA;function Ey(){}function Sy(){}Sy.resetWarningCache=Ey;var eC=function(){function e(i,o,a,l,s,u){if(u!==JA){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Sy,resetWarningCache:Ey};return r.PropTypes=r,r};Ny.exports=eC();var tC=Ny.exports;const G=sc(tC),Jl={width:G.number,height:G.number,graphData:G.shape({nodes:G.arrayOf(G.object).isRequired,links:G.arrayOf(G.object).isRequired}),backgroundColor:G.string,nodeRelSize:G.number,nodeId:G.string,nodeLabel:G.oneOfType([G.string,G.func]),nodeVal:G.oneOfType([G.number,G.string,G.func]),nodeVisibility:G.oneOfType([G.bool,G.string,G.func]),nodeColor:G.oneOfType([G.string,G.func]),nodeAutoColorBy:G.oneOfType([G.string,G.func]),onNodeHover:G.func,onNodeClick:G.func,linkSource:G.string,linkTarget:G.string,linkLabel:G.oneOfType([G.string,G.func]),linkVisibility:G.oneOfType([G.bool,G.string,G.func]),linkColor:G.oneOfType([G.string,G.func]),linkAutoColorBy:G.oneOfType([G.string,G.func]),linkWidth:G.oneOfType([G.number,G.string,G.func]),linkCurvature:G.oneOfType([G.number,G.string,G.func]),linkDirectionalArrowLength:G.oneOfType([G.number,G.string,G.func]),linkDirectionalArrowColor:G.oneOfType([G.string,G.func]),linkDirectionalArrowRelPos:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticles:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleSpeed:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleOffset:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleWidth:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleColor:G.oneOfType([G.string,G.func]),onLinkHover:G.func,onLinkClick:G.func,dagMode:G.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:G.number,dagNodeFilter:G.func,onDagError:G.func,d3AlphaMin:G.number,d3AlphaDecay:G.number,d3VelocityDecay:G.number,warmupTicks:G.number,cooldownTicks:G.number,cooldownTime:G.number,onEngineTick:G.func,onEngineStop:G.func,getGraphBbox:G.func},Ty={zoomToFit:G.func,onNodeRightClick:G.func,onNodeDrag:G.func,onNodeDragEnd:G.func,onLinkRightClick:G.func,linkHoverPrecision:G.number,onBackgroundClick:G.func,onBackgroundRightClick:G.func,showPointerCursor:G.oneOfType([G.bool,G.func]),enablePointerInteraction:G.bool,enableNodeDrag:G.bool},Cf={showNavInfo:G.bool,nodeOpacity:G.number,nodeResolution:G.number,nodeThreeObject:G.oneOfType([G.object,G.string,G.func]),nodeThreeObjectExtend:G.oneOfType([G.bool,G.string,G.func]),nodePositionUpdate:G.func,linkOpacity:G.number,linkResolution:G.number,linkCurveRotation:G.oneOfType([G.number,G.string,G.func]),linkMaterial:G.oneOfType([G.object,G.string,G.func]),linkThreeObject:G.oneOfType([G.object,G.string,G.func]),linkThreeObjectExtend:G.oneOfType([G.bool,G.string,G.func]),linkPositionUpdate:G.func,linkDirectionalArrowResolution:G.number,linkDirectionalParticleResolution:G.number,linkDirectionalParticleThreeObject:G.oneOfType([G.object,G.string,G.func]),forceEngine:G.oneOf(["d3","ngraph"]),ngraphPhysics:G.object,numDimensions:G.oneOf([1,2,3])},nC=Object.assign({},Jl,Ty,{linkLineDash:G.oneOfType([G.arrayOf(G.number),G.string,G.func]),nodeCanvasObjectMode:G.oneOfType([G.string,G.func]),nodeCanvasObject:G.func,nodePointerAreaPaint:G.func,linkCanvasObjectMode:G.oneOfType([G.string,G.func]),linkCanvasObject:G.func,linkPointerAreaPaint:G.func,linkDirectionalParticleCanvasObject:G.func,autoPauseRedraw:G.bool,minZoom:G.number,maxZoom:G.number,enableZoomInteraction:G.oneOfType([G.bool,G.func]),enablePanInteraction:G.oneOfType([G.bool,G.func]),onZoom:G.func,onZoomEnd:G.func,onRenderFramePre:G.func,onRenderFramePost:G.func});Object.assign({},Jl,Ty,Cf,{enableNavigationControls:G.bool,controlType:G.oneOf(["trackball","orbit","fly"]),rendererConfig:G.object,extraRenderers:G.arrayOf(G.shape({render:G.func.isRequired}))});Object.assign({},Jl,Cf,{nodeDesc:G.oneOfType([G.string,G.func]),linkDesc:G.oneOfType([G.string,G.func])});Object.assign({},Jl,Cf,{markerAttrs:G.object,yOffset:G.number,glScale:G.number});const If=OE(QA,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});If.displayName="ForceGraph2D";If.propTypes=nC;const Ep={area:"#BF5AF2",project:"#F2F2F7",note:"#8E8E93",resource:"#636366"},rC=({areas:e,projects:n,notes:r,resources:i,onNavigate:o})=>{const a=W.useRef(null),l=W.useMemo(()=>{const u=[],f=[],p=new Set;e.forEach(g=>u.push({id:g.id,name:g.title,type:"area",val:20})),n.forEach(g=>u.push({id:g.id,name:g.title,type:"project",val:10})),r.forEach(g=>u.push({id:g.id,name:g.title,type:"note",val:5})),i.forEach(g=>u.push({id:g.id,name:g.title,type:"resource",val:5}));const c=(g,b)=>{const w=`${g}-${b}`;p.has(w)||(f.push({source:g,target:b}),p.add(w))};n.forEach(g=>{g.areaId&&c(g.areaId,g.id)}),r.forEach(g=>{g.parentIds.forEach(b=>c(b,g.id))}),i.forEach(g=>{g.parentIds.forEach(b=>c(b,g.id))});const d=/data-link-id="([^"]+)"/g;return r.forEach(g=>{let b;for(;(b=d.exec(g.content))!==null;){const w=b[1];c(g.id,w)}}),{nodes:u,links:f}},[e,n,r,i]),s=W.useCallback(u=>{const{id:f,type:p}=u;switch(p){case"area":o("areas",f);break;case"project":o("projects",f);break;case"note":case"resource":const c=[...r,...i].find(d=>d.id===f);if(c){const d=c.parentIds.find(g=>g.startsWith("proj-"));d&&o("projects",d)}break}a.current&&a.current.cameraPosition({x:u.x*1.5,y:u.y*1.5},null,1e3)},[o,r,i]);return h.jsx("div",{className:"w-full h-full overflow-clip bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md",children:h.jsx(If,{ref:a,graphData:l,nodeLabel:"name",nodeColor:u=>Ep[u.type]||"#FFFFFF",linkColor:()=>"rgba(142, 142, 147, 0.3)",linkWidth:1,onNodeClick:s,nodeCanvasObject:(u,f,p)=>{const c=u.name,d=12/p;f.font=`${d}px Inter, sans-serif`;const b=[f.measureText(c).width,d].map(w=>w+d*.4);f.fillStyle="rgba(22, 22, 24, 0.8)",f.fillRect(u.x-b[0]/2,u.y-b[1]/2,b[0],b[1]),f.textAlign="center",f.textBaseline="middle",f.fillStyle=Ep[u.type],f.fillText(c,u.x,u.y),u.__bckgDimensions=b},nodePointerAreaPaint:(u,f,p)=>{p.fillStyle=f;const c=u.__bckgDimensions;c&&p.fillRect(u.x-c[0]/2,u.y-c[1]/2,c[0],c[1])}})})},iC=pe.memo(rC),oC=()=>{const{state:e,dispatch:n}=xi(),r=W.useRef(null),i=()=>{try{const l=JSON.stringify({version:"1.0.0",exportedAt:new Date().toISOString(),...e},null,2),s=new Blob([l],{type:"application/json"}),u=URL.createObjectURL(s),f=document.createElement("a"),p=new Date().toISOString().slice(0,10);f.download=`second-brain-backup-${p}.json`,f.href=u,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(u)}catch(l){console.error("Failed to export data:",l),alert("An error occurred while exporting your data. Please check the console for details.")}},o=()=>{var l;(l=r.current)==null||l.click()},a=l=>{var f;const s=(f=l.target.files)==null?void 0:f[0];if(!s)return;if(!window.confirm(`Are you sure you want to import this file?

WARNING: This will overwrite all current data in the application. This action cannot be undone.`)){r.current&&(r.current.value="");return}const u=new FileReader;u.onload=p=>{var c;try{const d=(c=p.target)==null?void 0:c.result;if(typeof d!="string")throw new Error("File could not be read.");const g=JSON.parse(d);if(g&&g.areas&&g.projects&&g.tasks&&g.notes&&g.resources){const{version:b,exportedAt:w,..._}=g;n({type:"REPLACE_STATE",payload:_}),alert("Data imported successfully!")}else throw new Error("Invalid backup file format.")}catch(d){console.error("Failed to import data:",d),alert(`An error occurred while importing the data: ${d instanceof Error?d.message:String(d)}`)}finally{r.current&&(r.current.value="")}},u.onerror=()=>{alert("Error reading file."),r.current&&(r.current.value="")},u.readAsText(s)};return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Settings"}),h.jsx("p",{className:"text-text-secondary",children:"Manage your application settings and data."})]}),h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md p-6 max-w-2xl space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-2 font-heading",children:"Export Data"}),h.jsx("p",{className:"text-text-secondary mb-4",children:"Save a complete backup of your Second Brain. Export all your data into a single JSON file for backup or migration. Keep this file safe."}),h.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-secondary hover:bg-secondary-hover text-secondary-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(lx,{className:"w-5 h-5"}),"Export All Data"]})]}),h.jsx("div",{className:"border-t border-outline-dark my-6"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-2 font-heading",children:"Import Data"}),h.jsx("p",{className:"text-text-secondary mb-4",children:"Restore your Second Brain from a backup file. This will replace all current data in the application."}),h.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-destructive hover:bg-destructive-hover text-destructive-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(sx,{className:"w-5 h-5"}),"Import from Backup"]}),h.jsx("input",{type:"file",ref:r,onChange:a,accept:"application/json",className:"hidden"})]})]})]})},aC=pe.memo(oC),lC=({isOpen:e,onClose:n,onCommand:r,areas:i,projects:o,notes:a,resources:l,tasks:s})=>{const[u,f]=W.useState(""),[p,c]=W.useState(0),d=W.useRef(null),g=W.useRef(null),b=W.useRef(!1);W.useEffect(()=>{e&&(f(""),c(0),setTimeout(()=>{var k;return(k=d.current)==null?void 0:k.focus()},100))},[e]);const w=W.useMemo(()=>[{id:"new-task",type:"action",title:"New Task",category:"Actions",icon:h.jsx(He,{className:"w-5 h-5"}),action:()=>{}},{id:"new-note",type:"action",title:"New Note",category:"Actions",icon:h.jsx(He,{className:"w-5 h-5"}),action:()=>{}},{id:"new-resource",type:"action",title:"New Resource",category:"Actions",icon:h.jsx(He,{className:"w-5 h-5"}),action:()=>{}},{id:"new-project",type:"action",title:"New Project",category:"Actions",icon:h.jsx(He,{className:"w-5 h-5"}),action:()=>{}},{id:"new-area",type:"action",title:"New Area",category:"Actions",icon:h.jsx(He,{className:"w-5 h-5"}),action:()=>{}},{id:"go-home",type:"navigation",title:"Go to Home",category:"Navigation",icon:h.jsx(qm,{className:"w-5 h-5"}),action:()=>{}},{id:"go-areas",type:"navigation",title:"Go to Areas",category:"Navigation",icon:h.jsx(mt,{className:"w-5 h-5"}),action:()=>{}},{id:"go-projects",type:"navigation",title:"Go to Projects",category:"Navigation",icon:h.jsx(gt,{className:"w-5 h-5"}),action:()=>{}},{id:"go-tasks",type:"navigation",title:"Go to All Tasks",category:"Navigation",icon:h.jsx(Zt,{className:"w-5 h-5"}),action:()=>{}},{id:"go-review",type:"navigation",title:"Go to Review",category:"Navigation",icon:h.jsx($o,{className:"w-5 h-5"}),action:()=>{}},{id:"go-graph",type:"navigation",title:"Go to Graph",category:"Navigation",icon:h.jsx(Um,{className:"w-5 h-5"}),action:()=>{}},{id:"go-archives",type:"navigation",title:"Go to Archives",category:"Navigation",icon:h.jsx(rf,{className:"w-5 h-5"}),action:()=>{}}],[]),_=W.useMemo(()=>[...i.map(N=>({...N,itemType:"area"})),...o.map(N=>({...N,itemType:"project"})),...a.map(N=>({...N,itemType:"note"})),...l.map(N=>({...N,itemType:"resource"})),...s.map(N=>({...N,itemType:"task"}))].filter(N=>N.status==="active").map(N=>{let j=h.jsx(ai,{className:"w-5 h-5"});return N.itemType==="area"&&(j=h.jsx(mt,{className:"w-5 h-5"})),N.itemType==="project"&&(j=h.jsx(gt,{className:"w-5 h-5"})),N.itemType==="note"&&(j=h.jsx(tt,{className:"w-5 h-5"})),N.itemType==="resource"&&(j=h.jsx(vt,{className:"w-5 h-5"})),N.itemType==="task"&&(j=h.jsx(Zt,{className:"w-5 h-5"})),{id:N.id,type:"item",title:N.title,category:"Items",icon:j,action:()=>{}}}),[i,o,a,l,s]),m=W.useMemo(()=>{const k=u.toLowerCase();if(!k){const j=["new-task","new-note","new-resource","new-project","new-area"];return w.filter(E=>E.type==="navigation"||E.type==="action"&&j.includes(E.id))}return[...w,..._].filter(j=>j.title.toLowerCase().includes(k))},[u,w,_]),v=W.useMemo(()=>m.reduce((k,N)=>(k[N.category]||(k[N.category]=[]),k[N.category].push(N),k),{}),[m]),x=W.useMemo(()=>Object.values(v).flat(),[v]);W.useEffect(()=>{c(0)},[u]),W.useEffect(()=>{const k=N=>{N.key==="ArrowDown"||N.key==="ArrowUp"?(N.preventDefault(),b.current=!0,c(j=>{const E=(j+1)%x.length,C=(j-1+x.length)%x.length;return N.key==="ArrowDown"?E:C})):N.key==="Enter"&&(N.preventDefault(),x[p]&&y(x[p]))};return e&&window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e,p,x]),W.useEffect(()=>{var k,N;b.current&&((N=(k=g.current)==null?void 0:k.children[p])==null||N.scrollIntoView({block:"nearest"}),b.current=!1)},[p]);const y=k=>{r(k)};return e?h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-start justify-center pt-24 backdrop-blur-md",onClick:n,children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl border border-outline rounded-2xl shadow-lg",onClick:k=>k.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-outline-dark",children:[h.jsx(ai,{className:"w-5 h-5 text-text-secondary"}),h.jsx("input",{ref:d,type:"text",value:u,onChange:k=>f(k.target.value),placeholder:"Type a command or search...",className:"w-full bg-transparent focus:outline-none text-lg"})]}),h.jsxs("ul",{ref:g,className:"max-h-[50vh] overflow-y-auto custom-scrollbar p-2",children:[Object.entries(v).map(([k,N])=>h.jsxs("li",{children:[h.jsx("h3",{className:"text-xs font-semibold text-text-secondary px-2 pt-2 pb-1",children:k}),h.jsx("ul",{children:N.map(j=>{const E=x.findIndex(C=>C.id===j.id);return h.jsxs("li",{onClick:()=>y(j),onMouseEnter:()=>c(E),className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer ${p===E?"bg-accent text-accent-content":"text-text-primary"}`,children:[h.jsx("span",{className:p===E?"":"text-text-secondary",children:j.icon}),h.jsx("span",{children:j.title})]},j.id)})})]},k)),m.length===0&&h.jsx("li",{className:"p-4 text-center text-text-secondary",children:"No results found."})]})]})}):null},sC=pe.memo(lC),uC=({isOpen:e,onClose:n,onLink:r,taskToLink:i,projects:o})=>{const[a,l]=W.useState(""),s=o.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())),u=f=>{r(i.id,f)};return e?h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"link-task-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-outline rounded-xl shadow-lg",onClick:f=>f.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"link-task-title",className:"text-xl font-bold font-heading",children:"Link Task to Project"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-6 flex-1 flex flex-col overflow-y-hidden",children:[h.jsx("p",{className:"text-text-secondary mb-2",children:"Linking task:"}),h.jsx("p",{className:"font-bold text-lg text-text-primary mb-4",children:i.title}),h.jsxs("div",{className:"relative mb-2",children:[h.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),h.jsx("input",{type:"text",value:a,onChange:f=>l(f.target.value),placeholder:"Search projects...",className:"w-full bg-background/50 border border-outline rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent"})]}),h.jsx("ul",{className:"flex-1 space-y-1 border border-outline-dark p-2 rounded-lg overflow-y-auto custom-scrollbar bg-background/30",children:s.length>0?s.map(f=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>u(f.id),className:"w-full text-left flex items-center gap-2 p-2 rounded-md hover:bg-neutral transition-colors",children:[h.jsx(gt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),h.jsx("span",{className:"truncate",children:f.title})]})},f.id)):h.jsx("li",{className:"p-4 text-center text-sm text-text-tertiary",children:"No projects found."})})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"})})})]})}):null},cC=pe.memo(uC),fC=({isOpen:e,onClose:n,onLinkItems:r,notes:i,resources:o,existingNoteIds:a,existingResourceIds:l})=>{const[s,u]=W.useState(""),[f,p]=W.useState([]),[c,d]=W.useState([]),g=W.useMemo(()=>{const _=s.toLowerCase(),m=i.filter(x=>!a.includes(x.id)&&x.title.toLowerCase().includes(_)).map(x=>({...x,type:"note"})),v=o.filter(x=>!l.includes(x.id)&&x.title.toLowerCase().includes(_)).map(x=>({...x,type:"resource"}));return{notes:m,resources:v}},[s,i,o,a,l]),b=(_,m)=>{_==="note"?p(v=>v.includes(m)?v.filter(x=>x!==m):[...v,m]):d(v=>v.includes(m)?v.filter(x=>x!==m):[...v,m])},w=()=>{r({noteIds:f,resourceIds:c}),n()};return e?h.jsx("div",{className:"fixed inset-0 bg-black/30 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"link-item-title",children:h.jsxs("div",{className:"bg-surface/90 backdrop-blur-xl w-full max-w-lg max-h-[80vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:_=>_.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"link-item-title",className:"text-xl font-bold font-heading",children:"Link Items"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-4 flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"relative mb-2 flex-shrink-0",children:[h.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),h.jsx("input",{type:"text",value:s,onChange:_=>u(_.target.value),placeholder:"Search notes and resources...",className:"w-full bg-background/50 border border-outline rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent"})]}),h.jsx("div",{className:"flex-1 space-y-1 border border-outline-dark p-2 rounded-lg overflow-y-auto custom-scrollbar bg-background/30",children:g.notes.length===0&&g.resources.length===0?h.jsx("p",{className:"p-4 text-center text-sm text-text-tertiary",children:"No items found."}):h.jsxs(h.Fragment,{children:[g.notes.map(_=>h.jsxs("div",{className:"flex items-center p-1",children:[h.jsx("input",{type:"checkbox",id:`link-item-${_.id}`,checked:f.includes(_.id),onChange:()=>b("note",_.id),className:"h-4 w-4 rounded border-outline bg-surface text-accent focus:ring-accent"}),h.jsxs("label",{htmlFor:`link-item-${_.id}`,className:"ml-3 flex items-center gap-2 text-sm text-text-primary",children:[h.jsx(tt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{children:_.title})]})]},_.id)),g.resources.map(_=>h.jsxs("div",{className:"flex items-center p-1",children:[h.jsx("input",{type:"checkbox",id:`link-item-${_.id}`,checked:c.includes(_.id),onChange:()=>b("resource",_.id),className:"h-4 w-4 rounded border-outline bg-surface text-accent focus:ring-accent"}),h.jsxs("label",{htmlFor:`link-item-${_.id}`,className:"ml-3 flex items-center gap-2 text-sm text-text-primary",children:[h.jsx(vt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{children:_.title})]})]},_.id))]})})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:w,disabled:f.length===0&&c.length===0,className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg disabled:bg-neutral disabled:text-text-tertiary",children:"Link Items"})]})})]})}):null},dC=pe.memo(fC),hC=({isOpen:e,onClose:n,onSave:r,onAddSubtask:i,onToggleSubtask:o,onDelete:a,task:l,allTasks:s,projects:u,notes:f,resources:p})=>{const[c,d]=W.useState(l.title),[g,b]=W.useState(l.description),[w,_]=W.useState(l.priority),[m,v]=W.useState(l.dueDate?l.dueDate.split("T")[0]:""),[x,y]=W.useState(l.tags||[]),[k,N]=W.useState(""),[j,E]=W.useState(!1);W.useEffect(()=>{d(l.title),b(l.description),_(l.priority),v(l.dueDate?l.dueDate.split("T")[0]:""),y(l.tags||[]),E(!1)},[l]);const{subtasks:C,linkedNotes:S,linkedResources:T,project:O}=W.useMemo(()=>{const z=s.filter(I=>(l.subtaskIds||[]).includes(I.id)),H=f.filter(I=>(l.noteIds||[]).includes(I.id)),D=p.filter(I=>(l.resourceIds||[]).includes(I.id)),M=u.find(I=>I.id===l.projectId);return{subtasks:z,linkedNotes:H,linkedResources:D,project:M}},[l,s,f,p,u]),P=()=>{const z={};c!==l.title&&(z.title=c),g!==l.description&&(z.description=g),w!==l.priority&&(z.priority=w),m!==(l.dueDate?l.dueDate.split("T")[0]:"")&&(z.dueDate=m),JSON.stringify(x)!==JSON.stringify(l.tags||[])&&(z.tags=x),Object.keys(z).length>0&&r(l.id,z),n()},A=z=>{z.preventDefault(),k.trim()&&(i(l.id,{title:k.trim()}),N(""))},R=(z,H)=>{let D={};z==="note"?D.noteIds=(l.noteIds||[]).filter(M=>M!==H):D.resourceIds=(l.resourceIds||[]).filter(M=>M!==H),r(l.id,D)},B=z=>{const H={};H.noteIds=[...new Set([...l.noteIds||[],...z.noteIds])],H.resourceIds=[...new Set([...l.resourceIds||[],...z.resourceIds])],r(l.id,H),E(!1)};return e?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"task-detail-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:z=>z.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("input",{id:"task-detail-title",type:"text",value:c,onChange:z=>d(z.target.value),className:"w-full bg-transparent border-none text-xl font-bold font-heading text-text-primary focus:outline-none focus:ring-0"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:[h.jsx(gt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Project:"}),h.jsx("span",{className:"font-semibold truncate",children:(O==null?void 0:O.title)||"None"})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:[h.jsx(Rl,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Priority:"}),h.jsxs("select",{value:w||"Medium",onChange:z=>_(z.target.value),className:"bg-transparent font-semibold focus:outline-none",children:[h.jsx("option",{children:"Low"}),h.jsx("option",{children:"Medium"}),h.jsx("option",{children:"High"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:[h.jsx(Or,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Due:"}),h.jsx("input",{type:"date",value:m,onChange:z=>v(z.target.value),className:"bg-transparent font-semibold focus:outline-none"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4"})," Description"]}),h.jsx("textarea",{value:g,onChange:z=>b(z.target.value),rows:4,placeholder:"Add more details...",className:"w-full bg-background/50 border border-outline rounded-lg p-3 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:x,onTagsChange:y})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx($o,{className:"w-4 h-4"})," Subtasks"]}),h.jsxs("form",{onSubmit:A,className:"flex gap-2 mb-2",children:[h.jsx("input",{type:"text",value:k,onChange:z=>N(z.target.value),placeholder:"Add a subtask...",className:"flex-1 bg-background/50 border border-outline px-3 py-1.5 text-sm rounded-lg focus:ring-1 focus:ring-accent focus:outline-none"}),h.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover rounded-lg",children:h.jsx(He,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-1",children:C.map(z=>h.jsx(rl,{task:z,onToggleTask:o,onUpdateTask:r,allTasks:s},z.id))})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary flex items-center gap-2",children:[h.jsx(nr,{className:"w-4 h-4"})," Linked Items"]}),h.jsxs("button",{onClick:()=>E(!0),className:"px-2 py-1 text-xs bg-secondary hover:bg-secondary-hover rounded-md flex items-center gap-1",children:[h.jsx(He,{className:"w-3 h-3"})," Link"]})]}),S.length>0||T.length>0?h.jsxs("ul",{className:"space-y-1",children:[S.map(z=>h.jsxs("li",{className:"group flex items-center justify-between p-2 bg-background/30 rounded-lg text-sm",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4 text-text-tertiary"})," ",z.title]}),h.jsx("button",{onClick:()=>R("note",z.id),className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-destructive",children:h.jsx(Lt,{className:"w-3 h-3"})})]},z.id)),T.map(z=>h.jsxs("li",{className:"group flex items-center justify-between p-2 bg-background/30 rounded-lg text-sm",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(vt,{className:"w-4 h-4 text-text-tertiary"})," ",z.title]}),h.jsx("button",{onClick:()=>R("resource",z.id),className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-destructive",children:h.jsx(Lt,{className:"w-3 h-3"})})]},z.id))]}):h.jsx("p",{className:"text-xs text-text-tertiary text-center p-2 border-2 border-dashed border-outline-dark rounded-lg",children:"No items linked. Link notes or resources for context."})]})]}),h.jsxs("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0 flex justify-between items-center",children:[h.jsxs("button",{type:"button",onClick:()=>a(l.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-destructive bg-destructive/20 hover:bg-destructive/30 transition-colors rounded-lg",children:[h.jsx(Lo,{className:"w-4 h-4"}),"Delete"]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save & Close"})]})]})]})}),h.jsx(dC,{isOpen:j,onClose:()=>E(!1),onLinkItems:B,notes:f,resources:p,existingNoteIds:l.noteIds||[],existingResourceIds:l.resourceIds||[]})]}):null},pC=pe.memo(hC),gC={High:"bg-priority-high",Medium:"bg-priority-medium",Low:"bg-priority-low"},mC=({tasks:e,projects:n,onNavigate:r})=>{const[i,o]=W.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=W.useMemo(()=>{const v=new Map;return e.forEach(x=>{if(x.dueDate){const y=new Date(x.dueDate).toISOString().split("T")[0];v.has(y)||v.set(y,[]),v.get(y).push(x)}}),v},[e]),s=new Date(i.getFullYear(),i.getMonth(),1),u=new Date(i.getFullYear(),i.getMonth()+1,0),f=new Date(s);f.setDate(f.getDate()-f.getDay());const p=new Date(u);p.setDate(p.getDate()+(6-p.getDay()));const c=[];let d=new Date(f);for(;d<=p;)c.push(new Date(d)),d.setDate(d.getDate()+1);const g=new Date;g.setHours(0,0,0,0);const b=()=>{o(new Date(i.getFullYear(),i.getMonth()-1,1))},w=()=>{o(new Date(i.getFullYear(),i.getMonth()+1,1))},_=()=>{o(new Date)},m=v=>{v.projectId&&r("projects",v.projectId)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("header",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:i.toLocaleString("default",{month:"long",year:"numeric"})}),h.jsx("p",{className:"text-text-secondary",children:"A monthly overview of your tasks."})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:_,className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-lg active:scale-95",children:"Today"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("button",{onClick:b,className:"p-2 text-text-secondary hover:bg-neutral rounded-full",children:h.jsx(dx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:w,className:"p-2 text-text-secondary hover:bg-neutral rounded-full",children:h.jsx(hx,{className:"w-5 h-5"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-7 gap-px text-center text-sm font-semibold text-text-secondary bg-outline-dark border border-outline-dark rounded-t-lg overflow-hidden",children:a.map(v=>h.jsxs("div",{className:"py-2 bg-surface",children:[h.jsx("span",{className:"hidden sm:inline",children:v}),h.jsx("span",{className:"sm:hidden",children:v.charAt(0)})]},v))}),h.jsx("div",{className:"grid grid-cols-7 grid-rows-6 gap-px flex-1 bg-outline-dark border-l border-r border-b border-outline-dark rounded-b-lg overflow-hidden",children:c.map(v=>{const x=v.toISOString().split("T")[0],y=l.get(x)||[],k=v.getTime()===g.getTime(),N=v.getMonth()===i.getMonth();return h.jsxs("div",{className:`relative p-2 bg-surface flex flex-col ${N?"":"bg-background/30"}`,children:[h.jsx("span",{className:`absolute top-2 right-2 text-xs font-bold ${k?"bg-accent text-accent-content rounded-full w-6 h-6 flex items-center justify-center":"text-text-secondary"}`,children:v.getDate()}),h.jsx("div",{className:"mt-8 space-y-1 overflow-y-auto custom-scrollbar -mr-2 pr-2",children:y.map(j=>h.jsx("button",{onClick:()=>m(j),className:`w-full text-left p-1.5 rounded-md text-xs font-semibold ${gC[j.priority||"Low"]||"bg-secondary"}`,children:h.jsx("p",{className:"truncate text-white",children:j.title})},j.id))})]},x)})})]})},vC=pe.memo(mC),yC=({isOpen:e,onClose:n,onConfirm:r,title:i,message:o,confirmLabel:a="Confirm"})=>{if(!e)return null;const l=()=>{r(),n()};return h.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:h.jsxs("div",{className:"bg-surface/90 backdrop-blur-xl w-full max-w-md border border-outline rounded-2xl shadow-lg animate-pop-in",onClick:s=>s.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark",children:[h.jsx("h2",{id:"confirm-modal-title",className:"text-xl font-bold font-heading",children:i}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{className:"text-text-secondary whitespace-pre-wrap",children:o})}),h.jsxs("footer",{className:"p-4 bg-black/5 border-t border-outline-dark flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium bg-destructive hover:bg-destructive-hover text-destructive-content transition-colors rounded-lg",children:a})]})]})})},xC=pe.memo(yC),bC=()=>{const{state:e,dispatch:n}=xi(),{areas:r,projects:i,tasks:o,notes:a,resources:l}=e,{state:s,dispatch:u}=Ll(),{currentView:f,activeAreaId:p,activeProjectId:c,isCaptureModalOpen:d,captureContext:g,editingNoteId:b,editingResourceId:w,editingTaskId:_,organizingItem:m,searchQuery:v,isCommandBarOpen:x,toastMessage:y,linkingTask:k,confirmModal:N,isFocusMode:j,isMobileSidebarOpen:E}=s,C=W.useCallback((Q=null)=>{u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!0,context:Q}})},[u]),S=W.useCallback(()=>{u({type:"TOGGLE_MOBILE_SIDEBAR"})},[u]);W.useEffect(()=>{const Q=Y=>{const be=Y.target,me=["INPUT","TEXTAREA"].includes(be.tagName)||be.isContentEditable;if(Y.key==="Escape"){N?u({type:"CLOSE_CONFIRM_MODAL"}):x?u({type:"SET_COMMAND_BAR_OPEN",payload:!1}):E?u({type:"TOGGLE_MOBILE_SIDEBAR"}):d?u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!1}}):b?u({type:"SET_EDITING_NOTE",payload:null}):_?u({type:"SET_EDITING_TASK",payload:null}):w?u({type:"SET_EDITING_RESOURCE",payload:null}):m?u({type:"SET_ORGANIZING_ITEM",payload:null}):k?u({type:"SET_LINKING_TASK",payload:null}):j?u({type:"TOGGLE_FOCUS_MODE"}):me&&be.blur();return}me||((Y.metaKey||Y.ctrlKey)&&Y.key==="k"?(Y.preventDefault(),u({type:"SET_COMMAND_BAR_OPEN",payload:!x})):Y.key==="c"&&!Y.metaKey&&!Y.ctrlKey?(Y.preventDefault(),u({type:"SET_COMMAND_BAR_OPEN",payload:!0})):Y.key==="n"&&!Y.metaKey&&!Y.ctrlKey?(Y.preventDefault(),C({parentId:null,itemType:"note"})):Y.key==="t"&&!Y.metaKey&&!Y.ctrlKey&&(Y.preventDefault(),C({parentId:null,itemType:"task"})))};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[x,d,b,w,_,m,k,N,j,E,u,C]);const T=W.useCallback(Q=>{u({type:"SHOW_TOAST",payload:Q}),setTimeout(()=>u({type:"SHOW_TOAST",payload:null}),3e3)},[u]),O=W.useCallback((Q,Y=null)=>{u({type:"SET_VIEW",payload:{view:Q,itemId:Y}})},[u]),P=W.useCallback(()=>{u({type:"TOGGLE_FOCUS_MODE"})},[u]),A=W.useCallback((Q,Y,be)=>{n({type:"ADD_ITEM",payload:{itemData:Q,itemType:Y,parentId:be}}),d&&u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!1}})},[n,u,d]),R=W.useCallback((Q,Y)=>{n({type:"ADD_ITEM",payload:{itemData:Q,itemType:"task",parentId:Y}}),T("Task created and linked!")},[n,T]),B=W.useCallback((Q,Y)=>{n({type:"ADD_SUBTASK",payload:{parentTaskId:Q,subtaskData:Y}})},[n]),z=W.useCallback((Q,Y)=>{Y==="task"?A({title:Q,isMyDay:!1},"task",null):n({type:"ADD_INBOX_ITEM",payload:{content:Q,type:Y}}),T(`New ${Y} added to Inbox!`)},[n,T,A]),H=W.useCallback(Q=>{n({type:"TOGGLE_TASK",payload:{taskId:Q}})},[n]),D=W.useCallback((Q,Y)=>{n({type:"REORDER_LIST",payload:{listKey:"tasks",sourceId:Q,targetId:Y}})},[n]),M=W.useCallback((Q,Y)=>{n({type:"REPARENT_TASK",payload:{taskId:Q,newParentId:Y}})},[n]),I=W.useCallback((Q,Y)=>{n({type:"UPDATE_TASK",payload:{taskId:Q,updates:Y}})},[n]),F=W.useCallback((Q,Y)=>{n({type:"UPDATE_TASK_STAGE",payload:{taskId:Q,newStage:Y}})},[n]),L=W.useCallback((Q,Y)=>{n({type:"UPDATE_MULTIPLE_TASK_STAGES",payload:{taskIds:Q,newStage:Y}})},[n]),V=W.useCallback((Q,Y)=>{n({type:"UPDATE_ITEM_STATUS",payload:{itemId:Q,status:Y}})},[n]),U=W.useCallback(Q=>V(Q,"archived"),[V]),$=W.useCallback(Q=>V(Q,"active"),[V]),q=W.useCallback(Q=>{const Y=Hn(Q)||"item",be=Y==="task"?"If this is a parent task, its subtasks will not be deleted but will become parentless.":"This action cannot be undone.";u({type:"OPEN_CONFIRM_MODAL",payload:{title:`Delete ${Y}?`,message:`Are you sure you want to permanently delete this ${Y}?

${be}`,onConfirm:()=>n({type:"DELETE_ITEM",payload:{itemId:Q}}),confirmLabel:"Delete"}})},[n,u]),K=W.useCallback((Q,Y,be,me)=>{n({type:"UPDATE_NOTE",payload:{noteId:Q,title:Y,content:be,tags:me}}),u({type:"SET_EDITING_NOTE",payload:null})},[n,u]),Z=W.useCallback(Q=>{const Y=`note-${Date.now()}`;n({type:"DRAFT_FROM_NOTE",payload:{sourceNoteId:Q,newNoteId:Y}}),u({type:"SET_EDITING_NOTE",payload:Y}),T("New draft created from note!")},[n,T,u]),ee=W.useCallback((Q,Y)=>{n({type:"UPDATE_RESOURCE",payload:{resourceId:Q,updates:Y}})},[n]),ne=W.useCallback((Q,Y)=>{n({type:"UPDATE_PROJECT",payload:{projectId:Q,updates:Y}})},[n]),ce=W.useCallback((Q,Y)=>{n({type:"UPDATE_AREA",payload:{areaId:Q,updates:Y}})},[n]),fe=W.useCallback((Q,Y)=>{n({type:"ORGANIZE_ITEM",payload:{itemId:Q,newParentIds:Y}}),u({type:"SET_ORGANIZING_ITEM",payload:null}),T("Item organized!")},[n,u,T]),ge=W.useCallback((Q,Y)=>{n({type:"MARK_REVIEWED",payload:{itemIds:Q,type:Y}})},[n]),ye=W.useCallback(Q=>{Q.id.startsWith("note-")?u({type:"SET_EDITING_NOTE",payload:Q.id}):Q.id.startsWith("res-")?u({type:"SET_EDITING_RESOURCE",payload:Q.id}):Q.id.startsWith("task-")&&u({type:"SET_EDITING_TASK",payload:Q.id})},[u]),Ue=W.useCallback(Q=>{const Y=o.find(be=>be.id===Q);Y&&u({type:"SET_LINKING_TASK",payload:Y})},[o,u]),Pe=W.useCallback((Q,Y)=>{n({type:"ORGANIZE_ITEM",payload:{itemId:Q,newParentIds:[Y]}}),u({type:"SET_LINKING_TASK",payload:null}),T("Task linked to project!")},[n,u,T]),J=W.useCallback(Q=>{if(u({type:"SET_COMMAND_BAR_OPEN",payload:!1}),Q.type==="action"){const Y=Q.id.split("-")[1];C({parentId:null,itemType:Y})}else if(Q.type==="navigation"){const Y=Q.id.split("-")[1];O(Y)}else if(Q.type==="item")switch(Hn(Q.id)){case"area":O("areas",Q.id);break;case"project":O("projects",Q.id);break;case"task":u({type:"SET_EDITING_TASK",payload:Q.id});break;case"note":u({type:"SET_EDITING_NOTE",payload:Q.id});break;case"resource":u({type:"SET_EDITING_RESOURCE",payload:Q.id});break}},[C,O,u]),te=W.useMemo(()=>[...a.filter(Q=>Q.status==="active"&&Q.parentIds.length===0),...l.filter(Q=>Q.status==="active"&&Q.parentIds.length===0),...o.filter(Q=>Q.status==="active"&&Q.projectId===null&&Q.stage!=="Done"&&!Q.isMyDay)].sort((Q,Y)=>new Date(Y.createdAt).getTime()-new Date(Q.createdAt).getTime()),[a,l,o]),ae=()=>{if(v)return h.jsx(iE,{query:v,areas:r,projects:i,tasks:o,notes:a,resources:l,onNavigate:O});switch(f){case"dashboard":case"inbox":return h.jsx(Ax,{projects:i,areas:r,tasks:o,inboxItems:te,onNavigate:O,onToggleTask:H,onOrganizeItem:Y=>u({type:"SET_ORGANIZING_ITEM",payload:Y}),onDirectOrganizeItem:fe,onDeleteItem:q,onSaveNewTask:Y=>A({title:Y,isMyDay:!0},"task",null),onDashboardCapture:z,onSelectItem:ye,onReorderTasks:D,onUpdateTask:I,onOpenLinkTaskModal:Ue,onSelectTask:Y=>u({type:"SET_EDITING_TASK",payload:Y})});case"tasks":return h.jsx(sE,{tasks:o.filter(Y=>Y.status==="active"),projects:i,onToggleTask:H,onSelectTask:Y=>u({type:"SET_EDITING_TASK",payload:Y})});case"projects":return h.jsx(zN,{projects:i.filter(Y=>Y.status==="active"),activeProjectId:c,onSelectProject:Y=>u({type:"SET_ACTIVE_PROJECT",payload:Y}),allTasks:o,tasks:o.filter(Y=>Y.status==="active"),notes:a.filter(Y=>Y.status==="active"),resources:l.filter(Y=>Y.status==="active"),onToggleTask:H,onArchive:U,onDelete:q,onSelectNote:Y=>u({type:"SET_EDITING_NOTE",payload:Y}),onSelectTask:Y=>u({type:"SET_EDITING_TASK",payload:Y}),onUpdateProject:ne,onOpenCaptureModal:C,onSaveNewItem:A,onAddSubtask:B,onReparentTask:M,onUpdateTask:I,onUpdateTaskStage:F,onUpdateMultipleTaskStages:L});case"areas":return h.jsx(GN,{areas:r.filter(Y=>Y.status==="active"),activeAreaId:p,onSelectArea:Y=>u({type:"SET_ACTIVE_AREA",payload:Y}),projects:i.filter(Y=>Y.status==="active"),tasks:o.filter(Y=>Y.status==="active"),notes:a.filter(Y=>Y.status==="active"),resources:l.filter(Y=>Y.status==="active"),onArchive:U,onDelete:q,onSelectNote:Y=>u({type:"SET_EDITING_NOTE",payload:Y}),onUpdateArea:ce,onOpenCaptureModal:C,onNavigate:O,onDirectOrganizeItem:fe,isFocusMode:j,onToggleFocusMode:P});case"resources":return h.jsx(tE,{resources:l.filter(Y=>Y.status==="active"),projects:i,areas:r,onArchive:U,onDelete:q,onOpenCaptureModal:C,onEditResource:Y=>u({type:"SET_EDITING_RESOURCE",payload:Y}),onNavigate:O});case"archives":const Q=[...r,...i,...o,...a,...l];return h.jsx(QN,{items:Q,onRestore:$,onDelete:q});case"graph":return h.jsx(iC,{areas:r.filter(Y=>Y.status==="active"),projects:i.filter(Y=>Y.status==="active"),notes:a.filter(Y=>Y.status==="active"),resources:l.filter(Y=>Y.status==="active"),onNavigate:O});case"review":return h.jsx(cE,{inboxCount:te.length,projects:i.filter(Y=>Y.status==="active"),areas:r.filter(Y=>Y.status==="active"),tasks:o.filter(Y=>Y.status==="active"&&Y.stage!=="Done"),onNavigate:O,onMarkReviewed:ge});case"calendar":return h.jsx(vC,{tasks:o.filter(Y=>Y.status==="active"),projects:i.filter(Y=>Y.status==="active"),onNavigate:O});case"settings":return h.jsx(aC,{});default:return h.jsxs("p",{children:["Unknown view: ",f]})}},le=a.find(Q=>Q.id===b),re=l.find(Q=>Q.id===w),he=o.find(Q=>Q.id===_),X=W.useCallback(Q=>{b&&u({type:"SET_EDITING_NOTE",payload:null}),w&&u({type:"SET_EDITING_RESOURCE",payload:null}),u({type:"SET_EDITING_TASK",payload:Q})},[b,w,u]);return h.jsxs("div",{className:"h-screen w-screen bg-background text-text-primary flex overflow-hidden font-sans",children:[h.jsx("div",{className:`hidden md:block flex-shrink-0 transition-all duration-300 ease-soft ${j?"w-0":"w-80"}`,children:h.jsx("div",{className:`h-full overflow-hidden p-4 ${j?"opacity-0 pointer-events-none":"opacity-100"}`,children:h.jsx(qd,{onNavigate:O,inboxCount:te.length})})}),h.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-opacity duration-300 ${E?"opacity-100":"opacity-0 pointer-events-none"}`,children:[h.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:S}),h.jsx("div",{className:`relative h-full w-72 bg-surface/80 backdrop-blur-xl border-r border-outline transition-transform duration-300 ${E?"translate-x-0":"-translate-x-full"}`,children:h.jsx(qd,{onNavigate:O,inboxCount:te.length,isMobile:!0})})]}),h.jsxs("main",{className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("button",{onClick:S,className:"p-2 -ml-2 text-text-secondary",children:h.jsx(px,{className:"w-6 h-6"})}),h.jsx("h1",{className:"text-lg font-bold capitalize",children:f}),h.jsx("button",{onClick:()=>u({type:"SET_COMMAND_BAR_OPEN",payload:!0}),className:"p-2 -mr-2 text-text-secondary","aria-label":"Open command bar",children:h.jsx(He,{className:"w-6 h-6"})})]}),h.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${j?"p-6 md:p-8":"p-4 md:p-6"}`,children:ae()})]}),h.jsxs("button",{onClick:()=>u({type:"SET_COMMAND_BAR_OPEN",payload:!0}),className:"hidden md:flex absolute bottom-8 right-8 bg-accent hover:bg-accent-hover text-accent-content p-4 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-accent-hover transition-transform duration-300 ease-soft active:scale-95","aria-label":"Open command bar",children:[h.jsx(He,{className:"w-6 h-6"}),h.jsx("span",{className:"sr-only",children:"Open command bar"})]}),y&&h.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-surface backdrop-blur-xl border border-outline px-6 py-3 rounded-xl shadow-lg text-sm text-text-primary animate-fade-in-out",children:y}),x&&h.jsx(sC,{isOpen:x,onClose:()=>u({type:"SET_COMMAND_BAR_OPEN",payload:!1}),onCommand:J,areas:r,projects:i,notes:a,resources:l,tasks:o}),d&&h.jsx(Px,{isOpen:d,onClose:()=>u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!1}}),onSave:A,projects:i,areas:r,context:g}),le&&h.jsx(mN,{isOpen:!!le,onClose:()=>u({type:"SET_EDITING_NOTE",payload:null}),note:le,onSave:K,onDraftFromNote:Z,onSaveNewItem:R,projects:i,areas:r,allNotes:a,allTasks:o,onSelectTask:X}),re&&h.jsx(yN,{isOpen:!!re,onClose:()=>u({type:"SET_EDITING_RESOURCE",payload:null}),resource:re,onSave:ee,allTasks:o,onSelectTask:X,onArchive:U,onDelete:q}),he&&h.jsx(pC,{isOpen:!!he,onClose:()=>u({type:"SET_EDITING_TASK",payload:null}),task:he,onSave:I,onAddSubtask:B,onToggleSubtask:H,onDelete:q,allTasks:o,projects:i,notes:a,resources:l}),m&&h.jsx(aE,{isOpen:!!m,onClose:()=>u({type:"SET_ORGANIZING_ITEM",payload:null}),item:m,projects:i,areas:r,onSave:fe}),k&&h.jsx(cC,{isOpen:!!k,onClose:()=>u({type:"SET_LINKING_TASK",payload:null}),onLink:Pe,taskToLink:k,projects:i}),N&&h.jsx(xC,{isOpen:!!N,onClose:()=>u({type:"CLOSE_CONFIRM_MODAL"}),onConfirm:N.onConfirm,title:N.title,message:N.message,confirmLabel:N.confirmLabel})]})},Oy=document.getElementById("root");if(!Oy)throw new Error("Could not find root element to mount to");const _C=Us.createRoot(Oy);_C.render(h.jsx(pe.StrictMode,{children:h.jsx(DN,{children:h.jsx(vx,{children:h.jsx(bC,{})})})}));
