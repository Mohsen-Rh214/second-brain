(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ep={exports:{}},bl={},Sp={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),Oy=Symbol.for("react.portal"),Ay=Symbol.for("react.fragment"),Cy=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Dy=Symbol.for("react.context"),My=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Ly=Symbol.for("react.memo"),$y=Symbol.for("react.lazy"),Pf=Symbol.iterator;function zy(e){return e===null||typeof e!="object"?null:(e=Pf&&e[Pf]||e["@@iterator"],typeof e=="function"?e:null)}var Tp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Op=Object.assign,Ap={};function ci(e,n,r){this.props=e,this.context=n,this.refs=Ap,this.updater=r||Tp}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cp(){}Cp.prototype=ci.prototype;function uc(e,n,r){this.props=e,this.context=n,this.refs=Ap,this.updater=r||Tp}var cc=uc.prototype=new Cp;cc.constructor=uc;Op(cc,ci.prototype);cc.isPureReactComponent=!0;var Df=Array.isArray,Ip=Object.prototype.hasOwnProperty,fc={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,n,r){var i,o={},a=null,l=null;if(n!=null)for(i in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(a=""+n.key),n)Ip.call(n,i)&&!Pp.hasOwnProperty(i)&&(o[i]=n[i]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var u=Array(s),f=0;f<s;f++)u[f]=arguments[f+2];o.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return{$$typeof:Io,type:e,key:a,ref:l,props:o,_owner:fc.current}}function Fy(e,n){return{$$typeof:Io,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function dc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Io}function Uy(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var Mf=/\/+/g;function es(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Uy(""+e.key):n.toString(36)}function ma(e,n,r,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Io:case Oy:l=!0}}if(l)return l=e,o=o(l),e=i===""?"."+es(l,0):i,Df(o)?(r="",e!=null&&(r=e.replace(Mf,"$&/")+"/"),ma(o,n,r,"",function(f){return f})):o!=null&&(dc(o)&&(o=Fy(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Mf,"$&/")+"/")+e)),n.push(o)),1;if(l=0,i=i===""?".":i+":",Df(e))for(var s=0;s<e.length;s++){a=e[s];var u=i+es(a,s);l+=ma(a,n,r,u,o)}else if(u=zy(e),typeof u=="function")for(e=u.call(e),s=0;!(a=e.next()).done;)a=a.value,u=i+es(a,s++),l+=ma(a,n,r,u,o);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function qo(e,n,r){if(e==null)return e;var i=[],o=0;return ma(e,i,"","",function(a){return n.call(r,a,o++)}),i}function By(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},va={transition:null},qy={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:va,ReactCurrentOwner:fc};function Mp(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:qo,forEach:function(e,n,r){qo(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return qo(e,function(){n++}),n},toArray:function(e){return qo(e,function(n){return n})||[]},only:function(e){if(!dc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=ci;me.Fragment=Ay;me.Profiler=Iy;me.PureComponent=uc;me.StrictMode=Cy;me.Suspense=Ry;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;me.act=Mp;me.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Op({},e.props),o=e.key,a=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,l=fc.current),n.key!==void 0&&(o=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in n)Ip.call(n,u)&&!Pp.hasOwnProperty(u)&&(i[u]=n[u]===void 0&&s!==void 0?s[u]:n[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){s=Array(u);for(var f=0;f<u;f++)s[f]=arguments[f+2];i.children=s}return{$$typeof:Io,type:e.type,key:o,ref:a,props:i,_owner:l}};me.createContext=function(e){return e={$$typeof:Dy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Py,_context:e},e.Consumer=e};me.createElement=Dp;me.createFactory=function(e){var n=Dp.bind(null,e);return n.type=e,n};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:My,render:e}};me.isValidElement=dc;me.lazy=function(e){return{$$typeof:$y,_payload:{_status:-1,_result:e},_init:By}};me.memo=function(e,n){return{$$typeof:Ly,type:e,compare:n===void 0?null:n}};me.startTransition=function(e){var n=va.transition;va.transition={};try{e()}finally{va.transition=n}};me.unstable_act=Mp;me.useCallback=function(e,n){return ot.current.useCallback(e,n)};me.useContext=function(e){return ot.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};me.useEffect=function(e,n){return ot.current.useEffect(e,n)};me.useId=function(){return ot.current.useId()};me.useImperativeHandle=function(e,n,r){return ot.current.useImperativeHandle(e,n,r)};me.useInsertionEffect=function(e,n){return ot.current.useInsertionEffect(e,n)};me.useLayoutEffect=function(e,n){return ot.current.useLayoutEffect(e,n)};me.useMemo=function(e,n){return ot.current.useMemo(e,n)};me.useReducer=function(e,n,r){return ot.current.useReducer(e,n,r)};me.useRef=function(e){return ot.current.useRef(e)};me.useState=function(e){return ot.current.useState(e)};me.useSyncExternalStore=function(e,n,r){return ot.current.useSyncExternalStore(e,n,r)};me.useTransition=function(){return ot.current.useTransition()};me.version="18.3.1";Sp.exports=me;var G=Sp.exports;const he=sc(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy=G,Vy=Symbol.for("react.element"),Wy=Symbol.for("react.fragment"),Gy=Object.prototype.hasOwnProperty,Ky=Hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yy={key:!0,ref:!0,__self:!0,__source:!0};function Rp(e,n,r){var i,o={},a=null,l=null;r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(l=n.ref);for(i in n)Gy.call(n,i)&&!Yy.hasOwnProperty(i)&&(o[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)o[i]===void 0&&(o[i]=n[i]);return{$$typeof:Vy,type:e,key:a,ref:l,props:o,_owner:Ky.current}}bl.Fragment=Wy;bl.jsx=Rp;bl.jsxs=Rp;Ep.exports=bl;var h=Ep.exports,Bs={},Lp={exports:{}},Et={},$p={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(H,D){var M=H.length;H.push(D);e:for(;0<M;){var I=M-1>>>1,F=H[I];if(0<o(F,D))H[I]=D,H[M]=F,M=I;else break e}}function r(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var D=H[0],M=H.pop();if(M!==D){H[0]=M;e:for(var I=0,F=H.length,R=F>>>1;I<R;){var W=2*(I+1)-1,B=H[W],$=W+1,V=H[$];if(0>o(B,M))$<F&&0>o(V,B)?(H[I]=V,H[$]=M,I=$):(H[I]=B,H[W]=M,I=W);else if($<F&&0>o(V,M))H[I]=V,H[$]=M,I=$;else break e}}return D}function o(H,D){var M=H.sortIndex-D.sortIndex;return M!==0?M:H.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var u=[],f=[],p=1,c=null,d=3,m=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var D=r(f);D!==null;){if(D.callback===null)i(f);else if(D.startTime<=H)i(f),D.sortIndex=D.expirationTime,n(u,D);else break;D=r(f)}}function y(H){if(w=!1,x(H),!b)if(r(u)!==null)b=!0,U(k);else{var D=r(f);D!==null&&z(y,D.startTime-H)}}function k(H,D){b=!1,w&&(w=!1,g(E),E=-1),m=!0;var M=d;try{for(x(D),c=r(u);c!==null&&(!(c.expirationTime>D)||H&&!T());){var I=c.callback;if(typeof I=="function"){c.callback=null,d=c.priorityLevel;var F=I(c.expirationTime<=D);D=e.unstable_now(),typeof F=="function"?c.callback=F:c===r(u)&&i(u),x(D)}else i(u);c=r(u)}if(c!==null)var R=!0;else{var W=r(f);W!==null&&z(y,W.startTime-D),R=!1}return R}finally{c=null,d=M,m=!1}}var N=!1,j=null,E=-1,C=5,S=-1;function T(){return!(e.unstable_now()-S<C)}function O(){if(j!==null){var H=e.unstable_now();S=H;var D=!0;try{D=j(!0,H)}finally{D?P():(N=!1,j=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=O,P=function(){L.postMessage(null)}}else P=function(){_(O,0)};function U(H){j=H,N||(N=!0,P())}function z(H,D){E=_(function(){H(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,U(k))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(H){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var M=d;d=D;try{return H()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,D){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var M=d;d=H;try{return D()}finally{d=M}},e.unstable_scheduleCallback=function(H,D,M){var I=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,H={id:p++,callback:D,priorityLevel:H,startTime:M,expirationTime:F,sortIndex:-1},M>I?(H.sortIndex=M,n(f,H),r(u)===null&&H===r(f)&&(w?(g(E),E=-1):w=!0,z(y,M-I))):(H.sortIndex=F,n(u,H),b||m||(b=!0,U(k))),H},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(H){var D=d;return function(){var M=d;d=D;try{return H.apply(this,arguments)}finally{d=M}}}})(zp);$p.exports=zp;var Qy=$p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=G,jt=Qy;function re(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fp=new Set,ao={};function Sr(e,n){Jr(e,n),Jr(e+"Capture",n)}function Jr(e,n){for(ao[e]=n,e=0;e<n.length;e++)Fp.add(n[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=Object.prototype.hasOwnProperty,Xy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rf={},Lf={};function Jy(e){return qs.call(Lf,e)?!0:qs.call(Rf,e)?!1:Xy.test(e)?Lf[e]=!0:(Rf[e]=!0,!1)}function e0(e,n,r,i){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t0(e,n,r,i){if(n===null||typeof n>"u"||e0(e,n,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function at(e,n,r,i,o,a,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ke[n]=new at(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var hc=/[\-:]([a-z])/g;function pc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(hc,pc);Ke[n]=new at(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(hc,pc);Ke[n]=new at(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(hc,pc);Ke[n]=new at(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function gc(e,n,r,i){var o=Ke.hasOwnProperty(n)?Ke[n]:null;(o!==null?o.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(t0(n,r,o,i)&&(r=null),i||o===null?Jy(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(n=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(n):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,n,r):e.setAttribute(n,r))))}var An=Zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Hs=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Bp=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),Vs=Symbol.for("react.suspense"),Ws=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),qp=Symbol.for("react.offscreen"),$f=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=$f&&e[$f]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,ts;function Fi(e){if(ts===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||""}return`
`+ts+e}var ns=!1;function rs(e,n){if(!e||ns)return"";ns=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var i=f}Reflect.construct(e,[],n)}else{try{n.call()}catch(f){i=f}e.call(n.prototype)}else{try{throw Error()}catch(f){i=f}e()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),a=i.stack.split(`
`),l=o.length-1,s=a.length-1;1<=l&&0<=s&&o[l]!==a[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==a[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==a[s]){var u=`
`+o[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=s);break}}}finally{ns=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fi(e):""}function n0(e){switch(e.tag){case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 2:case 15:return e=rs(e.type,!1),e;case 11:return e=rs(e.type.render,!1),e;case 1:return e=rs(e.type,!0),e;default:return""}}function Gs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Pr:return"Portal";case Hs:return"Profiler";case mc:return"StrictMode";case Vs:return"Suspense";case Ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case vc:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yc:return n=e.displayName||null,n!==null?n:Gs(e.type)||"Memo";case Ln:n=e._payload,e=e._init;try{return Gs(e(n))}catch{}}return null}function r0(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gs(n);case 8:return n===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function i0(e){var n=Hp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vo(e){e._valueTracker||(e._valueTracker=i0(e))}function Vp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=Hp(e)?e.checked?"true":"false":e.value),e=i,e!==r?(n.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ks(e,n){var r=n.checked;return Me({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zf(e,n){var r=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;r=er(n.value!=null?n.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Wp(e,n){n=n.checked,n!=null&&gc(e,"checked",n,!1)}function Ys(e,n){Wp(e,n);var r=er(n.value),i=n.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qs(e,n.type,r):n.hasOwnProperty("defaultValue")&&Qs(e,n.type,er(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ff(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qs(e,n,r){(n!=="number"||Pa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ui=Array.isArray;function Vr(e,n,r,i){if(e=e.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=n.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+er(r),n=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function Zs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(re(91));return Me({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uf(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(re(92));if(Ui(r)){if(1<r.length)throw Error(re(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:er(r)}}function Gp(e,n){var r=er(n.value),i=er(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Bf(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xs(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Kp(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(n,r,i,o)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function lo(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o0=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){o0.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ki[n]=Ki[e]})});function Qp(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+n).trim():n+"px"}function Zp(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=Qp(r,n[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var a0=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(e,n){if(n){if(a0[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(re(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(re(61))}if(n.style!=null&&typeof n.style!="object")throw Error(re(62))}}function eu(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nu=null,Wr=null,Gr=null;function qf(e){if(e=Mo(e)){if(typeof nu!="function")throw Error(re(280));var n=e.stateNode;n&&(n=Nl(n),nu(e.stateNode,e.type,n))}}function Xp(e){Wr?Gr?Gr.push(e):Gr=[e]:Wr=e}function Jp(){if(Wr){var e=Wr,n=Gr;if(Gr=Wr=null,qf(e),n)for(e=0;e<n.length;e++)qf(n[e])}}function eg(e,n){return e(n)}function tg(){}var is=!1;function ng(e,n,r){if(is)return e(n,r);is=!0;try{return eg(e,n,r)}finally{is=!1,(Wr!==null||Gr!==null)&&(tg(),Jp())}}function so(e,n){var r=e.stateNode;if(r===null)return null;var i=Nl(r);if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,n,typeof r));return r}var ru=!1;if(Nn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){ru=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{ru=!1}function l0(e,n,r,i,o,a,l,s,u){var f=Array.prototype.slice.call(arguments,3);try{n.apply(r,f)}catch(p){this.onError(p)}}var Yi=!1,Da=null,Ma=!1,iu=null,s0={onError:function(e){Yi=!0,Da=e}};function u0(e,n,r,i,o,a,l,s,u){Yi=!1,Da=null,l0.apply(s0,arguments)}function c0(e,n,r,i,o,a,l,s,u){if(u0.apply(this,arguments),Yi){if(Yi){var f=Da;Yi=!1,Da=null}else throw Error(re(198));Ma||(Ma=!0,iu=f)}}function Tr(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function rg(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Hf(e){if(Tr(e)!==e)throw Error(re(188))}function f0(e){var n=e.alternate;if(!n){if(n=Tr(e),n===null)throw Error(re(188));return n!==e?null:e}for(var r=e,i=n;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Hf(o),e;if(a===i)return Hf(o),n;a=a.sibling}throw Error(re(188))}if(r.return!==i.return)r=o,i=a;else{for(var l=!1,s=o.child;s;){if(s===r){l=!0,r=o,i=a;break}if(s===i){l=!0,i=o,r=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===r){l=!0,r=a,i=o;break}if(s===i){l=!0,i=a,r=o;break}s=s.sibling}if(!l)throw Error(re(189))}}if(r.alternate!==i)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:n}function ig(e){return e=f0(e),e!==null?og(e):null}function og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=og(e);if(n!==null)return n;e=e.sibling}return null}var ag=jt.unstable_scheduleCallback,Vf=jt.unstable_cancelCallback,d0=jt.unstable_shouldYield,h0=jt.unstable_requestPaint,Le=jt.unstable_now,p0=jt.unstable_getCurrentPriorityLevel,bc=jt.unstable_ImmediatePriority,lg=jt.unstable_UserBlockingPriority,Ra=jt.unstable_NormalPriority,g0=jt.unstable_LowPriority,sg=jt.unstable_IdlePriority,_l=null,ln=null;function m0(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:x0,v0=Math.log,y0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(v0(e)/y0|0)|0}var Go=64,Ko=4194304;function Bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var s=l&~o;s!==0?i=Bi(s):(a&=l,a!==0&&(i=Bi(a)))}else l=r&~o,l!==0?i=Bi(l):a!==0&&(i=Bi(a));if(i===0)return 0;if(n!==0&&n!==i&&!(n&o)&&(o=i&-i,a=n&-n,o>=a||o===16&&(a&4194240)!==0))return n;if(i&4&&(i|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)r=31-Kt(n),o=1<<r,i|=e[r],n&=~o;return i}function b0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _0(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Kt(a),s=1<<l,u=o[l];u===-1?(!(s&r)||s&i)&&(o[l]=b0(s,n)):u<=n&&(e.expiredLanes|=s),a&=~s}}function ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ug(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function os(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Po(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Kt(n),e[n]=r}function w0(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Kt(r),a=1<<o;n[o]=0,i[o]=-1,e[o]=-1,r&=~a}}function _c(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-Kt(r),o=1<<i;o&n|e[i]&n&&(e[i]|=n),r&=~o}}var _e=0;function cg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fg,wc,dg,hg,pg,au=!1,Yo=[],Vn=null,Wn=null,Gn=null,uo=new Map,co=new Map,Fn=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ji(e,n,r,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},n!==null&&(n=Mo(n),n!==null&&wc(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function j0(e,n,r,i,o){switch(n){case"focusin":return Vn=ji(Vn,e,n,r,i,o),!0;case"dragenter":return Wn=ji(Wn,e,n,r,i,o),!0;case"mouseover":return Gn=ji(Gn,e,n,r,i,o),!0;case"pointerover":var a=o.pointerId;return uo.set(a,ji(uo.get(a)||null,e,n,r,i,o)),!0;case"gotpointercapture":return a=o.pointerId,co.set(a,ji(co.get(a)||null,e,n,r,i,o)),!0}return!1}function gg(e){var n=fr(e.target);if(n!==null){var r=Tr(n);if(r!==null){if(n=r.tag,n===13){if(n=rg(r),n!==null){e.blockedOn=n,pg(e.priority,function(){dg(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=lu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);tu=i,r.target.dispatchEvent(i),tu=null}else return n=Mo(r),n!==null&&wc(n),e.blockedOn=r,!1;n.shift()}return!0}function Gf(e,n,r){ya(e)&&r.delete(n)}function N0(){au=!1,Vn!==null&&ya(Vn)&&(Vn=null),Wn!==null&&ya(Wn)&&(Wn=null),Gn!==null&&ya(Gn)&&(Gn=null),uo.forEach(Gf),co.forEach(Gf)}function Ni(e,n){e.blockedOn===n&&(e.blockedOn=null,au||(au=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,N0)))}function fo(e){function n(o){return Ni(o,e)}if(0<Yo.length){Ni(Yo[0],e);for(var r=1;r<Yo.length;r++){var i=Yo[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Vn!==null&&Ni(Vn,e),Wn!==null&&Ni(Wn,e),Gn!==null&&Ni(Gn,e),uo.forEach(n),co.forEach(n),r=0;r<Fn.length;r++)i=Fn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Fn.length&&(r=Fn[0],r.blockedOn===null);)gg(r),r.blockedOn===null&&Fn.shift()}var Kr=An.ReactCurrentBatchConfig,$a=!0;function E0(e,n,r,i){var o=_e,a=Kr.transition;Kr.transition=null;try{_e=1,kc(e,n,r,i)}finally{_e=o,Kr.transition=a}}function S0(e,n,r,i){var o=_e,a=Kr.transition;Kr.transition=null;try{_e=4,kc(e,n,r,i)}finally{_e=o,Kr.transition=a}}function kc(e,n,r,i){if($a){var o=lu(e,n,r,i);if(o===null)gs(e,n,i,za,r),Wf(e,i);else if(j0(o,e,n,r,i))i.stopPropagation();else if(Wf(e,i),n&4&&-1<k0.indexOf(e)){for(;o!==null;){var a=Mo(o);if(a!==null&&fg(a),a=lu(e,n,r,i),a===null&&gs(e,n,i,za,r),a===o)break;o=a}o!==null&&i.stopPropagation()}else gs(e,n,i,null,r)}}var za=null;function lu(e,n,r,i){if(za=null,e=xc(i),e=fr(e),e!==null)if(n=Tr(e),n===null)e=null;else if(r=n.tag,r===13){if(e=rg(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return za=e,null}function mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p0()){case bc:return 1;case lg:return 4;case Ra:case g0:return 16;case sg:return 536870912;default:return 16}default:return 16}}var Bn=null,jc=null,xa=null;function vg(){if(xa)return xa;var e,n=jc,r=n.length,i,o="value"in Bn?Bn.value:Bn.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(i=1;i<=l&&n[r-i]===o[a-i];i++);return xa=o.slice(e,1<i?1-i:void 0)}function ba(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function Kf(){return!1}function St(e){function n(r,i,o,a,l){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qo:Kf,this.isPropagationStopped=Kf,this}return Me(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),n}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=St(fi),Do=Me({},fi,{view:0,detail:0}),T0=St(Do),as,ls,Ei,wl=Me({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(as=e.screenX-Ei.screenX,ls=e.screenY-Ei.screenY):ls=as=0,Ei=e),as)},movementY:function(e){return"movementY"in e?e.movementY:ls}}),Yf=St(wl),O0=Me({},wl,{dataTransfer:0}),A0=St(O0),C0=Me({},Do,{relatedTarget:0}),ss=St(C0),I0=Me({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=St(I0),D0=Me({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M0=St(D0),R0=Me({},fi,{data:0}),Qf=St(R0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=z0[e])?!!n[e]:!1}function Ec(){return F0}var U0=Me({},Do,{key:function(e){if(e.key){var n=L0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B0=St(U0),q0=Me({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=St(q0),H0=Me({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),V0=St(H0),W0=Me({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),G0=St(W0),K0=Me({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=St(K0),Q0=[9,13,27,32],Sc=Nn&&"CompositionEvent"in window,Qi=null;Nn&&"documentMode"in document&&(Qi=document.documentMode);var Z0=Nn&&"TextEvent"in window&&!Qi,yg=Nn&&(!Sc||Qi&&8<Qi&&11>=Qi),Xf=" ",Jf=!1;function xg(e,n){switch(e){case"keyup":return Q0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function X0(e,n){switch(e){case"compositionend":return bg(n);case"keypress":return n.which!==32?null:(Jf=!0,Xf);case"textInput":return e=n.data,e===Xf&&Jf?null:e;default:return null}}function J0(e,n){if(Mr)return e==="compositionend"||!Sc&&xg(e,n)?(e=vg(),xa=jc=Bn=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yg&&n.locale!=="ko"?null:n.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!e1[e.type]:n==="textarea"}function _g(e,n,r,i){Xp(i),n=Fa(n,"onChange"),0<n.length&&(r=new Nc("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var Zi=null,ho=null;function t1(e){Ig(e,0)}function kl(e){var n=$r(e);if(Vp(n))return e}function n1(e,n){if(e==="change")return n}var wg=!1;if(Nn){var us;if(Nn){var cs="oninput"in document;if(!cs){var td=document.createElement("div");td.setAttribute("oninput","return;"),cs=typeof td.oninput=="function"}us=cs}else us=!1;wg=us&&(!document.documentMode||9<document.documentMode)}function nd(){Zi&&(Zi.detachEvent("onpropertychange",kg),ho=Zi=null)}function kg(e){if(e.propertyName==="value"&&kl(ho)){var n=[];_g(n,ho,e,xc(e)),ng(t1,n)}}function r1(e,n,r){e==="focusin"?(nd(),Zi=n,ho=r,Zi.attachEvent("onpropertychange",kg)):e==="focusout"&&nd()}function i1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(ho)}function o1(e,n){if(e==="click")return kl(n)}function a1(e,n){if(e==="input"||e==="change")return kl(n)}function l1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Qt=typeof Object.is=="function"?Object.is:l1;function po(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!qs.call(n,o)||!Qt(e[o],n[o]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,n){var r=rd(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=n&&i>=n)return{node:r,offset:n-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rd(r)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ng(){for(var e=window,n=Pa();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Pa(e.document)}return n}function Tc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function s1(e){var n=Ng(),r=e.focusedElem,i=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&jg(r.ownerDocument.documentElement,r)){if(i!==null&&Tc(r)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=id(r,a);var l=id(r,i);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u1=Nn&&"documentMode"in document&&11>=document.documentMode,Rr=null,su=null,Xi=null,uu=!1;function od(e,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uu||Rr==null||Rr!==Pa(i)||(i=Rr,"selectionStart"in i&&Tc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xi&&po(Xi,i)||(Xi=i,i=Fa(su,"onSelect"),0<i.length&&(n=new Nc("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=Rr)))}function Zo(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Lr={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},fs={},Eg={};Nn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function jl(e){if(fs[e])return fs[e];if(!Lr[e])return e;var n=Lr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Eg)return fs[e]=n[r];return e}var Sg=jl("animationend"),Tg=jl("animationiteration"),Og=jl("animationstart"),Ag=jl("transitionend"),Cg=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,n){Cg.set(e,n),Sr(n,[e])}for(var ds=0;ds<ad.length;ds++){var hs=ad[ds],c1=hs.toLowerCase(),f1=hs[0].toUpperCase()+hs.slice(1);rr(c1,"on"+f1)}rr(Sg,"onAnimationEnd");rr(Tg,"onAnimationIteration");rr(Og,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Ag,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function ld(e,n,r){var i=e.type||"unknown-event";e.currentTarget=r,c0(i,n,void 0,e),e.currentTarget=null}function Ig(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var a=void 0;if(n)for(var l=i.length-1;0<=l;l--){var s=i[l],u=s.instance,f=s.currentTarget;if(s=s.listener,u!==a&&o.isPropagationStopped())break e;ld(o,s,f),a=u}else for(l=0;l<i.length;l++){if(s=i[l],u=s.instance,f=s.currentTarget,s=s.listener,u!==a&&o.isPropagationStopped())break e;ld(o,s,f),a=u}}}if(Ma)throw e=iu,Ma=!1,iu=null,e}function Ne(e,n){var r=n[pu];r===void 0&&(r=n[pu]=new Set);var i=e+"__bubble";r.has(i)||(Pg(n,e,2,!1),r.add(i))}function ps(e,n,r){var i=0;n&&(i|=4),Pg(r,e,i,n)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function go(e){if(!e[Xo]){e[Xo]=!0,Fp.forEach(function(r){r!=="selectionchange"&&(d1.has(r)||ps(r,!1,e),ps(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xo]||(n[Xo]=!0,ps("selectionchange",!1,n))}}function Pg(e,n,r,i){switch(mg(n)){case 1:var o=E0;break;case 4:o=S0;break;default:o=kc}r=o.bind(null,n,r,e),o=void 0,!ru||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(n,r,{capture:!0,passive:o}):e.addEventListener(n,r,!0):o!==void 0?e.addEventListener(n,r,{passive:o}):e.addEventListener(n,r,!1)}function gs(e,n,r,i,o){var a=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var s=i.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;l=l.return}for(;s!==null;){if(l=fr(s),l===null)return;if(u=l.tag,u===5||u===6){i=a=l;continue e}s=s.parentNode}}i=i.return}ng(function(){var f=a,p=xc(r),c=[];e:{var d=Cg.get(e);if(d!==void 0){var m=Nc,b=e;switch(e){case"keypress":if(ba(r)===0)break e;case"keydown":case"keyup":m=B0;break;case"focusin":b="focus",m=ss;break;case"focusout":b="blur",m=ss;break;case"beforeblur":case"afterblur":m=ss;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=A0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V0;break;case Sg:case Tg:case Og:m=P0;break;case Ag:m=G0;break;case"scroll":m=T0;break;case"wheel":m=Y0;break;case"copy":case"cut":case"paste":m=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zf}var w=(n&4)!==0,_=!w&&e==="scroll",g=w?d!==null?d+"Capture":null:d;w=[];for(var v=f,x;v!==null;){x=v;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,g!==null&&(y=so(v,g),y!=null&&w.push(mo(v,y,x)))),_)break;v=v.return}0<w.length&&(d=new m(d,b,null,r,p),c.push({event:d,listeners:w}))}}if(!(n&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&r!==tu&&(b=r.relatedTarget||r.fromElement)&&(fr(b)||b[En]))break e;if((m||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,m?(b=r.relatedTarget||r.toElement,m=f,b=b?fr(b):null,b!==null&&(_=Tr(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=f),m!==b)){if(w=Yf,y="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Zf,y="onPointerLeave",g="onPointerEnter",v="pointer"),_=m==null?d:$r(m),x=b==null?d:$r(b),d=new w(y,v+"leave",m,r,p),d.target=_,d.relatedTarget=x,y=null,fr(p)===f&&(w=new w(g,v+"enter",b,r,p),w.target=x,w.relatedTarget=_,y=w),_=y,m&&b)t:{for(w=m,g=b,v=0,x=w;x;x=Ar(x))v++;for(x=0,y=g;y;y=Ar(y))x++;for(;0<v-x;)w=Ar(w),v--;for(;0<x-v;)g=Ar(g),x--;for(;v--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ar(w),g=Ar(g)}w=null}else w=null;m!==null&&sd(c,d,m,w,!1),b!==null&&_!==null&&sd(c,_,b,w,!0)}}e:{if(d=f?$r(f):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var k=n1;else if(ed(d))if(wg)k=a1;else{k=i1;var N=r1}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=o1);if(k&&(k=k(e,f))){_g(c,k,r,p);break e}N&&N(e,d,f),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Qs(d,"number",d.value)}switch(N=f?$r(f):window,e){case"focusin":(ed(N)||N.contentEditable==="true")&&(Rr=N,su=f,Xi=null);break;case"focusout":Xi=su=Rr=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,od(c,r,p);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":od(c,r,p)}var j;if(Sc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mr?xg(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(yg&&r.locale!=="ko"&&(Mr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Mr&&(j=vg()):(Bn=p,jc="value"in Bn?Bn.value:Bn.textContent,Mr=!0)),N=Fa(f,E),0<N.length&&(E=new Qf(E,e,null,r,p),c.push({event:E,listeners:N}),j?E.data=j:(j=bg(r),j!==null&&(E.data=j)))),(j=Z0?X0(e,r):J0(e,r))&&(f=Fa(f,"onBeforeInput"),0<f.length&&(p=new Qf("onBeforeInput","beforeinput",null,r,p),c.push({event:p,listeners:f}),p.data=j))}Ig(c,n)})}function mo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Fa(e,n){for(var r=n+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=so(e,r),a!=null&&i.unshift(mo(e,a,o)),a=so(e,n),a!=null&&i.push(mo(e,a,o))),e=e.return}return i}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sd(e,n,r,i,o){for(var a=n._reactName,l=[];r!==null&&r!==i;){var s=r,u=s.alternate,f=s.stateNode;if(u!==null&&u===i)break;s.tag===5&&f!==null&&(s=f,o?(u=so(r,a),u!=null&&l.unshift(mo(r,u,s))):o||(u=so(r,a),u!=null&&l.push(mo(r,u,s)))),r=r.return}l.length!==0&&e.push({event:n,listeners:l})}var h1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function ud(e){return(typeof e=="string"?e:""+e).replace(h1,`
`).replace(p1,"")}function Jo(e,n,r){if(n=ud(n),ud(e)!==n&&r)throw Error(re(425))}function Ua(){}var cu=null,fu=null;function du(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof cd<"u"?function(e){return cd.resolve(null).then(e).catch(v1)}:hu;function v1(e){setTimeout(function(){throw e})}function ms(e,n){var r=n,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),fo(n);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);fo(n)}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),on="__reactFiber$"+di,vo="__reactProps$"+di,En="__reactContainer$"+di,pu="__reactEvents$"+di,y1="__reactListeners$"+di,x1="__reactHandles$"+di;function fr(e){var n=e[on];if(n)return n;for(var r=e.parentNode;r;){if(n=r[En]||r[on]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=fd(e);e!==null;){if(r=e[on])return r;e=fd(e)}return n}e=r,r=e.parentNode}return null}function Mo(e){return e=e[on]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Nl(e){return e[vo]||null}var gu=[],zr=-1;function ir(e){return{current:e}}function Te(e){0>zr||(e.current=gu[zr],gu[zr]=null,zr--)}function ke(e,n){zr++,gu[zr]=e.current,e.current=n}var tr={},et=ir(tr),dt=ir(!1),br=tr;function ei(e,n){var r=e.type.contextTypes;if(!r)return tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=n[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function ht(e){return e=e.childContextTypes,e!=null}function Ba(){Te(dt),Te(et)}function dd(e,n,r){if(et.current!==tr)throw Error(re(168));ke(et,n),ke(dt,r)}function Dg(e,n,r){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in n))throw Error(re(108,r0(e)||"Unknown",o));return Me({},r,i)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,br=et.current,ke(et,e),ke(dt,dt.current),!0}function hd(e,n,r){var i=e.stateNode;if(!i)throw Error(re(169));r?(e=Dg(e,n,br),i.__reactInternalMemoizedMergedChildContext=e,Te(dt),Te(et),ke(et,e)):Te(dt),ke(dt,r)}var vn=null,El=!1,vs=!1;function Mg(e){vn===null?vn=[e]:vn.push(e)}function b1(e){El=!0,Mg(e)}function or(){if(!vs&&vn!==null){vs=!0;var e=0,n=_e;try{var r=vn;for(_e=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}vn=null,El=!1}catch(o){throw vn!==null&&(vn=vn.slice(e+1)),ag(bc,or),o}finally{_e=n,vs=!1}}return null}var Fr=[],Ur=0,Ha=null,Va=0,At=[],Ct=0,_r=null,xn=1,bn="";function lr(e,n){Fr[Ur++]=Va,Fr[Ur++]=Ha,Ha=e,Va=n}function Rg(e,n,r){At[Ct++]=xn,At[Ct++]=bn,At[Ct++]=_r,_r=e;var i=xn;e=bn;var o=32-Kt(i)-1;i&=~(1<<o),r+=1;var a=32-Kt(n)+o;if(30<a){var l=o-o%5;a=(i&(1<<l)-1).toString(32),i>>=l,o-=l,xn=1<<32-Kt(n)+o|r<<o|i,bn=a+e}else xn=1<<a|r<<o|i,bn=e}function Oc(e){e.return!==null&&(lr(e,1),Rg(e,1,0))}function Ac(e){for(;e===Ha;)Ha=Fr[--Ur],Fr[Ur]=null,Va=Fr[--Ur],Fr[Ur]=null;for(;e===_r;)_r=At[--Ct],At[Ct]=null,bn=At[--Ct],At[Ct]=null,xn=At[--Ct],At[Ct]=null}var kt=null,wt=null,Ce=!1,Vt=null;function Lg(e,n){var r=Mt(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function pd(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,kt=e,wt=Kn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,kt=e,wt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=_r!==null?{id:xn,overflow:bn}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Mt(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,kt=e,wt=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(Ce){var n=wt;if(n){var r=n;if(!pd(e,n)){if(mu(e))throw Error(re(418));n=Kn(r.nextSibling);var i=kt;n&&pd(e,n)?Lg(i,r):(e.flags=e.flags&-4097|2,Ce=!1,kt=e)}}else{if(mu(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ce=!1,kt=e}}}function gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function ea(e){if(e!==kt)return!1;if(!Ce)return gd(e),Ce=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!du(e.type,e.memoizedProps)),n&&(n=wt)){if(mu(e))throw $g(),Error(re(418));for(;n;)Lg(e,n),n=Kn(n.nextSibling)}if(gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){wt=Kn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}wt=null}}else wt=kt?Kn(e.stateNode.nextSibling):null;return!0}function $g(){for(var e=wt;e;)e=Kn(e.nextSibling)}function ti(){wt=kt=null,Ce=!1}function Cc(e){Vt===null?Vt=[e]:Vt.push(e)}var _1=An.ReactCurrentBatchConfig;function Si(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var i=r.stateNode}if(!i)throw Error(re(147,e));var o=i,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(l){var s=o.refs;l===null?delete s[a]:s[a]=l},n._stringRef=a,n)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function ta(e,n){throw e=Object.prototype.toString.call(n),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function md(e){var n=e._init;return n(e._payload)}function zg(e){function n(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)n(g,v),v=v.sibling;return null}function i(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function o(g,v){return g=Xn(g,v),g.index=0,g.sibling=null,g}function a(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,v,x,y){return v===null||v.tag!==6?(v=js(x,g.mode,y),v.return=g,v):(v=o(v,x),v.return=g,v)}function u(g,v,x,y){var k=x.type;return k===Dr?p(g,v,x.props.children,y,x.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ln&&md(k)===v.type)?(y=o(v,x.props),y.ref=Si(g,v,x),y.return=g,y):(y=Sa(x.type,x.key,x.props,null,g.mode,y),y.ref=Si(g,v,x),y.return=g,y)}function f(g,v,x,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Ns(x,g.mode,y),v.return=g,v):(v=o(v,x.children||[]),v.return=g,v)}function p(g,v,x,y,k){return v===null||v.tag!==7?(v=vr(x,g.mode,y,k),v.return=g,v):(v=o(v,x),v.return=g,v)}function c(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=js(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:return x=Sa(v.type,v.key,v.props,null,g.mode,x),x.ref=Si(g,null,v),x.return=g,x;case Pr:return v=Ns(v,g.mode,x),v.return=g,v;case Ln:var y=v._init;return c(g,y(v._payload),x)}if(Ui(v)||wi(v))return v=vr(v,g.mode,x,null),v.return=g,v;ta(g,v)}return null}function d(g,v,x,y){var k=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:s(g,v,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:return x.key===k?u(g,v,x,y):null;case Pr:return x.key===k?f(g,v,x,y):null;case Ln:return k=x._init,d(g,v,k(x._payload),y)}if(Ui(x)||wi(x))return k!==null?null:p(g,v,x,y,null);ta(g,x)}return null}function m(g,v,x,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(x)||null,s(v,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:return g=g.get(y.key===null?x:y.key)||null,u(v,g,y,k);case Pr:return g=g.get(y.key===null?x:y.key)||null,f(v,g,y,k);case Ln:var N=y._init;return m(g,v,x,N(y._payload),k)}if(Ui(y)||wi(y))return g=g.get(x)||null,p(v,g,y,k,null);ta(v,y)}return null}function b(g,v,x,y){for(var k=null,N=null,j=v,E=v=0,C=null;j!==null&&E<x.length;E++){j.index>E?(C=j,j=null):C=j.sibling;var S=d(g,j,x[E],y);if(S===null){j===null&&(j=C);break}e&&j&&S.alternate===null&&n(g,j),v=a(S,v,E),N===null?k=S:N.sibling=S,N=S,j=C}if(E===x.length)return r(g,j),Ce&&lr(g,E),k;if(j===null){for(;E<x.length;E++)j=c(g,x[E],y),j!==null&&(v=a(j,v,E),N===null?k=j:N.sibling=j,N=j);return Ce&&lr(g,E),k}for(j=i(g,j);E<x.length;E++)C=m(j,g,E,x[E],y),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?E:C.key),v=a(C,v,E),N===null?k=C:N.sibling=C,N=C);return e&&j.forEach(function(T){return n(g,T)}),Ce&&lr(g,E),k}function w(g,v,x,y){var k=wi(x);if(typeof k!="function")throw Error(re(150));if(x=k.call(x),x==null)throw Error(re(151));for(var N=k=null,j=v,E=v=0,C=null,S=x.next();j!==null&&!S.done;E++,S=x.next()){j.index>E?(C=j,j=null):C=j.sibling;var T=d(g,j,S.value,y);if(T===null){j===null&&(j=C);break}e&&j&&T.alternate===null&&n(g,j),v=a(T,v,E),N===null?k=T:N.sibling=T,N=T,j=C}if(S.done)return r(g,j),Ce&&lr(g,E),k;if(j===null){for(;!S.done;E++,S=x.next())S=c(g,S.value,y),S!==null&&(v=a(S,v,E),N===null?k=S:N.sibling=S,N=S);return Ce&&lr(g,E),k}for(j=i(g,j);!S.done;E++,S=x.next())S=m(j,g,E,S.value,y),S!==null&&(e&&S.alternate!==null&&j.delete(S.key===null?E:S.key),v=a(S,v,E),N===null?k=S:N.sibling=S,N=S);return e&&j.forEach(function(O){return n(g,O)}),Ce&&lr(g,E),k}function _(g,v,x,y){if(typeof x=="object"&&x!==null&&x.type===Dr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:e:{for(var k=x.key,N=v;N!==null;){if(N.key===k){if(k=x.type,k===Dr){if(N.tag===7){r(g,N.sibling),v=o(N,x.props.children),v.return=g,g=v;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ln&&md(k)===N.type){r(g,N.sibling),v=o(N,x.props),v.ref=Si(g,N,x),v.return=g,g=v;break e}r(g,N);break}else n(g,N);N=N.sibling}x.type===Dr?(v=vr(x.props.children,g.mode,y,x.key),v.return=g,g=v):(y=Sa(x.type,x.key,x.props,null,g.mode,y),y.ref=Si(g,v,x),y.return=g,g=y)}return l(g);case Pr:e:{for(N=x.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=o(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else n(g,v);v=v.sibling}v=Ns(x,g.mode,y),v.return=g,g=v}return l(g);case Ln:return N=x._init,_(g,v,N(x._payload),y)}if(Ui(x))return b(g,v,x,y);if(wi(x))return w(g,v,x,y);ta(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=o(v,x),v.return=g,g=v):(r(g,v),v=js(x,g.mode,y),v.return=g,g=v),l(g)):r(g,v)}return _}var ni=zg(!0),Fg=zg(!1),Wa=ir(null),Ga=null,Br=null,Ic=null;function Pc(){Ic=Br=Ga=null}function Dc(e){var n=Wa.current;Te(Wa),e._currentValue=n}function yu(e,n,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function Yr(e,n){Ga=e,Ic=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ut=!0),e.firstContext=null)}function $t(e){var n=e._currentValue;if(Ic!==e)if(e={context:e,memoizedValue:n,next:null},Br===null){if(Ga===null)throw Error(re(308));Br=e,Ga.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return n}var dr=null;function Mc(e){dr===null?dr=[e]:dr.push(e)}function Ug(e,n,r,i){var o=n.interleaved;return o===null?(r.next=r,Mc(n)):(r.next=o.next,o.next=r),n.interleaved=r,Sn(e,i)}function Sn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Yn(e,n,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var o=i.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n,Sn(e,r)}return o=i.interleaved,o===null?(n.next=n,Mc(i)):(n.next=o.next,o.next=n),i.interleaved=n,Sn(e,r)}function _a(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,_c(e,r)}}function vd(e,n){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?o=a=n:a=a.next=n}else o=a=n;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Ka(e,n,r,i){var o=e.updateQueue;$n=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,f=u.next;u.next=null,l===null?a=f:l.next=f,l=u;var p=e.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==l&&(s===null?p.firstBaseUpdate=f:s.next=f,p.lastBaseUpdate=u))}if(a!==null){var c=o.baseState;l=0,p=f=u=null,s=a;do{var d=s.lane,m=s.eventTime;if((i&d)===d){p!==null&&(p=p.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=e,w=s;switch(d=n,m=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){c=b.call(m,c,d);break e}c=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,d=typeof b=="function"?b.call(m,c,d):b,d==null)break e;c=Me({},c,d);break e;case 2:$n=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else m={eventTime:m,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=m,u=c):p=p.next=m,l|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(p===null&&(u=c),o.baseState=u,o.firstBaseUpdate=f,o.lastBaseUpdate=p,n=o.shared.interleaved,n!==null){o=n;do l|=o.lane,o=o.next;while(o!==n)}else a===null&&(o.shared.lanes=0);kr|=l,e.lanes=l,e.memoizedState=c}}function yd(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(re(191,o));o.call(i)}}}var Ro={},sn=ir(Ro),yo=ir(Ro),xo=ir(Ro);function hr(e){if(e===Ro)throw Error(re(174));return e}function Lc(e,n){switch(ke(xo,n),ke(yo,e),ke(sn,Ro),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xs(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xs(n,e)}Te(sn),ke(sn,n)}function ri(){Te(sn),Te(yo),Te(xo)}function qg(e){hr(xo.current);var n=hr(sn.current),r=Xs(n,e.type);n!==r&&(ke(yo,e),ke(sn,r))}function $c(e){yo.current===e&&(Te(sn),Te(yo))}var Pe=ir(0);function Ya(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ys=[];function zc(){for(var e=0;e<ys.length;e++)ys[e]._workInProgressVersionPrimary=null;ys.length=0}var wa=An.ReactCurrentDispatcher,xs=An.ReactCurrentBatchConfig,wr=0,De=null,Fe=null,qe=null,Qa=!1,Ji=!1,bo=0,w1=0;function Qe(){throw Error(re(321))}function Fc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Qt(e[r],n[r]))return!1;return!0}function Uc(e,n,r,i,o,a){if(wr=a,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wa.current=e===null||e.memoizedState===null?E1:S1,e=r(i,o),Ji){a=0;do{if(Ji=!1,bo=0,25<=a)throw Error(re(301));a+=1,qe=Fe=null,n.updateQueue=null,wa.current=T1,e=r(i,o)}while(Ji)}if(wa.current=Za,n=Fe!==null&&Fe.next!==null,wr=0,qe=Fe=De=null,Qa=!1,n)throw Error(re(300));return e}function Bc(){var e=bo!==0;return bo=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?De.memoizedState=qe=e:qe=qe.next=e,qe}function zt(){if(Fe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=qe===null?De.memoizedState:qe.next;if(n!==null)qe=n,Fe=e;else{if(e===null)throw Error(re(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},qe===null?De.memoizedState=qe=e:qe=qe.next=e}return qe}function _o(e,n){return typeof n=="function"?n(e):n}function bs(e){var n=zt(),r=n.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var i=Fe,o=i.baseQueue,a=r.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}i.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,i=i.baseState;var s=l=null,u=null,f=a;do{var p=f.lane;if((wr&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:e(i,f.action);else{var c={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(s=u=c,l=i):u=u.next=c,De.lanes|=p,kr|=p}f=f.next}while(f!==null&&f!==a);u===null?l=i:u.next=s,Qt(i,n.memoizedState)||(ut=!0),n.memoizedState=i,n.baseState=l,n.baseQueue=u,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do a=o.lane,De.lanes|=a,kr|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function _s(e){var n=zt(),r=n.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=n.memoizedState;if(o!==null){r.pending=null;var l=o=o.next;do a=e(a,l.action),l=l.next;while(l!==o);Qt(a,n.memoizedState)||(ut=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),r.lastRenderedState=a}return[a,i]}function Hg(){}function Vg(e,n){var r=De,i=zt(),o=n(),a=!Qt(i.memoizedState,o);if(a&&(i.memoizedState=o,ut=!0),i=i.queue,qc(Kg.bind(null,r,i,e),[e]),i.getSnapshot!==n||a||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,wo(9,Gg.bind(null,r,i,o,n),void 0,null),He===null)throw Error(re(349));wr&30||Wg(r,n,o)}return o}function Wg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n={lastEffect:null,stores:null},De.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Gg(e,n,r,i){n.value=r,n.getSnapshot=i,Yg(n)&&Qg(e)}function Kg(e,n,r){return r(function(){Yg(n)&&Qg(e)})}function Yg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Qt(e,r)}catch{return!0}}function Qg(e){var n=Sn(e,1);n!==null&&Yt(n,e,1,-1)}function xd(e){var n=tn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},n.queue=e,e=e.dispatch=N1.bind(null,De,e),[n.memoizedState,e]}function wo(e,n,r,i){return e={tag:e,create:n,destroy:r,deps:i,next:null},n=De.updateQueue,n===null?(n={lastEffect:null,stores:null},De.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e)),e}function Zg(){return zt().memoizedState}function ka(e,n,r,i){var o=tn();De.flags|=e,o.memoizedState=wo(1|n,r,void 0,i===void 0?null:i)}function Sl(e,n,r,i){var o=zt();i=i===void 0?null:i;var a=void 0;if(Fe!==null){var l=Fe.memoizedState;if(a=l.destroy,i!==null&&Fc(i,l.deps)){o.memoizedState=wo(n,r,a,i);return}}De.flags|=e,o.memoizedState=wo(1|n,r,a,i)}function bd(e,n){return ka(8390656,8,e,n)}function qc(e,n){return Sl(2048,8,e,n)}function Xg(e,n){return Sl(4,2,e,n)}function Jg(e,n){return Sl(4,4,e,n)}function em(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tm(e,n,r){return r=r!=null?r.concat([e]):null,Sl(4,4,em.bind(null,n,e),r)}function Hc(){}function nm(e,n){var r=zt();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&Fc(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function rm(e,n){var r=zt();n=n===void 0?null:n;var i=r.memoizedState;return i!==null&&n!==null&&Fc(n,i[1])?i[0]:(e=e(),r.memoizedState=[e,n],e)}function im(e,n,r){return wr&21?(Qt(r,n)||(r=ug(),De.lanes|=r,kr|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=r)}function k1(e,n){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var i=xs.transition;xs.transition={};try{e(!1),n()}finally{_e=r,xs.transition=i}}function om(){return zt().memoizedState}function j1(e,n,r){var i=Zn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},am(e))lm(n,r);else if(r=Ug(e,n,r,i),r!==null){var o=it();Yt(r,e,i,o),sm(r,n,i)}}function N1(e,n,r){var i=Zn(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(am(e))lm(n,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var l=n.lastRenderedState,s=a(l,r);if(o.hasEagerState=!0,o.eagerState=s,Qt(s,l)){var u=n.interleaved;u===null?(o.next=o,Mc(n)):(o.next=u.next,u.next=o),n.interleaved=o;return}}catch{}finally{}r=Ug(e,n,o,i),r!==null&&(o=it(),Yt(r,e,i,o),sm(r,n,i))}}function am(e){var n=e.alternate;return e===De||n!==null&&n===De}function lm(e,n){Ji=Qa=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function sm(e,n,r){if(r&4194240){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,_c(e,r)}}var Za={readContext:$t,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},E1={readContext:$t,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:bd,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,ka(4194308,4,em.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ka(4194308,4,e,n)},useInsertionEffect:function(e,n){return ka(4,2,e,n)},useMemo:function(e,n){var r=tn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var i=tn();return n=r!==void 0?r(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=j1.bind(null,De,e),[i.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:xd,useDebugValue:Hc,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=xd(!1),n=e[0];return e=k1.bind(null,e[1]),tn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var i=De,o=tn();if(Ce){if(r===void 0)throw Error(re(407));r=r()}else{if(r=n(),He===null)throw Error(re(349));wr&30||Wg(i,n,r)}o.memoizedState=r;var a={value:r,getSnapshot:n};return o.queue=a,bd(Kg.bind(null,i,a,e),[e]),i.flags|=2048,wo(9,Gg.bind(null,i,a,r,n),void 0,null),r},useId:function(){var e=tn(),n=He.identifierPrefix;if(Ce){var r=bn,i=xn;r=(i&~(1<<32-Kt(i)-1)).toString(32)+r,n=":"+n+"R"+r,r=bo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=w1++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},S1={readContext:$t,useCallback:nm,useContext:$t,useEffect:qc,useImperativeHandle:tm,useInsertionEffect:Xg,useLayoutEffect:Jg,useMemo:rm,useReducer:bs,useRef:Zg,useState:function(){return bs(_o)},useDebugValue:Hc,useDeferredValue:function(e){var n=zt();return im(n,Fe.memoizedState,e)},useTransition:function(){var e=bs(_o)[0],n=zt().memoizedState;return[e,n]},useMutableSource:Hg,useSyncExternalStore:Vg,useId:om,unstable_isNewReconciler:!1},T1={readContext:$t,useCallback:nm,useContext:$t,useEffect:qc,useImperativeHandle:tm,useInsertionEffect:Xg,useLayoutEffect:Jg,useMemo:rm,useReducer:_s,useRef:Zg,useState:function(){return _s(_o)},useDebugValue:Hc,useDeferredValue:function(e){var n=zt();return Fe===null?n.memoizedState=e:im(n,Fe.memoizedState,e)},useTransition:function(){var e=_s(_o)[0],n=zt().memoizedState;return[e,n]},useMutableSource:Hg,useSyncExternalStore:Vg,useId:om,unstable_isNewReconciler:!1};function qt(e,n){if(e&&e.defaultProps){n=Me({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function xu(e,n,r,i){n=e.memoizedState,r=r(i,n),r=r==null?n:Me({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tl={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var i=it(),o=Zn(e),a=kn(i,o);a.payload=n,r!=null&&(a.callback=r),n=Yn(e,a,o),n!==null&&(Yt(n,e,o,i),_a(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=it(),o=Zn(e),a=kn(i,o);a.tag=1,a.payload=n,r!=null&&(a.callback=r),n=Yn(e,a,o),n!==null&&(Yt(n,e,o,i),_a(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=it(),i=Zn(e),o=kn(r,i);o.tag=2,n!=null&&(o.callback=n),n=Yn(e,o,i),n!==null&&(Yt(n,e,i,r),_a(n,e,i))}};function _d(e,n,r,i,o,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,l):n.prototype&&n.prototype.isPureReactComponent?!po(r,i)||!po(o,a):!0}function um(e,n,r){var i=!1,o=tr,a=n.contextType;return typeof a=="object"&&a!==null?a=$t(a):(o=ht(n)?br:et.current,i=n.contextTypes,a=(i=i!=null)?ei(e,o):tr),n=new n(r,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Tl,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function wd(e,n,r,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&Tl.enqueueReplaceState(n,n.state,null)}function bu(e,n,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Rc(e);var a=n.contextType;typeof a=="object"&&a!==null?o.context=$t(a):(a=ht(n)?br:et.current,o.context=ei(e,a)),o.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(xu(e,n,a,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Tl.enqueueReplaceState(o,o.state,null),Ka(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,n){try{var r="",i=n;do r+=n0(i),i=i.return;while(i);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:o,digest:null}}function ws(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function _u(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var O1=typeof WeakMap=="function"?WeakMap:Map;function cm(e,n,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var i=n.value;return r.callback=function(){Ja||(Ja=!0,Cu=i),_u(e,n)},r}function fm(e,n,r){r=kn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;r.payload=function(){return i(o)},r.callback=function(){_u(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){_u(e,n),typeof i!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),r}function kd(e,n,r){var i=e.pingCache;if(i===null){i=e.pingCache=new O1;var o=new Set;i.set(n,o)}else o=i.get(n),o===void 0&&(o=new Set,i.set(n,o));o.has(r)||(o.add(r),e=q1.bind(null,e,n,r),n.then(e,e))}function jd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Nd(e,n,r,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=kn(-1,1),n.tag=2,Yn(r,n,1))),r.lanes|=1),e)}var A1=An.ReactCurrentOwner,ut=!1;function nt(e,n,r,i){n.child=e===null?Fg(n,null,r,i):ni(n,e.child,r,i)}function Ed(e,n,r,i,o){r=r.render;var a=n.ref;return Yr(n,o),i=Uc(e,n,r,i,a,o),r=Bc(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Tn(e,n,o)):(Ce&&r&&Oc(n),n.flags|=1,nt(e,n,i,o),n.child)}function Sd(e,n,r,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!Xc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=a,dm(e,n,a,i,o)):(e=Sa(r.type,null,i,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:po,r(l,i)&&e.ref===n.ref)return Tn(e,n,o)}return n.flags|=1,e=Xn(a,i),e.ref=n.ref,e.return=n,n.child=e}function dm(e,n,r,i,o){if(e!==null){var a=e.memoizedProps;if(po(a,i)&&e.ref===n.ref)if(ut=!1,n.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(ut=!0);else return n.lanes=e.lanes,Tn(e,n,o)}return wu(e,n,r,i,o)}function hm(e,n,r){var i=n.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Hr,bt),bt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ke(Hr,bt),bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,ke(Hr,bt),bt|=i}else a!==null?(i=a.baseLanes|r,n.memoizedState=null):i=r,ke(Hr,bt),bt|=i;return nt(e,n,o,r),n.child}function pm(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function wu(e,n,r,i,o){var a=ht(r)?br:et.current;return a=ei(n,a),Yr(n,o),r=Uc(e,n,r,i,a,o),i=Bc(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Tn(e,n,o)):(Ce&&i&&Oc(n),n.flags|=1,nt(e,n,r,o),n.child)}function Td(e,n,r,i,o){if(ht(r)){var a=!0;qa(n)}else a=!1;if(Yr(n,o),n.stateNode===null)ja(e,n),um(n,r,i),bu(n,r,i,o),i=!0;else if(e===null){var l=n.stateNode,s=n.memoizedProps;l.props=s;var u=l.context,f=r.contextType;typeof f=="object"&&f!==null?f=$t(f):(f=ht(r)?br:et.current,f=ei(n,f));var p=r.getDerivedStateFromProps,c=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==i||u!==f)&&wd(n,l,i,f),$n=!1;var d=n.memoizedState;l.state=d,Ka(n,i,l,o),u=n.memoizedState,s!==i||d!==u||dt.current||$n?(typeof p=="function"&&(xu(n,r,p,i),u=n.memoizedState),(s=$n||_d(n,r,s,i,d,u,f))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=u),l.props=i,l.state=u,l.context=f,i=s):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{l=n.stateNode,Bg(e,n),s=n.memoizedProps,f=n.type===n.elementType?s:qt(n.type,s),l.props=f,c=n.pendingProps,d=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=ht(r)?br:et.current,u=ei(n,u));var m=r.getDerivedStateFromProps;(p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==c||d!==u)&&wd(n,l,i,u),$n=!1,d=n.memoizedState,l.state=d,Ka(n,i,l,o);var b=n.memoizedState;s!==c||d!==b||dt.current||$n?(typeof m=="function"&&(xu(n,r,m,i),b=n.memoizedState),(f=$n||_d(n,r,f,i,d,b,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,b,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,b,u)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=b),l.props=i,l.state=b,l.context=u,i=f):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),i=!1)}return ku(e,n,r,i,a,o)}function ku(e,n,r,i,o,a){pm(e,n);var l=(n.flags&128)!==0;if(!i&&!l)return o&&hd(n,r,!1),Tn(e,n,a);i=n.stateNode,A1.current=n;var s=l&&typeof r.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&l?(n.child=ni(n,e.child,null,a),n.child=ni(n,null,s,a)):nt(e,n,s,a),n.memoizedState=i.state,o&&hd(n,r,!0),n.child}function gm(e){var n=e.stateNode;n.pendingContext?dd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&dd(e,n.context,!1),Lc(e,n.containerInfo)}function Od(e,n,r,i,o){return ti(),Cc(o),n.flags|=256,nt(e,n,r,i),n.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function mm(e,n,r){var i=n.pendingProps,o=Pe.current,a=!1,l=(n.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ke(Pe,o&1),e===null)return vu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=i.children,e=i.fallback,a?(i=n.mode,a=n.child,l={mode:"hidden",children:l},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Cl(l,i,0,null),e=vr(e,i,r,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Nu(r),n.memoizedState=ju,e):Vc(n,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return C1(e,n,l,i,s,o,r);if(a){a=i.fallback,l=n.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:i.children};return!(l&1)&&n.child!==o?(i=n.child,i.childLanes=0,i.pendingProps=u,n.deletions=null):(i=Xn(o,u),i.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=Xn(s,a):(a=vr(a,l,r,null),a.flags|=2),a.return=n,i.return=n,i.sibling=a,n.child=i,i=a,a=n.child,l=e.child.memoizedState,l=l===null?Nu(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,n.memoizedState=ju,i}return a=e.child,e=a.sibling,i=Xn(a,{mode:"visible",children:i.children}),!(n.mode&1)&&(i.lanes=r),i.return=n,i.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=i,n.memoizedState=null,i}function Vc(e,n){return n=Cl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function na(e,n,r,i){return i!==null&&Cc(i),ni(n,e.child,null,r),e=Vc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function C1(e,n,r,i,o,a,l){if(r)return n.flags&256?(n.flags&=-257,i=ws(Error(re(422))),na(e,n,l,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=i.fallback,o=n.mode,i=Cl({mode:"visible",children:i.children},o,0,null),a=vr(a,o,l,null),a.flags|=2,i.return=n,a.return=n,i.sibling=a,n.child=i,n.mode&1&&ni(n,e.child,null,l),n.child.memoizedState=Nu(l),n.memoizedState=ju,a);if(!(n.mode&1))return na(e,n,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var s=i.dgst;return i=s,a=Error(re(419)),i=ws(a,i,void 0),na(e,n,l,i)}if(s=(l&e.childLanes)!==0,ut||s){if(i=He,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Sn(e,o),Yt(i,e,o,-1))}return Zc(),i=ws(Error(re(421))),na(e,n,l,i)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=H1.bind(null,e),o._reactRetry=n,null):(e=a.treeContext,wt=Kn(o.nextSibling),kt=n,Ce=!0,Vt=null,e!==null&&(At[Ct++]=xn,At[Ct++]=bn,At[Ct++]=_r,xn=e.id,bn=e.overflow,_r=n),n=Vc(n,i.children),n.flags|=4096,n)}function Ad(e,n,r){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),yu(e.return,n,r)}function ks(e,n,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=o)}function vm(e,n,r){var i=n.pendingProps,o=i.revealOrder,a=i.tail;if(nt(e,n,i.children,r),i=Pe.current,i&2)i=i&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,r,n);else if(e.tag===19)Ad(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ke(Pe,i),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(r=n.child,o=null;r!==null;)e=r.alternate,e!==null&&Ya(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),ks(n,!1,o,r,a);break;case"backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Ya(e)===null){n.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}ks(n,!0,r,null,a);break;case"together":ks(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ja(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Tn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(re(153));if(n.child!==null){for(e=n.child,r=Xn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function I1(e,n,r){switch(n.tag){case 3:gm(n),ti();break;case 5:qg(n);break;case 1:ht(n.type)&&qa(n);break;case 4:Lc(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,o=n.memoizedProps.value;ke(Wa,i._currentValue),i._currentValue=o;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(ke(Pe,Pe.current&1),n.flags|=128,null):r&n.child.childLanes?mm(e,n,r):(ke(Pe,Pe.current&1),e=Tn(e,n,r),e!==null?e.sibling:null);ke(Pe,Pe.current&1);break;case 19:if(i=(r&n.childLanes)!==0,e.flags&128){if(i)return vm(e,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Pe,Pe.current),i)break;return null;case 22:case 23:return n.lanes=0,hm(e,n,r)}return Tn(e,n,r)}var ym,Eu,xm,bm;ym=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eu=function(){};xm=function(e,n,r,i){var o=e.memoizedProps;if(o!==i){e=n.stateNode,hr(sn.current);var a=null;switch(r){case"input":o=Ks(e,o),i=Ks(e,i),a=[];break;case"select":o=Me({},o,{value:void 0}),i=Me({},i,{value:void 0}),a=[];break;case"textarea":o=Zs(e,o),i=Zs(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ua)}Js(r,i);var l;r=null;for(f in o)if(!i.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var s=o[f];for(l in s)s.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ao.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in i){var u=i[f];if(s=o!=null?o[f]:void 0,i.hasOwnProperty(f)&&u!==s&&(u!=null||s!=null))if(f==="style")if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(a||(a=[]),a.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ao.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Ne("scroll",e),a||s===u||(a=[])):(a=a||[]).push(f,u))}r&&(a=a||[]).push("style",r);var f=a;(n.updateQueue=f)&&(n.flags|=4)}};bm=function(e,n,r,i){r!==i&&(n.flags|=4)};function Ti(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(n)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}function P1(e,n,r){var i=n.pendingProps;switch(Ac(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return ht(n.type)&&Ba(),Ze(n),null;case 3:return i=n.stateNode,ri(),Te(dt),Te(et),zc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ea(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Vt!==null&&(Du(Vt),Vt=null))),Eu(e,n),Ze(n),null;case 5:$c(n);var o=hr(xo.current);if(r=n.type,e!==null&&n.stateNode!=null)xm(e,n,r,i,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(re(166));return Ze(n),null}if(e=hr(sn.current),ea(n)){i=n.stateNode,r=n.type;var a=n.memoizedProps;switch(i[on]=n,i[vo]=a,e=(n.mode&1)!==0,r){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(o=0;o<qi.length;o++)Ne(qi[o],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":zf(i,a),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",i);break;case"textarea":Uf(i,a),Ne("invalid",i)}Js(r,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var s=a[l];l==="children"?typeof s=="string"?i.textContent!==s&&(a.suppressHydrationWarning!==!0&&Jo(i.textContent,s,e),o=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Jo(i.textContent,s,e),o=["children",""+s]):ao.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Ne("scroll",i)}switch(r){case"input":Vo(i),Ff(i,a,!0);break;case"textarea":Vo(i),Bf(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Ua)}i=o,n.updateQueue=i,i!==null&&(n.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(r,{is:i.is}):(e=l.createElement(r),r==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,r),e[on]=n,e[vo]=i,ym(e,n,!1,!1),n.stateNode=e;e:{switch(l=eu(r,i),r){case"dialog":Ne("cancel",e),Ne("close",e),o=i;break;case"iframe":case"object":case"embed":Ne("load",e),o=i;break;case"video":case"audio":for(o=0;o<qi.length;o++)Ne(qi[o],e);o=i;break;case"source":Ne("error",e),o=i;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),o=i;break;case"details":Ne("toggle",e),o=i;break;case"input":zf(e,i),o=Ks(e,i),Ne("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Me({},i,{value:void 0}),Ne("invalid",e);break;case"textarea":Uf(e,i),o=Zs(e,i),Ne("invalid",e);break;default:o=i}Js(r,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?Zp(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Yp(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&lo(e,u):typeof u=="number"&&lo(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ao.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Ne("scroll",e):u!=null&&gc(e,a,u,l))}switch(r){case"input":Vo(e),Ff(e,i,!1);break;case"textarea":Vo(e),Bf(e);break;case"option":i.value!=null&&e.setAttribute("value",""+er(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Vr(e,!!i.multiple,a,!1):i.defaultValue!=null&&Vr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ua)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ze(n),null;case 6:if(e&&n.stateNode!=null)bm(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(re(166));if(r=hr(xo.current),hr(sn.current),ea(n)){if(i=n.stateNode,r=n.memoizedProps,i[on]=n,(a=i.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Jo(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(i.nodeValue,r,(e.mode&1)!==0)}a&&(n.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[on]=n,n.stateNode=i}return Ze(n),null;case 13:if(Te(Pe),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&wt!==null&&n.mode&1&&!(n.flags&128))$g(),ti(),n.flags|=98560,a=!1;else if(a=ea(n),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[on]=n}else ti(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ze(n),a=!1}else Vt!==null&&(Du(Vt),Vt=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,n.mode&1&&(e===null||Pe.current&1?Ue===0&&(Ue=3):Zc())),n.updateQueue!==null&&(n.flags|=4),Ze(n),null);case 4:return ri(),Eu(e,n),e===null&&go(n.stateNode.containerInfo),Ze(n),null;case 10:return Dc(n.type._context),Ze(n),null;case 17:return ht(n.type)&&Ba(),Ze(n),null;case 19:if(Te(Pe),a=n.memoizedState,a===null)return Ze(n),null;if(i=(n.flags&128)!==0,l=a.rendering,l===null)if(i)Ti(a,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=Ya(e),l!==null){for(n.flags|=128,Ti(a,!1),i=l.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=r,r=n.child;r!==null;)a=r,e=i,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Pe,Pe.current&1|2),n.child}e=e.sibling}a.tail!==null&&Le()>oi&&(n.flags|=128,i=!0,Ti(a,!1),n.lanes=4194304)}else{if(!i)if(e=Ya(l),e!==null){if(n.flags|=128,i=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Ti(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Ce)return Ze(n),null}else 2*Le()-a.renderingStartTime>oi&&r!==1073741824&&(n.flags|=128,i=!0,Ti(a,!1),n.lanes=4194304);a.isBackwards?(l.sibling=n.child,n.child=l):(r=a.last,r!==null?r.sibling=l:n.child=l,a.last=l)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=Le(),n.sibling=null,r=Pe.current,ke(Pe,i?r&1|2:r&1),n):(Ze(n),null);case 22:case 23:return Qc(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&n.mode&1?bt&1073741824&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),null;case 24:return null;case 25:return null}throw Error(re(156,n.tag))}function D1(e,n){switch(Ac(n),n.tag){case 1:return ht(n.type)&&Ba(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ri(),Te(dt),Te(et),zc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return $c(n),null;case 13:if(Te(Pe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(re(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Te(Pe),null;case 4:return ri(),null;case 10:return Dc(n.type._context),null;case 22:case 23:return Qc(),null;case 24:return null;default:return null}}var ra=!1,Je=!1,M1=typeof WeakSet=="function"?WeakSet:Set,se=null;function qr(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Re(e,n,i)}else r.current=null}function Su(e,n,r){try{r()}catch(i){Re(e,n,i)}}var Cd=!1;function R1(e,n){if(cu=$a,e=Ng(),Tc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,s=-1,u=-1,f=0,p=0,c=e,d=null;t:for(;;){for(var m;c!==r||o!==0&&c.nodeType!==3||(s=l+o),c!==a||i!==0&&c.nodeType!==3||(u=l+i),c.nodeType===3&&(l+=c.nodeValue.length),(m=c.firstChild)!==null;)d=c,c=m;for(;;){if(c===e)break t;if(d===r&&++f===o&&(s=l),d===a&&++p===i&&(u=l),(m=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=m}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(fu={focusedElem:e,selectionRange:r},$a=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var b=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,_=b.memoizedState,g=n.stateNode,v=g.getSnapshotBeforeUpdate(n.elementType===n.type?w:qt(n.type,w),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=n.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(y){Re(n,n.return,y)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return b=Cd,Cd=!1,b}function eo(e,n,r){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Su(n,r,a)}o=o.next}while(o!==i)}}function Ol(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==n)}}function Tu(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function _m(e){var n=e.alternate;n!==null&&(e.alternate=null,_m(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[on],delete n[vo],delete n[pu],delete n[y1],delete n[x1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wm(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ua));else if(i!==4&&(e=e.child,e!==null))for(Ou(e,n,r),e=e.sibling;e!==null;)Ou(e,n,r),e=e.sibling}function Au(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Au(e,n,r),e=e.sibling;e!==null;)Au(e,n,r),e=e.sibling}var Ve=null,Ht=!1;function Pn(e,n,r){for(r=r.child;r!==null;)km(e,n,r),r=r.sibling}function km(e,n,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(_l,r)}catch{}switch(r.tag){case 5:Je||qr(r,n);case 6:var i=Ve,o=Ht;Ve=null,Pn(e,n,r),Ve=i,Ht=o,Ve!==null&&(Ht?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Ht?(e=Ve,r=r.stateNode,e.nodeType===8?ms(e.parentNode,r):e.nodeType===1&&ms(e,r),fo(e)):ms(Ve,r.stateNode));break;case 4:i=Ve,o=Ht,Ve=r.stateNode.containerInfo,Ht=!0,Pn(e,n,r),Ve=i,Ht=o;break;case 0:case 11:case 14:case 15:if(!Je&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Su(r,n,l),o=o.next}while(o!==i)}Pn(e,n,r);break;case 1:if(!Je&&(qr(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){Re(r,n,s)}Pn(e,n,r);break;case 21:Pn(e,n,r);break;case 22:r.mode&1?(Je=(i=Je)||r.memoizedState!==null,Pn(e,n,r),Je=i):Pn(e,n,r);break;default:Pn(e,n,r)}}function Pd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new M1),n.forEach(function(i){var o=V1.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Ut(e,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var a=e,l=n,s=l;e:for(;s!==null;){switch(s.tag){case 5:Ve=s.stateNode,Ht=!1;break e;case 3:Ve=s.stateNode.containerInfo,Ht=!0;break e;case 4:Ve=s.stateNode.containerInfo,Ht=!0;break e}s=s.return}if(Ve===null)throw Error(re(160));km(a,l,o),Ve=null,Ht=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(f){Re(o,n,f)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)jm(n,e),n=n.sibling}function jm(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(n,e),Jt(e),i&4){try{eo(3,e,e.return),Ol(3,e)}catch(w){Re(e,e.return,w)}try{eo(5,e,e.return)}catch(w){Re(e,e.return,w)}}break;case 1:Ut(n,e),Jt(e),i&512&&r!==null&&qr(r,r.return);break;case 5:if(Ut(n,e),Jt(e),i&512&&r!==null&&qr(r,r.return),e.flags&32){var o=e.stateNode;try{lo(o,"")}catch(w){Re(e,e.return,w)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Wp(o,a),eu(s,l);var f=eu(s,a);for(l=0;l<u.length;l+=2){var p=u[l],c=u[l+1];p==="style"?Zp(o,c):p==="dangerouslySetInnerHTML"?Yp(o,c):p==="children"?lo(o,c):gc(o,p,c,f)}switch(s){case"input":Ys(o,a);break;case"textarea":Gp(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Vr(o,!!a.multiple,m,!1):d!==!!a.multiple&&(a.defaultValue!=null?Vr(o,!!a.multiple,a.defaultValue,!0):Vr(o,!!a.multiple,a.multiple?[]:"",!1))}o[vo]=a}catch(w){Re(e,e.return,w)}}break;case 6:if(Ut(n,e),Jt(e),i&4){if(e.stateNode===null)throw Error(re(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(w){Re(e,e.return,w)}}break;case 3:if(Ut(n,e),Jt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{fo(n.containerInfo)}catch(w){Re(e,e.return,w)}break;case 4:Ut(n,e),Jt(e);break;case 13:Ut(n,e),Jt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Kc=Le())),i&4&&Pd(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Je=(f=Je)||p,Ut(n,e),Je=f):Ut(n,e),Jt(e),i&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(se=e,p=e.child;p!==null;){for(c=se=p;se!==null;){switch(d=se,m=d.child,d.tag){case 0:case 11:case 14:case 15:eo(4,d,d.return);break;case 1:qr(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){i=d,r=d.return;try{n=i,b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(w){Re(i,r,w)}}break;case 5:qr(d,d.return);break;case 22:if(d.memoizedState!==null){Md(c);continue}}m!==null?(m.return=d,se=m):Md(c)}p=p.sibling}e:for(p=null,c=e;;){if(c.tag===5){if(p===null){p=c;try{o=c.stateNode,f?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=c.stateNode,u=c.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Qp("display",l))}catch(w){Re(e,e.return,w)}}}else if(c.tag===6){if(p===null)try{c.stateNode.nodeValue=f?"":c.memoizedProps}catch(w){Re(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ut(n,e),Jt(e),i&4&&Pd(e);break;case 21:break;default:Ut(n,e),Jt(e)}}function Jt(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(wm(r)){var i=r;break e}r=r.return}throw Error(re(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(lo(o,""),i.flags&=-33);var a=Id(e);Au(e,a,o);break;case 3:case 4:var l=i.stateNode.containerInfo,s=Id(e);Ou(e,s,l);break;default:throw Error(re(161))}}catch(u){Re(e,e.return,u)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function L1(e,n,r){se=e,Nm(e)}function Nm(e,n,r){for(var i=(e.mode&1)!==0;se!==null;){var o=se,a=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||ra;if(!l){var s=o.alternate,u=s!==null&&s.memoizedState!==null||Je;s=ra;var f=Je;if(ra=l,(Je=u)&&!f)for(se=o;se!==null;)l=se,u=l.child,l.tag===22&&l.memoizedState!==null?Rd(o):u!==null?(u.return=l,se=u):Rd(o);for(;a!==null;)se=a,Nm(a),a=a.sibling;se=o,ra=s,Je=f}Dd(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,se=a):Dd(e)}}function Dd(e){for(;se!==null;){var n=se;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Je||Ol(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!Je)if(r===null)i.componentDidMount();else{var o=n.elementType===n.type?r.memoizedProps:qt(n.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&yd(n,a,i);break;case 3:var l=n.updateQueue;if(l!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}yd(n,l,r)}break;case 5:var s=n.stateNode;if(r===null&&n.flags&4){r=s;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var f=n.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var c=p.dehydrated;c!==null&&fo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Je||n.flags&512&&Tu(n)}catch(d){Re(n,n.return,d)}}if(n===e){se=null;break}if(r=n.sibling,r!==null){r.return=n.return,se=r;break}se=n.return}}function Md(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var r=n.sibling;if(r!==null){r.return=n.return,se=r;break}se=n.return}}function Rd(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Ol(4,n)}catch(u){Re(n,r,u)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var o=n.return;try{i.componentDidMount()}catch(u){Re(n,o,u)}}var a=n.return;try{Tu(n)}catch(u){Re(n,a,u)}break;case 5:var l=n.return;try{Tu(n)}catch(u){Re(n,l,u)}}}catch(u){Re(n,n.return,u)}if(n===e){se=null;break}var s=n.sibling;if(s!==null){s.return=n.return,se=s;break}se=n.return}}var $1=Math.ceil,Xa=An.ReactCurrentDispatcher,Wc=An.ReactCurrentOwner,Rt=An.ReactCurrentBatchConfig,ye=0,He=null,ze=null,Ge=0,bt=0,Hr=ir(0),Ue=0,ko=null,kr=0,Al=0,Gc=0,to=null,st=null,Kc=0,oi=1/0,mn=null,Ja=!1,Cu=null,Qn=null,ia=!1,qn=null,el=0,no=0,Iu=null,Na=-1,Ea=0;function it(){return ye&6?Le():Na!==-1?Na:Na=Le()}function Zn(e){return e.mode&1?ye&2&&Ge!==0?Ge&-Ge:_1.transition!==null?(Ea===0&&(Ea=ug()),Ea):(e=_e,e!==0||(e=window.event,e=e===void 0?16:mg(e.type)),e):1}function Yt(e,n,r,i){if(50<no)throw no=0,Iu=null,Error(re(185));Po(e,r,i),(!(ye&2)||e!==He)&&(e===He&&(!(ye&2)&&(Al|=r),Ue===4&&Un(e,Ge)),pt(e,i),r===1&&ye===0&&!(n.mode&1)&&(oi=Le()+500,El&&or()))}function pt(e,n){var r=e.callbackNode;_0(e,n);var i=La(e,e===He?Ge:0);if(i===0)r!==null&&Vf(r),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(r!=null&&Vf(r),n===1)e.tag===0?b1(Ld.bind(null,e)):Mg(Ld.bind(null,e)),m1(function(){!(ye&6)&&or()}),r=null;else{switch(cg(i)){case 1:r=bc;break;case 4:r=lg;break;case 16:r=Ra;break;case 536870912:r=sg;break;default:r=Ra}r=Pm(r,Em.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function Em(e,n){if(Na=-1,Ea=0,ye&6)throw Error(re(327));var r=e.callbackNode;if(Qr()&&e.callbackNode!==r)return null;var i=La(e,e===He?Ge:0);if(i===0)return null;if(i&30||i&e.expiredLanes||n)n=tl(e,i);else{n=i;var o=ye;ye|=2;var a=Tm();(He!==e||Ge!==n)&&(mn=null,oi=Le()+500,mr(e,n));do try{U1();break}catch(s){Sm(e,s)}while(!0);Pc(),Xa.current=a,ye=o,ze!==null?n=0:(He=null,Ge=0,n=Ue)}if(n!==0){if(n===2&&(o=ou(e),o!==0&&(i=o,n=Pu(e,o))),n===1)throw r=ko,mr(e,0),Un(e,i),pt(e,Le()),r;if(n===6)Un(e,i);else{if(o=e.current.alternate,!(i&30)&&!z1(o)&&(n=tl(e,i),n===2&&(a=ou(e),a!==0&&(i=a,n=Pu(e,a))),n===1))throw r=ko,mr(e,0),Un(e,i),pt(e,Le()),r;switch(e.finishedWork=o,e.finishedLanes=i,n){case 0:case 1:throw Error(re(345));case 2:sr(e,st,mn);break;case 3:if(Un(e,i),(i&130023424)===i&&(n=Kc+500-Le(),10<n)){if(La(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){it(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=hu(sr.bind(null,e,st,mn),n);break}sr(e,st,mn);break;case 4:if(Un(e,i),(i&4194240)===i)break;for(n=e.eventTimes,o=-1;0<i;){var l=31-Kt(i);a=1<<l,l=n[l],l>o&&(o=l),i&=~a}if(i=o,i=Le()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*$1(i/1960))-i,10<i){e.timeoutHandle=hu(sr.bind(null,e,st,mn),i);break}sr(e,st,mn);break;case 5:sr(e,st,mn);break;default:throw Error(re(329))}}}return pt(e,Le()),e.callbackNode===r?Em.bind(null,e):null}function Pu(e,n){var r=to;return e.current.memoizedState.isDehydrated&&(mr(e,n).flags|=256),e=tl(e,n),e!==2&&(n=st,st=r,n!==null&&Du(n)),e}function Du(e){st===null?st=e:st.push.apply(st,e)}function z1(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot;o=o.value;try{if(!Qt(a(),o))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Un(e,n){for(n&=~Gc,n&=~Al,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Kt(n),i=1<<r;e[r]=-1,n&=~i}}function Ld(e){if(ye&6)throw Error(re(327));Qr();var n=La(e,0);if(!(n&1))return pt(e,Le()),null;var r=tl(e,n);if(e.tag!==0&&r===2){var i=ou(e);i!==0&&(n=i,r=Pu(e,i))}if(r===1)throw r=ko,mr(e,0),Un(e,n),pt(e,Le()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,sr(e,st,mn),pt(e,Le()),null}function Yc(e,n){var r=ye;ye|=1;try{return e(n)}finally{ye=r,ye===0&&(oi=Le()+500,El&&or())}}function jr(e){qn!==null&&qn.tag===0&&!(ye&6)&&Qr();var n=ye;ye|=1;var r=Rt.transition,i=_e;try{if(Rt.transition=null,_e=1,e)return e()}finally{_e=i,Rt.transition=r,ye=n,!(ye&6)&&or()}}function Qc(){bt=Hr.current,Te(Hr)}function mr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,g1(r)),ze!==null)for(r=ze.return;r!==null;){var i=r;switch(Ac(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ba();break;case 3:ri(),Te(dt),Te(et),zc();break;case 5:$c(i);break;case 4:ri();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Dc(i.type._context);break;case 22:case 23:Qc()}r=r.return}if(He=e,ze=e=Xn(e.current,null),Ge=bt=n,Ue=0,ko=null,Gc=Al=kr=0,st=to=null,dr!==null){for(n=0;n<dr.length;n++)if(r=dr[n],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,a=r.pending;if(a!==null){var l=a.next;a.next=o,i.next=l}r.pending=i}dr=null}return e}function Sm(e,n){do{var r=ze;try{if(Pc(),wa.current=Za,Qa){for(var i=De.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Qa=!1}if(wr=0,qe=Fe=De=null,Ji=!1,bo=0,Wc.current=null,r===null||r.return===null){Ue=1,ko=n,ze=null;break}e:{var a=e,l=r.return,s=r,u=n;if(n=Ge,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=s,c=p.tag;if(!(p.mode&1)&&(c===0||c===11||c===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=jd(l);if(m!==null){m.flags&=-257,Nd(m,l,s,a,n),m.mode&1&&kd(a,f,n),n=m,u=f;var b=n.updateQueue;if(b===null){var w=new Set;w.add(u),n.updateQueue=w}else b.add(u);break e}else{if(!(n&1)){kd(a,f,n),Zc();break e}u=Error(re(426))}}else if(Ce&&s.mode&1){var _=jd(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Nd(_,l,s,a,n),Cc(ii(u,s));break e}}a=u=ii(u,s),Ue!==4&&(Ue=2),to===null?to=[a]:to.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var g=cm(a,u,n);vd(a,g);break e;case 1:s=u;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qn===null||!Qn.has(x)))){a.flags|=65536,n&=-n,a.lanes|=n;var y=fm(a,s,n);vd(a,y);break e}}a=a.return}while(a!==null)}Am(r)}catch(k){n=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function Tm(){var e=Xa.current;return Xa.current=Za,e===null?Za:e}function Zc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),He===null||!(kr&268435455)&&!(Al&268435455)||Un(He,Ge)}function tl(e,n){var r=ye;ye|=2;var i=Tm();(He!==e||Ge!==n)&&(mn=null,mr(e,n));do try{F1();break}catch(o){Sm(e,o)}while(!0);if(Pc(),ye=r,Xa.current=i,ze!==null)throw Error(re(261));return He=null,Ge=0,Ue}function F1(){for(;ze!==null;)Om(ze)}function U1(){for(;ze!==null&&!d0();)Om(ze)}function Om(e){var n=Im(e.alternate,e,bt);e.memoizedProps=e.pendingProps,n===null?Am(e):ze=n,Wc.current=null}function Am(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=D1(r,n),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,ze=null;return}}else if(r=P1(r,n,bt),r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=e}while(n!==null);Ue===0&&(Ue=5)}function sr(e,n,r){var i=_e,o=Rt.transition;try{Rt.transition=null,_e=1,B1(e,n,r,i)}finally{Rt.transition=o,_e=i}return null}function B1(e,n,r,i){do Qr();while(qn!==null);if(ye&6)throw Error(re(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(w0(e,a),e===He&&(ze=He=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ia||(ia=!0,Pm(Ra,function(){return Qr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Rt.transition,Rt.transition=null;var l=_e;_e=1;var s=ye;ye|=4,Wc.current=null,R1(e,r),jm(r,e),s1(fu),$a=!!cu,fu=cu=null,e.current=r,L1(r),h0(),ye=s,_e=l,Rt.transition=a}else e.current=r;if(ia&&(ia=!1,qn=e,el=o),a=e.pendingLanes,a===0&&(Qn=null),m0(r.stateNode),pt(e,Le()),n!==null)for(i=e.onRecoverableError,r=0;r<n.length;r++)o=n[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ja)throw Ja=!1,e=Cu,Cu=null,e;return el&1&&e.tag!==0&&Qr(),a=e.pendingLanes,a&1?e===Iu?no++:(no=0,Iu=e):no=0,or(),null}function Qr(){if(qn!==null){var e=cg(el),n=Rt.transition,r=_e;try{if(Rt.transition=null,_e=16>e?16:e,qn===null)var i=!1;else{if(e=qn,qn=null,el=0,ye&6)throw Error(re(331));var o=ye;for(ye|=4,se=e.current;se!==null;){var a=se,l=a.child;if(se.flags&16){var s=a.deletions;if(s!==null){for(var u=0;u<s.length;u++){var f=s[u];for(se=f;se!==null;){var p=se;switch(p.tag){case 0:case 11:case 15:eo(8,p,a)}var c=p.child;if(c!==null)c.return=p,se=c;else for(;se!==null;){p=se;var d=p.sibling,m=p.return;if(_m(p),p===f){se=null;break}if(d!==null){d.return=m,se=d;break}se=m}}}var b=a.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}se=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,se=l;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:eo(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,se=g;break e}se=a.return}}var v=e.current;for(se=v;se!==null;){l=se;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,se=x;else e:for(l=v;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ol(9,s)}}catch(k){Re(s,s.return,k)}if(s===l){se=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,se=y;break e}se=s.return}}if(ye=o,or(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(_l,e)}catch{}i=!0}return i}finally{_e=r,Rt.transition=n}}return!1}function $d(e,n,r){n=ii(r,n),n=cm(e,n,1),e=Yn(e,n,1),n=it(),e!==null&&(Po(e,1,n),pt(e,n))}function Re(e,n,r){if(e.tag===3)$d(e,e,r);else for(;n!==null;){if(n.tag===3){$d(n,e,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qn===null||!Qn.has(i))){e=ii(r,e),e=fm(n,e,1),n=Yn(n,e,1),e=it(),n!==null&&(Po(n,1,e),pt(n,e));break}}n=n.return}}function q1(e,n,r){var i=e.pingCache;i!==null&&i.delete(n),n=it(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(Ge&r)===r&&(Ue===4||Ue===3&&(Ge&130023424)===Ge&&500>Le()-Kc?mr(e,0):Gc|=r),pt(e,n)}function Cm(e,n){n===0&&(e.mode&1?(n=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):n=1);var r=it();e=Sn(e,n),e!==null&&(Po(e,n,r),pt(e,r))}function H1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Cm(e,r)}function V1(e,n){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(re(314))}i!==null&&i.delete(n),Cm(e,r)}var Im;Im=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return ut=!1,I1(e,n,r);ut=!!(e.flags&131072)}else ut=!1,Ce&&n.flags&1048576&&Rg(n,Va,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;ja(e,n),e=n.pendingProps;var o=ei(n,et.current);Yr(n,r),o=Uc(null,n,i,e,o,r);var a=Bc();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ht(i)?(a=!0,qa(n)):a=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Rc(n),o.updater=Tl,n.stateNode=o,o._reactInternals=n,bu(n,i,e,r),n=ku(null,n,i,!0,a,r)):(n.tag=0,Ce&&a&&Oc(n),nt(null,n,o,r),n=n.child),n;case 16:i=n.elementType;e:{switch(ja(e,n),e=n.pendingProps,o=i._init,i=o(i._payload),n.type=i,o=n.tag=G1(i),e=qt(i,e),o){case 0:n=wu(null,n,i,e,r);break e;case 1:n=Td(null,n,i,e,r);break e;case 11:n=Ed(null,n,i,e,r);break e;case 14:n=Sd(null,n,i,qt(i.type,e),r);break e}throw Error(re(306,i,""))}return n;case 0:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),wu(e,n,i,o,r);case 1:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),Td(e,n,i,o,r);case 3:e:{if(gm(n),e===null)throw Error(re(387));i=n.pendingProps,a=n.memoizedState,o=a.element,Bg(e,n),Ka(n,i,null,r);var l=n.memoizedState;if(i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){o=ii(Error(re(423)),n),n=Od(e,n,i,r,o);break e}else if(i!==o){o=ii(Error(re(424)),n),n=Od(e,n,i,r,o);break e}else for(wt=Kn(n.stateNode.containerInfo.firstChild),kt=n,Ce=!0,Vt=null,r=Fg(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ti(),i===o){n=Tn(e,n,r);break e}nt(e,n,i,r)}n=n.child}return n;case 5:return qg(n),e===null&&vu(n),i=n.type,o=n.pendingProps,a=e!==null?e.memoizedProps:null,l=o.children,du(i,o)?l=null:a!==null&&du(i,a)&&(n.flags|=32),pm(e,n),nt(e,n,l,r),n.child;case 6:return e===null&&vu(n),null;case 13:return mm(e,n,r);case 4:return Lc(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=ni(n,null,i,r):nt(e,n,i,r),n.child;case 11:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),Ed(e,n,i,o,r);case 7:return nt(e,n,n.pendingProps,r),n.child;case 8:return nt(e,n,n.pendingProps.children,r),n.child;case 12:return nt(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,o=n.pendingProps,a=n.memoizedProps,l=o.value,ke(Wa,i._currentValue),i._currentValue=l,a!==null)if(Qt(a.value,l)){if(a.children===o.children&&!dt.current){n=Tn(e,n,r);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var s=a.dependencies;if(s!==null){l=a.child;for(var u=s.firstContext;u!==null;){if(u.context===i){if(a.tag===1){u=kn(-1,r&-r),u.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),yu(a.return,r,n),s.lanes|=r;break}u=u.next}}else if(a.tag===10)l=a.type===n.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(re(341));l.lanes|=r,s=l.alternate,s!==null&&(s.lanes|=r),yu(l,r,n),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===n){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}nt(e,n,o.children,r),n=n.child}return n;case 9:return o=n.type,i=n.pendingProps.children,Yr(n,r),o=$t(o),i=i(o),n.flags|=1,nt(e,n,i,r),n.child;case 14:return i=n.type,o=qt(i,n.pendingProps),o=qt(i.type,o),Sd(e,n,i,o,r);case 15:return dm(e,n,n.type,n.pendingProps,r);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:qt(i,o),ja(e,n),n.tag=1,ht(i)?(e=!0,qa(n)):e=!1,Yr(n,r),um(n,i,o),bu(n,i,o,r),ku(null,n,i,!0,e,r);case 19:return vm(e,n,r);case 22:return hm(e,n,r)}throw Error(re(156,n.tag))};function Pm(e,n){return ag(e,n)}function W1(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,n,r,i){return new W1(e,n,r,i)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G1(e){if(typeof e=="function")return Xc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vc)return 11;if(e===yc)return 14}return 2}function Xn(e,n){var r=e.alternate;return r===null?(r=Mt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sa(e,n,r,i,o,a){var l=2;if(i=e,typeof e=="function")Xc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dr:return vr(r.children,o,a,n);case mc:l=8,o|=8;break;case Hs:return e=Mt(12,r,n,o|2),e.elementType=Hs,e.lanes=a,e;case Vs:return e=Mt(13,r,n,o),e.elementType=Vs,e.lanes=a,e;case Ws:return e=Mt(19,r,n,o),e.elementType=Ws,e.lanes=a,e;case qp:return Cl(r,o,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:l=10;break e;case Bp:l=9;break e;case vc:l=11;break e;case yc:l=14;break e;case Ln:l=16,i=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return n=Mt(l,r,n,o),n.elementType=e,n.type=i,n.lanes=a,n}function vr(e,n,r,i){return e=Mt(7,e,i,n),e.lanes=r,e}function Cl(e,n,r,i){return e=Mt(22,e,i,n),e.elementType=qp,e.lanes=r,e.stateNode={isHidden:!1},e}function js(e,n,r){return e=Mt(6,e,null,n),e.lanes=r,e}function Ns(e,n,r){return n=Mt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function K1(e,n,r,i,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jc(e,n,r,i,o,a,l,s,u){return e=new K1(e,n,r,s,u),n===1?(n=1,a===!0&&(n|=8)):n=0,a=Mt(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(a),e}function Y1(e,n,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:i==null?null:""+i,children:e,containerInfo:n,implementation:r}}function Dm(e){if(!e)return tr;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(re(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(ht(r))return Dg(e,r,n)}return n}function Mm(e,n,r,i,o,a,l,s,u){return e=Jc(r,i,!0,e,o,a,l,s,u),e.context=Dm(null),r=e.current,i=it(),o=Zn(r),a=kn(i,o),a.callback=n??null,Yn(r,a,o),e.current.lanes=o,Po(e,o,i),pt(e,i),e}function Il(e,n,r,i){var o=n.current,a=it(),l=Zn(o);return r=Dm(r),n.context===null?n.context=r:n.pendingContext=r,n=kn(a,l),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Yn(o,n,l),e!==null&&(Yt(e,o,l,a),_a(e,o,l)),l}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ef(e,n){zd(e,n),(e=e.alternate)&&zd(e,n)}function Q1(){return null}var Rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function tf(e){this._internalRoot=e}Pl.prototype.render=tf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(re(409));Il(e,n,null,null)};Pl.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jr(function(){Il(null,e,null,null)}),n[En]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var n=hg();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Fn.length&&n!==0&&n<Fn[r].priority;r++);Fn.splice(r,0,e),r===0&&gg(e)}};function nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function Z1(e,n,r,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var f=nl(l);a.call(f)}}var l=Mm(n,i,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=l,e[En]=l.current,go(e.nodeType===8?e.parentNode:e),jr(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var s=i;i=function(){var f=nl(u);s.call(f)}}var u=Jc(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=u,e[En]=u.current,go(e.nodeType===8?e.parentNode:e),jr(function(){Il(n,u,r,i)}),u}function Ml(e,n,r,i,o){var a=r._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var s=o;o=function(){var u=nl(l);s.call(u)}}Il(n,l,e,o)}else l=Z1(r,n,e,o,i);return nl(l)}fg=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=Bi(n.pendingLanes);r!==0&&(_c(n,r|1),pt(n,Le()),!(ye&6)&&(oi=Le()+500,or()))}break;case 13:jr(function(){var i=Sn(e,1);if(i!==null){var o=it();Yt(i,e,1,o)}}),ef(e,1)}};wc=function(e){if(e.tag===13){var n=Sn(e,134217728);if(n!==null){var r=it();Yt(n,e,134217728,r)}ef(e,134217728)}};dg=function(e){if(e.tag===13){var n=Zn(e),r=Sn(e,n);if(r!==null){var i=it();Yt(r,e,n,i)}ef(e,n)}};hg=function(){return _e};pg=function(e,n){var r=_e;try{return _e=e,n()}finally{_e=r}};nu=function(e,n,r){switch(n){case"input":if(Ys(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var o=Nl(i);if(!o)throw Error(re(90));Vp(i),Ys(i,o)}}}break;case"textarea":Gp(e,r);break;case"select":n=r.value,n!=null&&Vr(e,!!r.multiple,n,!1)}};eg=Yc;tg=jr;var X1={usingClientEntryPoint:!1,Events:[Mo,$r,Nl,Xp,Jp,Yc]},Oi={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J1={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ig(e),e===null?null:e.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||Q1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{_l=oa.inject(J1),ln=oa}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X1;Et.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(n))throw Error(re(200));return Y1(e,n,null,r)};Et.createRoot=function(e,n){if(!nf(e))throw Error(re(299));var r=!1,i="",o=Rm;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=Jc(e,1,!1,null,null,r,!1,i,o),e[En]=n.current,go(e.nodeType===8?e.parentNode:e),new tf(n)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=ig(n),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return jr(e)};Et.hydrate=function(e,n,r){if(!Dl(n))throw Error(re(200));return Ml(null,e,n,!0,r)};Et.hydrateRoot=function(e,n,r){if(!nf(e))throw Error(re(405));var i=r!=null&&r.hydratedSources||null,o=!1,a="",l=Rm;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),n=Mm(n,null,e,1,r??null,o,!1,a,l),e[En]=n.current,go(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o);return new Pl(n)};Et.render=function(e,n,r){if(!Dl(n))throw Error(re(200));return Ml(null,e,n,!1,r)};Et.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(re(40));return e._reactRootContainer?(jr(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};Et.unstable_batchedUpdates=Yc;Et.unstable_renderSubtreeIntoContainer=function(e,n,r,i){if(!Dl(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Ml(e,n,r,!1,i)};Et.version="18.3.1-next-f1338f8080-20240426";function Lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lm)}catch(e){console.error(e)}}Lm(),Lp.exports=Et;var $m=Lp.exports,Ud=$m;Bs.createRoot=Ud.createRoot,Bs.hydrateRoot=Ud.hydrateRoot;const ex=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 931.843 931.843",fill:"currentColor",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M926.932,305.137c12.301-38.3,1.4-86.6-32-124c-14.5-16.2-31.4-28.5-49.199-36.5c-5.1-8.4-11.201-16.6-18.1-24.4   c-29.9-33.5-69.4-51.5-105.701-51.7c-25.4-19.5-59.699-34.3-98.699-40.4c-30.7-4.8-60.3-3.6-86.2,2.4c-22.5-9.8-49-13.8-76.8-10.3   c-28.899,3.7-54.5,14.9-74.1,31c-31-14-70.9-14.8-108.9,0.9c-32.7,13.5-57.8,36.5-72,63c-25.4,5.6-51.1,19.1-73,40.1   c-31.1,29.8-47.5,68-47.4,102.8c-37.8,21-61.8,57.1-60.1,95.6c-10.1,15.4-17.7,33.5-21.7,53.4c-6.9,34.5-1.7,67.899,12.3,94.3   c-1,58.3,31.7,108.6,80.9,118.4c3.2,0.6,6.4,1.1,9.6,1.399c-1.7,12.101-1.5,24.4,1,36.7c14.1,71.1,95.7,114.8,182.3,97.6   c3.899-0.8,7.8-1.699,11.6-2.699l0,0c12.9,20.699,39.7,11.8,39.7,11.8v76.6c0,8.2,3.1,16,8.8,22l42.4,44.7   c9.899,10.5,27.5,3.4,27.5-11v-86.6c2.6-78.101,31.3-116.7,55.8-131.4c33-19.9,32.5-61.3,32.3-76.4   c26,13.7,67.101,21.5,101.5,17.601c155.199-17.9,163.299-122.3,168.4-139.4c45.299,3.4,86.898-15.8,104.898-52.7   c2.5-5.199,4.5-10.6,5.9-16c15-8.899,27.301-21.6,35.1-37.6C933.633,352.737,934.332,328.337,926.932,305.137z"})}),We=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Lo=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("polyline",{points:"3 6 5 6 21 6"}),h.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),gt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1V21c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h10.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7-.5-1.1V8.9L15.5 2z"}),h.jsx("path",{d:"M15 2v7h7"}),h.jsx("path",{d:"M8 17h8"}),h.jsx("path",{d:"M8 12h8"})]}),mt=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),vt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),h.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),rf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M21 8v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8"}),h.jsx("rect",{x:"1",y:"3",width:"22",height:"5"}),h.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]}),Jn=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("polyline",{points:"9 11 12 14 22 4"}),h.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),Mu=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),Lt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),tt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.jsx("polyline",{points:"14 2 14 8 20 8"}),h.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),h.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),h.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),nr=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),h.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),zm=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Fm=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{x:"1",y:"5",width:"22",height:"5",rx:"1"}),h.jsx("path",{d:"M22 10v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9"}),h.jsx("path",{d:"M12 14v-2"})]}),tx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5"})]}),ai=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),nx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),h.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),Zt=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M12 20h.01"}),h.jsx("path",{d:"M17 20h.01"}),h.jsx("path",{d:"M7 20h.01"}),h.jsx("path",{d:"M3 15h18"}),h.jsx("path",{d:"m3 10 2.5 2.5 2.5-2.5"}),h.jsx("path",{d:"M3 5h18"})]}),Bd=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),h.jsx("polyline",{points:"12 5 19 12 12 19"})]}),Rl=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),h.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),Or=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),h.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Um=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"18",cy:"18",r:"3"}),h.jsx("circle",{cx:"6",cy:"6",r:"3"}),h.jsx("path",{d:"M6 21V9a9 9 0 0 1 9 9"})]}),$o=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),h.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),h.jsx("path",{d:"m9 14 2 2 4-4"})]}),rx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"12",cy:"12",r:"1"}),h.jsx("circle",{cx:"12",cy:"5",r:"1"}),h.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),Bm=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),h.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),qm=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),Hm=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),ix=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("line",{x1:"6",y1:"3",x2:"6",y2:"15"}),h.jsx("circle",{cx:"18",cy:"6",r:"3"}),h.jsx("circle",{cx:"6",cy:"18",r:"3"}),h.jsx("path",{d:"M18 9a9 9 0 0 1-9 9"})]}),of=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"m6 9 6 6 6-6"})}),ox=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("circle",{cx:"12",cy:"12",r:"3"}),h.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),ax=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"7 10 12 15 17 10"}),h.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),lx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),sx=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),ux=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("path",{d:"m21 16-4 4-4-4"}),h.jsx("path",{d:"M17 20V4"}),h.jsx("path",{d:"m3 8 4-4 4 4"}),h.jsx("path",{d:"M7 4v16"})]}),cx=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:[h.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),h.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),fx=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"m15 18-6-6 6-6"})}),dx=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,"aria-hidden":"true",...n,children:h.jsx("path",{d:"m9 18 6-6-6-6"})}),af=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("path",{d:"M12 2a4 4 0 0 0-4 4v2"}),h.jsx("path",{d:"M12 2a4 4 0 0 1 4 4v2"}),h.jsx("path",{d:"M14 13a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"}),h.jsx("path",{d:"M14 4.5A2.5 2.5 0 0 1 16.5 2H18a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1.5"}),h.jsx("path",{d:"M10 4.5A2.5 2.5 0 0 0 7.5 2H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1.5"}),h.jsx("path",{d:"M16.5 14H18a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1.5a2.5 2.5 0 0 1-2.5-2.5"}),h.jsx("path",{d:"M7.5 14H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1.5a2.5 2.5 0 0 0 2.5-2.5"}),h.jsx("path",{d:"M13 8h1.5a2 2 0 0 1 2 2v1"}),h.jsx("path",{d:"M11 8H9.5a2 2 0 0 0-2 2v1"})]}),lf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),h.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),sf=({className:e,...n})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:h.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),uf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),h.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),cf=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),h.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),ff=({className:e,...n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...n,children:[h.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),hx={currentView:"dashboard",activeAreaId:null,activeProjectId:null,isCaptureModalOpen:!1,captureContext:null,editingNoteId:null,editingResourceId:null,editingTaskId:null,organizingItem:null,searchQuery:"",isCommandBarOpen:!1,toastMessage:null,linkingTask:null,confirmModal:null,draggedItemId:null,draggedItemType:null,isFocusMode:!1},px=(e,n)=>{switch(n.type){case"SET_VIEW":{const{view:r,itemId:i}=n.payload;return{...e,currentView:r,searchQuery:"",activeAreaId:r==="areas"?i||e.activeAreaId:null,activeProjectId:r==="projects"?i||e.activeProjectId:null,isFocusMode:r!=="areas"?!1:e.isFocusMode}}case"SET_ACTIVE_AREA":return{...e,activeAreaId:n.payload};case"SET_ACTIVE_PROJECT":return{...e,activeProjectId:n.payload};case"SET_CAPTURE_MODAL":return{...e,isCaptureModalOpen:n.payload.isOpen,captureContext:n.payload.context||null};case"SET_EDITING_NOTE":return{...e,editingNoteId:n.payload};case"SET_EDITING_RESOURCE":return{...e,editingResourceId:n.payload};case"SET_EDITING_TASK":return{...e,editingTaskId:n.payload};case"SET_ORGANIZING_ITEM":return{...e,organizingItem:n.payload};case"SET_LINKING_TASK":return{...e,linkingTask:n.payload};case"SET_SEARCH_QUERY":return{...e,searchQuery:n.payload};case"SET_COMMAND_BAR_OPEN":return{...e,isCommandBarOpen:n.payload};case"SHOW_TOAST":return{...e,toastMessage:n.payload};case"OPEN_CONFIRM_MODAL":return{...e,confirmModal:n.payload};case"CLOSE_CONFIRM_MODAL":return{...e,confirmModal:null};case"SET_DRAGGED_ITEM":return{...e,draggedItemId:n.payload.id,draggedItemType:n.payload.type};case"TOGGLE_FOCUS_MODE":return{...e,isFocusMode:!e.isFocusMode};default:return e}},Vm=G.createContext(void 0),gx=({children:e})=>{const[n,r]=G.useReducer(px,hx);return h.jsx(Vm.Provider,{value:{state:n,dispatch:r},children:e})},Ll=()=>{const e=G.useContext(Vm);if(e===void 0)throw new Error("useUI must be used within a UIProvider");return e},mx=[{view:"dashboard",label:"Home",icon:h.jsx(Bm,{className:"w-5 h-5"})},{view:"review",label:"Review",icon:h.jsx($o,{className:"w-5 h-5"})}],vx=[{view:"projects",label:"Projects",icon:h.jsx(gt,{className:"w-5 h-5"})},{view:"areas",label:"Areas",icon:h.jsx(mt,{className:"w-5 h-5"})},{view:"calendar",label:"Calendar",icon:h.jsx(Or,{className:"w-5 h-5"})},{view:"resources",label:"Resources",icon:h.jsx(vt,{className:"w-5 h-5"})},{view:"archives",label:"Archives",icon:h.jsx(rf,{className:"w-5 h-5"})},{view:"graph",label:"Graph",icon:h.jsx(Um,{className:"w-5 h-5"})}],Es=he.memo(function({isActive:n,onClick:r,icon:i,label:o,badgeCount:a}){return h.jsx("li",{children:h.jsxs("button",{onClick:r,className:`w-full flex items-center justify-between p-2.5 rounded-xl transition-all duration-300 ease-soft text-sm font-medium ${n?"bg-accent text-accent-content shadow-sm font-semibold":"text-text-secondary hover:bg-neutral hover:text-text-primary"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[i,h.jsx("span",{children:o})]}),a&&a>0?h.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${n?"bg-accent-content/80 text-accent":"bg-neutral-hover text-secondary-content"}`,children:a}):null]})})}),yx=({onNavigate:e,inboxCount:n})=>{const{state:r,dispatch:i}=Ll(),{currentView:o,searchQuery:a}=r;return h.jsxs("aside",{className:"w-72 h-[calc(100vh-2rem)] m-4 flex-shrink-0 flex flex-col bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md",children:[h.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-outline-dark",children:[h.jsx(ex,{className:"w-7 h-7 text-accent"}),h.jsx("h1",{className:"text-xl font-bold font-heading text-text-primary tracking-tight",children:"Second Brain"})]}),h.jsx("div",{className:"p-4 border-b border-outline-dark",children:h.jsxs("div",{className:"relative",children:[h.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),h.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:l=>i({type:"SET_SEARCH_QUERY",payload:l.target.value}),className:"w-full bg-background/50 border border-outline rounded-xl pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent"})]})}),h.jsxs("nav",{className:"flex-1 flex flex-col gap-6 overflow-y-auto custom-scrollbar p-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"px-2 mb-2 text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Menu"}),h.jsx("ul",{className:"space-y-1",children:mx.map(l=>h.jsx(Es,{isActive:o===l.view,onClick:()=>e(l.view),icon:l.icon,label:l.label,badgeCount:l.view==="dashboard"?n:void 0},l.view))})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"px-2 mb-2 text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Library"}),h.jsx("ul",{className:"space-y-1",children:vx.map(l=>h.jsx(Es,{isActive:o===l.view,onClick:()=>e(l.view),icon:l.icon,label:l.label},l.view))})]})]}),h.jsx("div",{className:"p-4 border-t border-outline-dark",children:h.jsx("ul",{className:"space-y-1",children:h.jsx(Es,{isActive:o==="settings",onClick:()=>e("settings"),icon:h.jsx(ox,{className:"w-5 h-5"}),label:"Settings"})})})]})},xx=he.memo(yx),bx=({icon:e,title:n,children:r,onAdd:i,addLabel:o,className:a="mb-6",headerPadding:l="p-4",bodyPadding:s="p-4",isCollapsible:u=!1,defaultOpen:f=!0})=>{const[p,c]=G.useState(f),d=he.Children.toArray(r),m=d.find(_=>he.isValidElement(_)&&_.props.slot==="header-content"),b=d.filter(_=>!he.isValidElement(_)||_.props.slot!=="header-content"),w=()=>h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-accent",children:e}),h.jsx("h3",{className:"font-bold text-lg font-heading tracking-tight text-text-primary",children:n})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[i&&h.jsx("button",{onClick:_=>{_.stopPropagation(),i()},"aria-label":o||`Add new ${n}`,className:"p-1 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:h.jsx(We,{className:"w-5 h-5"})}),u&&h.jsx(of,{className:`w-5 h-5 text-text-secondary transition-transform duration-300 ${p?"":"-rotate-90"}`})]})]});return h.jsxs("div",{className:`bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md h-full flex flex-col ${a}`,children:[h.jsx("header",{className:`flex items-center justify-between ${l} ${p&&b.length>0?"border-b border-outline-dark":""}`,children:u?h.jsx("div",{role:"button",tabIndex:0,onClick:()=>c(!p),onKeyDown:_=>(_.key==="Enter"||_.key===" ")&&c(!p),"aria-expanded":p,className:"w-full cursor-pointer",children:m||h.jsx(w,{})}):m||h.jsx(w,{})}),p&&h.jsx("div",{className:`${s} flex-1 overflow-y-auto custom-scrollbar`,children:b})]})},It=he.memo(bx),jo=(e,n)=>{const[r,i]=G.useState(!1),[o,a]=G.useState(e),l=G.useRef(null);G.useEffect(()=>{a(e)},[e]),G.useEffect(()=>{var c,d;r&&((c=l.current)==null||c.focus(),(d=l.current)==null||d.select())},[r]);const s=G.useCallback(()=>{i(!0)},[]),u=G.useCallback(()=>{o.trim()&&o.trim()!==e?n(o.trim()):a(e),i(!1)},[o,e,n]),f=G.useCallback(()=>{a(e),i(!1)},[e]),p=G.useCallback(c=>{c.key==="Enter"?(c.preventDefault(),u()):c.key==="Escape"&&f()},[u,f]);return{isEditing:r,value:o,setValue:a,handleEdit:s,handleSave:u,handleCancel:f,handleKeyDown:p,inputRef:l}},_x=({tag:e,onRemove:n,className:r=""})=>h.jsxs("div",{className:`flex items-center bg-secondary text-secondary-content text-xs font-medium px-2.5 py-1 rounded-full ${r}`,children:[h.jsx("span",{children:e}),n&&h.jsx("button",{onClick:()=>n(e),className:"-mr-1 ml-1.5 p-0.5 rounded-full hover:bg-secondary-hover focus:outline-none","aria-label":`Remove tag ${e}`,children:h.jsx(Lt,{className:"w-3 h-3"})})]}),Wm=he.memo(_x),wx=({tags:e,className:n="",itemClassName:r=""})=>!e||e.length===0?null:h.jsx("div",{className:`flex flex-wrap items-center gap-2 ${n}`,children:e.map(i=>h.jsx(Wm,{tag:i,className:r},i))}),ct=he.memo(wx),kx=({onEdit:e,onArchive:n,onDelete:r,isOpen:i,onToggle:o})=>{const a=G.useRef(null);G.useEffect(()=>{const s=u=>{i&&a.current&&!a.current.contains(u.target)&&o()};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[i,o]);const l=s=>()=>{s&&s(),o()};return h.jsxs("div",{className:"relative",ref:a,children:[h.jsx("button",{onClick:o,className:"p-2 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:h.jsx(rx,{className:"w-5 h-5"})}),i&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-surface/80 backdrop-blur-xl border border-outline rounded-lg shadow-lg z-10",children:h.jsxs("ul",{children:[e&&h.jsx("li",{children:h.jsxs("button",{onClick:l(e),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral transition-colors",children:[h.jsx(zm,{className:"w-4 h-4"})," Edit"]})}),h.jsx("li",{children:h.jsxs("button",{onClick:l(n),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm hover:bg-neutral transition-colors",children:[h.jsx(Fm,{className:"w-4 h-4"})," Archive"]})}),h.jsx("li",{children:h.jsxs("button",{onClick:l(r),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-destructive hover:bg-neutral transition-colors",children:[h.jsx(Lo,{className:"w-4 h-4"})," Delete"]})})]})})]})},$l=he.memo(kx),Hn=e=>e.startsWith("area-")?"area":e.startsWith("proj-")?"project":e.startsWith("task-")?"task":e.startsWith("note-")?"note":e.startsWith("res-")?"resource":null,jx=e=>{if(!e.includes(".")||e.includes(" "))return!1;try{const n=new URL(e.startsWith("http")?e:`https://${e}`);return n.protocol==="http:"||n.protocol==="https:"}catch{return!1}},Nx=[{unit:"year",seconds:31536e3},{unit:"month",seconds:2592e3},{unit:"week",seconds:604800},{unit:"day",seconds:86400},{unit:"hour",seconds:3600},{unit:"minute",seconds:60},{unit:"second",seconds:1}],Gm=e=>{if(!e)return"";const n=new Date(e),r=new Date,i=Math.round((n.getTime()-r.getTime())/1e3),o=new Intl.RelativeTimeFormat("en",{numeric:"auto"});for(const{unit:a,seconds:l}of Nx)if(Math.abs(i)>=l){const s=Math.round(i/l);return o.format(s,a)}return"just now"},Km=e=>new DOMParser().parseFromString(e,"text/html").body.textContent||"",Ss={High:{text:"text-priority-high",bg:"bg-priority-high-bg"},Medium:{text:"text-priority-medium",bg:"bg-priority-medium-bg"},Low:{text:"text-priority-low",bg:"bg-priority-low-bg"}},Ex=({task:e,allTasks:n=[],notes:r=[],resources:i=[],onToggleTask:o,onUpdateTask:a,onSelectTask:l,projectName:s,onLinkTask:u,isFadingOut:f,hasSubtasks:p,isCollapsed:c,onToggleCollapse:d,onArchive:m,onDelete:b,onAddSubtaskClick:w,showHierarchy:_=!1})=>{const[g,v]=G.useState(!1),{isEditing:x,value:y,setValue:k,handleEdit:N,handleSave:j,handleKeyDown:E,inputRef:C}=jo(e.title,U=>{U&&a(e.id,{title:U})}),S=e.stage==="Done"||f,T=G.useMemo(()=>!e.subtaskIds||e.subtaskIds.length===0?null:{completed:e.subtaskIds.filter(z=>{var H;return((H=n.find(D=>D.id===z))==null?void 0:H.stage)==="Done"}).length,total:e.subtaskIds.length},[e.subtaskIds,n]),O=G.useMemo(()=>{const U=(e.noteIds||[]).map(H=>r.find(D=>D.id===H)).filter(H=>!!H),z=(e.resourceIds||[]).map(H=>i.find(D=>D.id===H)).filter(H=>!!H);return[...U,...z]},[e.noteIds,e.resourceIds,r,i]);O.length>0;const P=U=>{U.target.closest("a, button")||l==null||l(e.id)},A=()=>m==null?void 0:m(e.id),L=()=>b==null?void 0:b(e.id);return x?h.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-background/50",children:[h.jsx("button",{onClick:()=>o(e.id),"aria-label":S?"Mark as incomplete":"Mark as complete",children:S?h.jsx(Jn,{className:"w-5 h-5 text-accent"}):h.jsx(Mu,{className:"w-5 h-5 text-text-tertiary"})}),h.jsx("input",{ref:C,type:"text",value:y,onChange:U=>k(U.target.value),onBlur:j,onKeyDown:E,className:"flex-1 bg-background/50 border border-outline px-2 py-1 text-sm rounded-md focus:ring-1 focus:ring-accent focus:outline-none"})]}):h.jsxs("div",{className:"flex items-center gap-3 p-2 group hover:bg-neutral rounded-lg transition-all duration-300 ease-soft",children:[_&&(p&&d?h.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-neutral-hover text-text-secondary",children:h.jsx(of,{className:`w-4 h-4 transition-transform duration-200 ${c?"-rotate-90":""}`})}):h.jsx("div",{className:"w-6 h-6 flex-shrink-0"})),h.jsx("button",{onClick:()=>o(e.id),"aria-label":S?"Mark as incomplete":"Mark as complete",className:"flex-shrink-0 text-text-secondary hover:text-accent",children:S?h.jsx(Jn,{className:"w-5 h-5 text-accent"}):h.jsx(Mu,{className:"w-5 h-5"})}),h.jsxs("div",{onDoubleClick:N,className:"flex-1 min-w-0",onClick:P,role:"button",tabIndex:0,onKeyDown:U=>U.key==="Enter"&&(l==null?void 0:l(e.id)),children:[h.jsx("span",{className:`cursor-pointer ${S?"line-through text-text-tertiary":""}`,children:e.title}),h.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-text-tertiary",children:[s&&h.jsx("p",{className:"text-xs text-text-secondary",children:s}),h.jsx(ct,{tags:e.tags}),e.description&&h.jsx(tt,{className:"w-3.5 h-3.5",title:"Has description"}),T&&h.jsxs("span",{className:"flex items-center gap-1",title:"Subtasks",children:[h.jsx($o,{className:"w-3.5 h-3.5"})," ",T.completed,"/",T.total]}),O.slice(0,2).map(U=>h.jsxs("span",{className:"flex items-center gap-1 bg-background/50 px-1.5 py-0.5 rounded-md border border-outline",children:[U.id.startsWith("note-")?h.jsx(tt,{className:"w-3 h-3"}):h.jsx(vt,{className:"w-3 h-3"}),h.jsx("span",{className:"truncate max-w-[100px]",children:U.title})]},U.id)),O.length>2&&h.jsxs("span",{className:"text-xs font-semibold bg-background/50 px-1.5 py-0.5 rounded-md border border-outline",children:["+",O.length-2," more"]})]})]}),e.stage==="Done"&&e.completedAt?h.jsx("div",{className:"flex items-center gap-1 text-xs text-text-tertiary ml-auto flex-shrink-0",title:`Completed on ${new Date(e.completedAt).toLocaleString()}`,children:h.jsx("span",{children:Gm(e.completedAt)})}):h.jsxs(h.Fragment,{children:[e.dueDate&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[h.jsx(Or,{className:"w-4 h-4"}),new Date(e.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),e.priority&&Ss[e.priority]&&h.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full ${Ss[e.priority].bg} ${Ss[e.priority].text}`,children:[h.jsx(Rl,{className:"w-3 h-3"}),e.priority]})]}),p&&w&&h.jsx("button",{onClick:w,"aria-label":"Add subtask",className:"p-1 text-text-tertiary hover:text-accent opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(We,{className:"w-4 h-4"})}),!e.projectId&&u&&h.jsx("button",{onClick:()=>u(e.id),"aria-label":"Link task to project",className:"p-1 text-text-tertiary hover:text-accent opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(nr,{className:"w-4 h-4"})}),(m||b)&&h.jsx("div",{className:`transition-opacity ${g?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:h.jsx($l,{isOpen:g,onToggle:()=>v(!g),onArchive:A,onDelete:L})})]})},rl=he.memo(Ex),Sx=he.memo(function({onCapture:n}){const[r,i]=G.useState(""),[o,a]=G.useState("note"),l=p=>{p.preventDefault(),r.trim()&&(n(r.trim(),o),i(""))},s=[{id:"note",label:"Note"},{id:"resource",label:"Resource"},{id:"task",label:"Task"}],u=p=>{p.preventDefault(),p.dataTransfer.dropEffect="none"},f=p=>{p.preventDefault(),p.stopPropagation()};return h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md p-5 flex flex-col h-full",children:[h.jsx("h2",{className:"font-bold text-lg font-heading text-text-primary mb-3 tracking-tight",children:"Capture"}),h.jsxs("form",{onSubmit:l,className:"flex-1 flex flex-col",children:[h.jsx("textarea",{value:r,onChange:p=>i(p.target.value),rows:3,placeholder:"Capture a thought, paste a link...",className:"w-full flex-1 bg-background/50 border border-outline px-3 py-2 text-sm text-text-primary focus:outline-none focus:ring-1 focus:ring-accent rounded-xl mb-3 custom-scrollbar",onDragOver:u,onDrop:f}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex items-center gap-2",children:s.map(p=>h.jsx("button",{type:"button",onClick:()=>a(p.id),className:`px-3 py-1 text-xs font-semibold rounded-lg border transition-colors duration-300 ease-soft ${o===p.id?"bg-accent text-accent-content border-accent":"bg-transparent hover:bg-accent/10 border-outline-dark text-text-secondary hover:text-accent"}`,children:p.label},p.id))}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg active:scale-95",children:"Add"})]})]})]})}),Tx=({projects:e,areas:n,tasks:r,inboxItems:i,onNavigate:o,onToggleTask:a,onOrganizeItem:l,onDirectOrganizeItem:s,onDeleteItem:u,onSaveNewTask:f,onDashboardCapture:p,onSelectItem:c,onReorderTasks:d,onUpdateTask:m,onOpenLinkTaskModal:b,onSelectTask:w})=>{const{state:_,dispatch:g}=Ll(),{draggedItemId:v,draggedItemType:x}=_,[y,k]=G.useState(""),[N,j]=G.useState(null),[E,C]=G.useState(null),[S,T]=G.useState(null),[O,P]=G.useState(!1),[A,L]=G.useState(new Set),{myDayTasks:U,upcomingTasks:z,recentProjects:H,recentAreas:D}=G.useMemo(()=>{const B=new Date;B.setHours(23,59,59,999);const $=r.filter(te=>te.status==="active"&&(te.stage!=="Done"&&(te.isMyDay||te.dueDate&&new Date(te.dueDate)<=B)||A.has(te.id))),V=new Date(Date.now()+7*24*60*60*1e3),Y=r.filter(te=>te.status==="active"&&te.stage!=="Done"&&te.dueDate&&new Date(te.dueDate)>B&&new Date(te.dueDate)<=V).sort((te,ce)=>new Date(te.dueDate).getTime()-new Date(ce.dueDate).getTime()).slice(0,5),Q=e.filter(te=>te.status==="active").sort((te,ce)=>new Date(ce.updatedAt).getTime()-new Date(te.updatedAt).getTime()).slice(0,5),J=n.filter(te=>te.status==="active").sort((te,ce)=>new Date(ce.updatedAt).getTime()-new Date(te.updatedAt).getTime()).slice(0,5);return{myDayTasks:$,upcomingTasks:Y,recentProjects:Q,recentAreas:J}},[e,n,r,A]),M=B=>{B.preventDefault(),y.trim()&&(f(y.trim()),k(""))},I=B=>{const $=U.find(V=>V.id===B);$&&$.stage!=="Done"?(L(V=>new Set(V).add(B)),setTimeout(()=>{a(B),L(V=>{const Y=new Set(V);return Y.delete(B),Y})},500)):a(B)},F=B=>{B.preventDefault(),B.dataTransfer.dropEffect="none"},R=B=>{B.preventDefault(),B.stopPropagation()},W=B=>B.id.startsWith("note-")?h.jsx(tt,{className:"w-4 h-4 text-text-tertiary"}):B.id.startsWith("res-")?h.jsx(vt,{className:"w-4 h-4 text-text-tertiary"}):B.id.startsWith("task-")?h.jsx(Zt,{className:"w-4 h-4 text-text-tertiary"}):null;return h.jsxs("div",{className:"custom-scrollbar space-y-8 h-full",children:[h.jsxs("header",{className:"mb-4",children:[h.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-1 font-heading tracking-tight",children:"Home"}),h.jsx("p",{className:"text-text-secondary",children:"Your command center for clarity and action."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"h-[400px]",onDragOver:B=>{x==="task"&&(B.preventDefault(),B.dataTransfer.dropEffect="move")},onDragEnter:B=>{x==="task"&&(B.preventDefault(),P(!0))},onDragLeave:()=>{P(!1)},onDrop:B=>{B.preventDefault(),v&&x==="task"&&m(v,{isMyDay:!0}),P(!1)},children:h.jsxs(It,{icon:h.jsx(Jn,{className:"w-6 h-6"}),title:"My Day",className:`transition-all duration-300 ease-soft ${O?"bg-accent/10":""}`,children:[h.jsxs("form",{onSubmit:M,className:"flex gap-2 mb-4",children:[h.jsx("input",{type:"text",value:y,onChange:B=>k(B.target.value),placeholder:"Add a task for today...",className:"flex-1 bg-background/50 border border-outline px-3 py-2 text-sm text-text-primary focus:outline-none focus:ring-1 focus:ring-accent rounded-lg",onDragOver:F,onDrop:R}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg active:scale-95",children:"Add"})]}),U.length>0?h.jsx("ul",{className:"flex-auto space-y-1 overflow-y-scroll overflow-x-clip custom-scrollbar -mr-2 pr-2",onDragLeave:()=>C(null),children:U.map(B=>{var V;const $=A.has(B.id);return h.jsxs("li",{draggable:!0,onDragStart:Y=>{Y.dataTransfer.setData("text/plain",B.id),Y.dataTransfer.effectAllowed="move",j(B.id)},onDragEnd:()=>{j(null),C(null)},onDragOver:Y=>{N&&(Y.preventDefault(),Y.dataTransfer.dropEffect="move",C(B.id))},onDrop:Y=>{if(N){Y.preventDefault(),Y.stopPropagation();const Q=Y.dataTransfer.getData("text/plain"),J=B.id;Q&&J&&Q!==J&&d(Q,J),j(null),C(null)}},className:`relative cursor-move transition-opacity ${N===B.id?"opacity-30":"opacity-100"} ${$?"task-item-fading":""}`,children:[E===B.id&&N!==B.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-1 bg-accent rounded-full"}),h.jsx(rl,{task:B,allTasks:r,onToggleTask:I,onSelectTask:w,projectName:B.projectId?(V=e.find(Y=>Y.id===B.projectId))==null?void 0:V.title:void 0,onUpdateTask:m,onLinkTask:b,isFadingOut:$})]},B.id)})}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-4",children:"No tasks for today. Enjoy the calm!"})]})}),h.jsx("div",{className:"h-[400px]",children:h.jsx(Sx,{onCapture:p})}),h.jsx("div",{className:"h-[400px]",children:h.jsx(It,{icon:h.jsx(nx,{className:"w-6 h-6"}),title:"Inbox",children:i.length>0?h.jsx("ul",{className:"space-y-2",children:i.map(B=>h.jsxs("li",{draggable:!0,onDragStart:$=>{$.dataTransfer.setData("text/plain",B.id);const V=Hn(B.id);g({type:"SET_DRAGGED_ITEM",payload:{id:B.id,type:V}})},onDragEnd:()=>g({type:"SET_DRAGGED_ITEM",payload:{id:null,type:null}}),className:`flex justify-between items-center p-2 group hover:bg-neutral rounded-xl transition-all duration-300 ease-soft cursor-grab ${v===B.id?"opacity-30":""}`,children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[W(B),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("button",{onClick:()=>c(B),className:"font-medium truncate text-left w-full block hover:text-accent",children:B.title}),h.jsx(ct,{tags:B.tags,className:"mt-1"})]})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>l(B),className:"text-sm bg-accent hover:bg-accent-hover text-accent-content font-semibold px-2 py-1 transition-colors rounded-md active:scale-95",children:"Organize"}),h.jsx("button",{onClick:()=>u(B.id),className:"p-1 text-text-secondary hover:text-destructive",children:h.jsx(Lo,{className:"w-4 h-4"})})]})]},B.id))}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-4",children:"Inbox is clear. Well done!"})})}),h.jsx("div",{className:"h-[400px]",children:h.jsx(It,{icon:h.jsx(Or,{className:"w-6 h-6"}),title:"Upcoming",children:z.length>0?h.jsx("ul",{className:"space-y-2",children:z.map(B=>{var $;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>w(B.id),className:"w-full text-left p-2 hover:bg-neutral rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("span",{className:"font-medium",children:B.title}),h.jsx("span",{className:"text-xs text-text-secondary flex-shrink-0",children:Gm(B.dueDate)})]}),h.jsx("p",{className:"text-xs text-text-tertiary",children:($=e.find(V=>V.id===B.projectId))==null?void 0:$.title})]})},B.id)})}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-4",children:"Nothing due in the next 7 days."})})}),h.jsx("div",{className:"h-[400px]",children:h.jsx(It,{icon:h.jsx(gt,{className:"w-6 h-6"}),title:"Recent Projects",children:H.length>0?h.jsx("ul",{className:"space-y-2",children:H.map(B=>{var $;return h.jsx("li",{onDragOver:V=>{v&&V.preventDefault()},onDragEnter:V=>{v&&(V.preventDefault(),T(B.id))},onDragLeave:()=>{v&&T(null)},onDrop:V=>{if(v){V.preventDefault();const Y=V.dataTransfer.getData("text/plain");Y&&s(Y,[B.id]),T(null)}},children:h.jsxs("button",{onClick:()=>o("projects",B.id),className:`w-full flex justify-between items-center text-left p-3 rounded-xl transition-all duration-300 ease-soft hover:-translate-y-0.5 ${S===B.id?"bg-accent/20 ring-2 ring-accent/80 ring-inset":"hover:bg-neutral"}`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:B.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate",children:(($=n.find(V=>V.id===B.areaId))==null?void 0:$.title)||"No Area"})]}),h.jsx(Bd,{className:"w-4 h-4 text-text-tertiary"})]})},B.id)})}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-2",children:"No active projects yet."})})}),h.jsx("div",{className:"h-[400px]",children:h.jsx(It,{icon:h.jsx(mt,{className:"w-6 h-6"}),title:"Recent Areas",children:D.length>0?h.jsx("ul",{className:"space-y-2",children:D.map(B=>h.jsx("li",{onDragOver:$=>{v&&(x==="note"||x==="resource")&&$.preventDefault()},onDragEnter:$=>{v&&(x==="note"||x==="resource")&&($.preventDefault(),T(B.id))},onDragLeave:()=>{v&&T(null)},onDrop:$=>{if(v){$.preventDefault();const V=$.dataTransfer.getData("text/plain");V&&s(V,[B.id]),T(null)}},children:h.jsxs("button",{onClick:()=>o("areas",B.id),className:`w-full flex justify-between items-center text-left p-3 rounded-xl transition-all duration-300 ease-soft hover:-translate-y-0.5 ${S===B.id?"bg-accent/20 ring-2 ring-accent/80 ring-inset":"hover:bg-neutral"}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(mt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("p",{className:"font-semibold",children:B.title})]}),h.jsx(Bd,{className:"w-4 h-4 text-text-tertiary"})]})},B.id))}):h.jsx("p",{className:"text-sm text-text-tertiary text-center py-2",children:"No active areas yet."})})})]})]})},Ox=he.memo(Tx),Ax=({tags:e,onTagsChange:n,placeholder:r="Add tags..."})=>{const[i,o]=G.useState(""),a=u=>{o(u.target.value)},l=u=>{if(u.key==="Enter"||u.key===","){u.preventDefault();const f=i.trim();f&&!e.includes(f)&&n([...e,f]),o("")}else u.key==="Backspace"&&!i&&e.length>0&&n(e.slice(0,-1))},s=u=>{n(e.filter(f=>f!==u))};return h.jsxs("div",{className:"w-full bg-background/50 border border-outline rounded-lg p-2 flex flex-wrap items-center gap-2 focus-within:ring-1 focus-within:ring-accent",children:[e.map(u=>h.jsx(Wm,{tag:u,onRemove:s},u)),h.jsx("input",{type:"text",value:i,onChange:a,onKeyDown:l,placeholder:r,className:"flex-1 bg-transparent text-sm min-w-[100px] focus:outline-none p-1"})]})},Nr=he.memo(Ax),Cx=({isOpen:e,onClose:n,onSave:r,projects:i,areas:o,context:a})=>{const[l,s]=G.useState("task"),[u,f]=G.useState(""),[p,c]=G.useState(""),[d,m]=G.useState(""),[b,w]=G.useState(null),[_,g]=G.useState("Medium"),[v,x]=G.useState(""),[y,k]=G.useState([]),[N,j]=G.useState(""),[E,C]=G.useState("");G.useEffect(()=>{a?(s(a.itemType||"task"),w(a.parentId||null)):(s("task"),w(null)),f(""),c(""),m(""),j(""),C(""),g("Medium"),x(""),k([])},[a,e]);const S=G.useMemo(()=>{const A=i.map(U=>({value:U.id,label:`Project: ${U.title}`}));return[...o.map(U=>({value:U.id,label:`Area: ${U.title}`})),...A]},[i,o]),T=A=>{if(A.preventDefault(),!u)return;if(l==="project"&&(!b||!o.some(U=>U.id===b))){alert("A new project must be linked to an area. If you need to create an area first, use the Command Bar (Ctrl+K).");return}let L={title:u,tags:y};switch(l){case"task":L={...L,description:d,priority:_,dueDate:v};break;case"note":L={...L,content:p};break;case"project":case"area":L={...L,description:d};break;case"resource":if(N.trim()===""&&E.trim()===""){alert("A resource must have a URL or some content.");return}L.url=N.trim()?N.trim():void 0,L.content=E.trim()?E.trim():void 0;break}r(L,l,b)};if(!e)return null;const O=()=>l==="task"?"Link to Project (Optional)":l==="project"?"Link to Area":l==="area"?"":"Link to Project or Area (Optional)",P=G.useMemo(()=>l==="task"?S.filter(A=>A.value.startsWith("proj-")):l==="project"?S.filter(A=>A.value.startsWith("area-")):S,[l,S]);return h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"capture-modal-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:A=>A.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsxs("h2",{id:"capture-modal-title",className:"text-xl font-bold font-heading",children:["New ",l.charAt(0).toUpperCase()+l.slice(1)]}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:T,className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"item-title",type:"text",value:u,onChange:A=>f(A.target.value),placeholder:"Enter title...",required:!0,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent"})]}),(l==="project"||l==="area"||l==="task")&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-description",className:"sr-only",children:"Description"}),h.jsx("textarea",{id:"item-description",value:d,onChange:A=>m(A.target.value),rows:3,placeholder:`Enter ${l} description... (Optional)`,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]}),l==="note"&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-content",className:"sr-only",children:"Content"}),h.jsx("textarea",{id:"item-content",value:p,onChange:A=>c(A.target.value),rows:5,placeholder:"Write your note here...",className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]}),l==="resource"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"resource-url",className:"sr-only",children:"URL"}),h.jsx("input",{id:"resource-url",type:"text",value:N,onChange:A=>j(A.target.value),placeholder:"URL (Optional)",className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"resource-notes",className:"sr-only",children:"Content / Notes"}),h.jsx("textarea",{id:"resource-notes",value:E,onChange:A=>C(A.target.value),rows:4,placeholder:"Content / Notes",className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]})]}),l==="task"&&h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"task-priority",className:"block text-sm font-medium text-text-secondary mb-2",children:"Priority"}),h.jsxs("select",{id:"task-priority",value:_,onChange:A=>g(A.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent",children:[h.jsx("option",{children:"Low"}),h.jsx("option",{children:"Medium"}),h.jsx("option",{children:"High"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"task-duedate",className:"block text-sm font-medium text-text-secondary mb-2",children:"Due Date"}),h.jsx("input",{type:"date",id:"task-duedate",value:v,onChange:A=>x(A.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent"})]})]}),O()&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"item-parent",className:"block text-sm font-medium text-text-secondary mb-2",children:O()}),h.jsxs("select",{id:"item-parent",value:b||"",onChange:A=>w(A.target.value||null),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent",children:[h.jsx("option",{value:"",children:"None"}),P.map(A=>h.jsx("option",{value:A.value,children:A.label},A.value))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:y,onTagsChange:k})]})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save"})]})})]})]})})},Ix=he.memo(Cx);function Px(){this.__data__=[],this.size=0}var Dx=Px;function Mx(e,n){return e===n||e!==e&&n!==n}var Ym=Mx,Rx=Ym;function Lx(e,n){for(var r=e.length;r--;)if(Rx(e[r][0],n))return r;return-1}var zl=Lx,$x=zl,zx=Array.prototype,Fx=zx.splice;function Ux(e){var n=this.__data__,r=$x(n,e);if(r<0)return!1;var i=n.length-1;return r==i?n.pop():Fx.call(n,r,1),--this.size,!0}var Bx=Ux,qx=zl;function Hx(e){var n=this.__data__,r=qx(n,e);return r<0?void 0:n[r][1]}var Vx=Hx,Wx=zl;function Gx(e){return Wx(this.__data__,e)>-1}var Kx=Gx,Yx=zl;function Qx(e,n){var r=this.__data__,i=Yx(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}var Zx=Qx,Xx=Dx,Jx=Bx,eb=Vx,tb=Kx,nb=Zx;function hi(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}hi.prototype.clear=Xx;hi.prototype.delete=Jx;hi.prototype.get=eb;hi.prototype.has=tb;hi.prototype.set=nb;var Fl=hi,rb=Fl;function ib(){this.__data__=new rb,this.size=0}var ob=ib;function ab(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}var lb=ab;function sb(e){return this.__data__.get(e)}var ub=sb;function cb(e){return this.__data__.has(e)}var fb=cb,db=typeof _t=="object"&&_t&&_t.Object===Object&&_t,Qm=db,hb=Qm,pb=typeof self=="object"&&self&&self.Object===Object&&self,gb=hb||pb||Function("return this")(),Cn=gb,mb=Cn,vb=mb.Symbol,df=vb,qd=df,Zm=Object.prototype,yb=Zm.hasOwnProperty,xb=Zm.toString,Ai=qd?qd.toStringTag:void 0;function bb(e){var n=yb.call(e,Ai),r=e[Ai];try{e[Ai]=void 0;var i=!0}catch{}var o=xb.call(e);return i&&(n?e[Ai]=r:delete e[Ai]),o}var _b=bb,wb=Object.prototype,kb=wb.toString;function jb(e){return kb.call(e)}var Nb=jb,Hd=df,Eb=_b,Sb=Nb,Tb="[object Null]",Ob="[object Undefined]",Vd=Hd?Hd.toStringTag:void 0;function Ab(e){return e==null?e===void 0?Ob:Tb:Vd&&Vd in Object(e)?Eb(e):Sb(e)}var Ul=Ab;function Cb(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Xm=Cb,Ib=Ul,Pb=Xm,Db="[object AsyncFunction]",Mb="[object Function]",Rb="[object GeneratorFunction]",Lb="[object Proxy]";function $b(e){if(!Pb(e))return!1;var n=Ib(e);return n==Mb||n==Rb||n==Db||n==Lb}var Jm=$b,zb=Cn,Fb=zb["__core-js_shared__"],Ub=Fb,Ts=Ub,Wd=function(){var e=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bb(e){return!!Wd&&Wd in e}var qb=Bb,Hb=Function.prototype,Vb=Hb.toString;function Wb(e){if(e!=null){try{return Vb.call(e)}catch{}try{return e+""}catch{}}return""}var ev=Wb,Gb=Jm,Kb=qb,Yb=Xm,Qb=ev,Zb=/[\\^$.*+?()[\]{}|]/g,Xb=/^\[object .+?Constructor\]$/,Jb=Function.prototype,e_=Object.prototype,t_=Jb.toString,n_=e_.hasOwnProperty,r_=RegExp("^"+t_.call(n_).replace(Zb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i_(e){if(!Yb(e)||Kb(e))return!1;var n=Gb(e)?r_:Xb;return n.test(Qb(e))}var o_=i_;function a_(e,n){return e==null?void 0:e[n]}var l_=a_,s_=o_,u_=l_;function c_(e,n){var r=u_(e,n);return s_(r)?r:void 0}var pi=c_,f_=pi,d_=Cn,h_=f_(d_,"Map"),hf=h_,p_=pi,g_=p_(Object,"create"),Bl=g_,Gd=Bl;function m_(){this.__data__=Gd?Gd(null):{},this.size=0}var v_=m_;function y_(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var x_=y_,b_=Bl,__="__lodash_hash_undefined__",w_=Object.prototype,k_=w_.hasOwnProperty;function j_(e){var n=this.__data__;if(b_){var r=n[e];return r===__?void 0:r}return k_.call(n,e)?n[e]:void 0}var N_=j_,E_=Bl,S_=Object.prototype,T_=S_.hasOwnProperty;function O_(e){var n=this.__data__;return E_?n[e]!==void 0:T_.call(n,e)}var A_=O_,C_=Bl,I_="__lodash_hash_undefined__";function P_(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=C_&&n===void 0?I_:n,this}var D_=P_,M_=v_,R_=x_,L_=N_,$_=A_,z_=D_;function gi(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}gi.prototype.clear=M_;gi.prototype.delete=R_;gi.prototype.get=L_;gi.prototype.has=$_;gi.prototype.set=z_;var F_=gi,Kd=F_,U_=Fl,B_=hf;function q_(){this.size=0,this.__data__={hash:new Kd,map:new(B_||U_),string:new Kd}}var H_=q_;function V_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var W_=V_,G_=W_;function K_(e,n){var r=e.__data__;return G_(n)?r[typeof n=="string"?"string":"hash"]:r.map}var ql=K_,Y_=ql;function Q_(e){var n=Y_(this,e).delete(e);return this.size-=n?1:0,n}var Z_=Q_,X_=ql;function J_(e){return X_(this,e).get(e)}var e2=J_,t2=ql;function n2(e){return t2(this,e).has(e)}var r2=n2,i2=ql;function o2(e,n){var r=i2(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}var a2=o2,l2=H_,s2=Z_,u2=e2,c2=r2,f2=a2;function mi(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}mi.prototype.clear=l2;mi.prototype.delete=s2;mi.prototype.get=u2;mi.prototype.has=c2;mi.prototype.set=f2;var tv=mi,d2=Fl,h2=hf,p2=tv,g2=200;function m2(e,n){var r=this.__data__;if(r instanceof d2){var i=r.__data__;if(!h2||i.length<g2-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new p2(i)}return r.set(e,n),this.size=r.size,this}var v2=m2,y2=Fl,x2=ob,b2=lb,_2=ub,w2=fb,k2=v2;function vi(e){var n=this.__data__=new y2(e);this.size=n.size}vi.prototype.clear=x2;vi.prototype.delete=b2;vi.prototype.get=_2;vi.prototype.has=w2;vi.prototype.set=k2;var j2=vi,N2="__lodash_hash_undefined__";function E2(e){return this.__data__.set(e,N2),this}var S2=E2;function T2(e){return this.__data__.has(e)}var O2=T2,A2=tv,C2=S2,I2=O2;function il(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new A2;++n<r;)this.add(e[n])}il.prototype.add=il.prototype.push=C2;il.prototype.has=I2;var P2=il;function D2(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}var M2=D2;function R2(e,n){return e.has(n)}var L2=R2,$2=P2,z2=M2,F2=L2,U2=1,B2=2;function q2(e,n,r,i,o,a){var l=r&U2,s=e.length,u=n.length;if(s!=u&&!(l&&u>s))return!1;var f=a.get(e),p=a.get(n);if(f&&p)return f==n&&p==e;var c=-1,d=!0,m=r&B2?new $2:void 0;for(a.set(e,n),a.set(n,e);++c<s;){var b=e[c],w=n[c];if(i)var _=l?i(w,b,c,n,e,a):i(b,w,c,e,n,a);if(_!==void 0){if(_)continue;d=!1;break}if(m){if(!z2(n,function(g,v){if(!F2(m,v)&&(b===g||o(b,g,r,i,a)))return m.push(v)})){d=!1;break}}else if(!(b===w||o(b,w,r,i,a))){d=!1;break}}return a.delete(e),a.delete(n),d}var nv=q2,H2=Cn,V2=H2.Uint8Array,W2=V2;function G2(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}var K2=G2;function Y2(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}var Q2=Y2,Yd=df,Qd=W2,Z2=Ym,X2=nv,J2=K2,ew=Q2,tw=1,nw=2,rw="[object Boolean]",iw="[object Date]",ow="[object Error]",aw="[object Map]",lw="[object Number]",sw="[object RegExp]",uw="[object Set]",cw="[object String]",fw="[object Symbol]",dw="[object ArrayBuffer]",hw="[object DataView]",Zd=Yd?Yd.prototype:void 0,Os=Zd?Zd.valueOf:void 0;function pw(e,n,r,i,o,a,l){switch(r){case hw:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case dw:return!(e.byteLength!=n.byteLength||!a(new Qd(e),new Qd(n)));case rw:case iw:case lw:return Z2(+e,+n);case ow:return e.name==n.name&&e.message==n.message;case sw:case cw:return e==n+"";case aw:var s=J2;case uw:var u=i&tw;if(s||(s=ew),e.size!=n.size&&!u)return!1;var f=l.get(e);if(f)return f==n;i|=nw,l.set(e,n);var p=X2(s(e),s(n),i,o,a,l);return l.delete(e),p;case fw:if(Os)return Os.call(e)==Os.call(n)}return!1}var gw=pw;function mw(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}var vw=mw,yw=Array.isArray,pf=yw,xw=vw,bw=pf;function _w(e,n,r){var i=n(e);return bw(e)?i:xw(i,r(e))}var ww=_w;function kw(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var l=e[r];n(l,r,e)&&(a[o++]=l)}return a}var jw=kw;function Nw(){return[]}var Ew=Nw,Sw=jw,Tw=Ew,Ow=Object.prototype,Aw=Ow.propertyIsEnumerable,Xd=Object.getOwnPropertySymbols,Cw=Xd?function(e){return e==null?[]:(e=Object(e),Sw(Xd(e),function(n){return Aw.call(e,n)}))}:Tw,Iw=Cw;function Pw(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}var Dw=Pw;function Mw(e){return e!=null&&typeof e=="object"}var Hl=Mw,Rw=Ul,Lw=Hl,$w="[object Arguments]";function zw(e){return Lw(e)&&Rw(e)==$w}var Fw=zw,Jd=Fw,Uw=Hl,rv=Object.prototype,Bw=rv.hasOwnProperty,qw=rv.propertyIsEnumerable,Hw=Jd(function(){return arguments}())?Jd:function(e){return Uw(e)&&Bw.call(e,"callee")&&!qw.call(e,"callee")},Vw=Hw,ol={exports:{}};function Ww(){return!1}var Gw=Ww;ol.exports;(function(e,n){var r=Cn,i=Gw,o=n&&!n.nodeType&&n,a=o&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===o,s=l?r.Buffer:void 0,u=s?s.isBuffer:void 0,f=u||i;e.exports=f})(ol,ol.exports);var iv=ol.exports,Kw=9007199254740991,Yw=/^(?:0|[1-9]\d*)$/;function Qw(e,n){var r=typeof e;return n=n??Kw,!!n&&(r=="number"||r!="symbol"&&Yw.test(e))&&e>-1&&e%1==0&&e<n}var Zw=Qw,Xw=9007199254740991;function Jw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xw}var ov=Jw,ek=Ul,tk=ov,nk=Hl,rk="[object Arguments]",ik="[object Array]",ok="[object Boolean]",ak="[object Date]",lk="[object Error]",sk="[object Function]",uk="[object Map]",ck="[object Number]",fk="[object Object]",dk="[object RegExp]",hk="[object Set]",pk="[object String]",gk="[object WeakMap]",mk="[object ArrayBuffer]",vk="[object DataView]",yk="[object Float32Array]",xk="[object Float64Array]",bk="[object Int8Array]",_k="[object Int16Array]",wk="[object Int32Array]",kk="[object Uint8Array]",jk="[object Uint8ClampedArray]",Nk="[object Uint16Array]",Ek="[object Uint32Array]",Se={};Se[yk]=Se[xk]=Se[bk]=Se[_k]=Se[wk]=Se[kk]=Se[jk]=Se[Nk]=Se[Ek]=!0;Se[rk]=Se[ik]=Se[mk]=Se[ok]=Se[vk]=Se[ak]=Se[lk]=Se[sk]=Se[uk]=Se[ck]=Se[fk]=Se[dk]=Se[hk]=Se[pk]=Se[gk]=!1;function Sk(e){return nk(e)&&tk(e.length)&&!!Se[ek(e)]}var Tk=Sk;function Ok(e){return function(n){return e(n)}}var Ak=Ok,al={exports:{}};al.exports;(function(e,n){var r=Qm,i=n&&!n.nodeType&&n,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,l=a&&r.process,s=function(){try{var u=o&&o.require&&o.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}}();e.exports=s})(al,al.exports);var Ck=al.exports,Ik=Tk,Pk=Ak,eh=Ck,th=eh&&eh.isTypedArray,Dk=th?Pk(th):Ik,av=Dk,Mk=Dw,Rk=Vw,Lk=pf,$k=iv,zk=Zw,Fk=av,Uk=Object.prototype,Bk=Uk.hasOwnProperty;function qk(e,n){var r=Lk(e),i=!r&&Rk(e),o=!r&&!i&&$k(e),a=!r&&!i&&!o&&Fk(e),l=r||i||o||a,s=l?Mk(e.length,String):[],u=s.length;for(var f in e)(n||Bk.call(e,f))&&!(l&&(f=="length"||o&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||zk(f,u)))&&s.push(f);return s}var Hk=qk,Vk=Object.prototype;function Wk(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Vk;return e===r}var Gk=Wk;function Kk(e,n){return function(r){return e(n(r))}}var Yk=Kk,Qk=Yk,Zk=Qk(Object.keys,Object),Xk=Zk,Jk=Gk,ej=Xk,tj=Object.prototype,nj=tj.hasOwnProperty;function rj(e){if(!Jk(e))return ej(e);var n=[];for(var r in Object(e))nj.call(e,r)&&r!="constructor"&&n.push(r);return n}var ij=rj,oj=Jm,aj=ov;function lj(e){return e!=null&&aj(e.length)&&!oj(e)}var sj=lj,uj=Hk,cj=ij,fj=sj;function dj(e){return fj(e)?uj(e):cj(e)}var hj=dj,pj=ww,gj=Iw,mj=hj;function vj(e){return pj(e,mj,gj)}var yj=vj,nh=yj,xj=1,bj=Object.prototype,_j=bj.hasOwnProperty;function wj(e,n,r,i,o,a){var l=r&xj,s=nh(e),u=s.length,f=nh(n),p=f.length;if(u!=p&&!l)return!1;for(var c=u;c--;){var d=s[c];if(!(l?d in n:_j.call(n,d)))return!1}var m=a.get(e),b=a.get(n);if(m&&b)return m==n&&b==e;var w=!0;a.set(e,n),a.set(n,e);for(var _=l;++c<u;){d=s[c];var g=e[d],v=n[d];if(i)var x=l?i(v,g,d,n,e,a):i(g,v,d,e,n,a);if(!(x===void 0?g===v||o(g,v,r,i,a):x)){w=!1;break}_||(_=d=="constructor")}if(w&&!_){var y=e.constructor,k=n.constructor;y!=k&&"constructor"in e&&"constructor"in n&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(w=!1)}return a.delete(e),a.delete(n),w}var kj=wj,jj=pi,Nj=Cn,Ej=jj(Nj,"DataView"),Sj=Ej,Tj=pi,Oj=Cn,Aj=Tj(Oj,"Promise"),Cj=Aj,Ij=pi,Pj=Cn,Dj=Ij(Pj,"Set"),Mj=Dj,Rj=pi,Lj=Cn,$j=Rj(Lj,"WeakMap"),zj=$j,Ru=Sj,Lu=hf,$u=Cj,zu=Mj,Fu=zj,lv=Ul,yi=ev,rh="[object Map]",Fj="[object Object]",ih="[object Promise]",oh="[object Set]",ah="[object WeakMap]",lh="[object DataView]",Uj=yi(Ru),Bj=yi(Lu),qj=yi($u),Hj=yi(zu),Vj=yi(Fu),ur=lv;(Ru&&ur(new Ru(new ArrayBuffer(1)))!=lh||Lu&&ur(new Lu)!=rh||$u&&ur($u.resolve())!=ih||zu&&ur(new zu)!=oh||Fu&&ur(new Fu)!=ah)&&(ur=function(e){var n=lv(e),r=n==Fj?e.constructor:void 0,i=r?yi(r):"";if(i)switch(i){case Uj:return lh;case Bj:return rh;case qj:return ih;case Hj:return oh;case Vj:return ah}return n});var Wj=ur,As=j2,Gj=nv,Kj=gw,Yj=kj,sh=Wj,uh=pf,ch=iv,Qj=av,Zj=1,fh="[object Arguments]",dh="[object Array]",aa="[object Object]",Xj=Object.prototype,hh=Xj.hasOwnProperty;function Jj(e,n,r,i,o,a){var l=uh(e),s=uh(n),u=l?dh:sh(e),f=s?dh:sh(n);u=u==fh?aa:u,f=f==fh?aa:f;var p=u==aa,c=f==aa,d=u==f;if(d&&ch(e)){if(!ch(n))return!1;l=!0,p=!1}if(d&&!p)return a||(a=new As),l||Qj(e)?Gj(e,n,r,i,o,a):Kj(e,n,u,r,i,o,a);if(!(r&Zj)){var m=p&&hh.call(e,"__wrapped__"),b=c&&hh.call(n,"__wrapped__");if(m||b){var w=m?e.value():e,_=b?n.value():n;return a||(a=new As),o(w,_,r,i,a)}}return d?(a||(a=new As),Yj(e,n,r,i,o,a)):!1}var eN=Jj,tN=eN,ph=Hl;function sv(e,n,r,i,o){return e===n?!0:e==null||n==null||!ph(e)&&!ph(n)?e!==e&&n!==n:tN(e,n,r,i,sv,o)}var nN=sv,rN=nN;function iN(e,n){return rN(e,n)}var oN=iN,uv={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,n){(function(i,o){e.exports=o()})(typeof self<"u"?self:_t,function(){return function(r){var i={};function o(a){if(i[a])return i[a].exports;var l=i[a]={i:a,l:!1,exports:{}};return r[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=r,o.c=i,o.d=function(a,l,s){o.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:s})},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s=109)}([function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(17),l=o(18),s=o(19),u=o(45),f=o(46),p=o(47),c=o(48),d=o(49),m=o(12),b=o(32),w=o(33),_=o(31),g=o(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:l.default,Leaf:s.default,Embed:c.default,Scroll:u.default,Block:p.default,Inline:f.default,Text:d.default,Attributor:{Attribute:m.default,Class:b.default,Style:w.default,Store:_.default}};i.default=v},function(r,i,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)v.hasOwnProperty(x)&&(g[x]=v[x])};return function(g,v){_(g,v);function x(){this.constructor=g}g.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=function(_){a(g,_);function g(v){var x=this;return v="[Parchment] "+v,x=_.call(this,v)||this,x.message=v,x.name=x.constructor.name,x}return g}(Error);i.ParchmentError=l;var s={},u={},f={},p={};i.DATA_KEY="__blot";var c;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(c=i.Scope||(i.Scope={}));function d(_,g){var v=b(_);if(v==null)throw new l("Unable to create "+_+" blot");var x=v,y=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:x.create(g);return new x(y,g)}i.create=d;function m(_,g){return g===void 0&&(g=!1),_==null?null:_[i.DATA_KEY]!=null?_[i.DATA_KEY].blot:g?m(_.parentNode,g):null}i.find=m;function b(_,g){g===void 0&&(g=c.ANY);var v;if(typeof _=="string")v=p[_]||s[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)v=p.text;else if(typeof _=="number")_&c.LEVEL&c.BLOCK?v=p.block:_&c.LEVEL&c.INLINE&&(v=p.inline);else if(_ instanceof HTMLElement){var x=(_.getAttribute("class")||"").split(/\s+/);for(var y in x)if(v=u[x[y]],v)break;v=v||f[_.tagName]}return v==null?null:g&c.LEVEL&v.scope&&g&c.TYPE&v.scope?v:null}i.query=b;function w(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(_.length>1)return _.map(function(y){return w(y)});var v=_[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new l("Invalid definition");if(v.blotName==="abstract")throw new l("Cannot register abstract class");if(p[v.blotName||v.attrName]=v,typeof v.keyName=="string")s[v.keyName]=v;else if(v.className!=null&&(u[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(y){return y.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var x=Array.isArray(v.tagName)?v.tagName:[v.tagName];x.forEach(function(y){(f[y]==null||v.className==null)&&(f[y]=v)})}return v}i.register=w},function(r,i,o){var a=o(51),l=o(11),s=o(3),u=o(20),f="\0",p=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};p.prototype.insert=function(c,d){var m={};return c.length===0?this:(m.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m))},p.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},p.prototype.retain=function(c,d){if(c<=0)return this;var m={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m)},p.prototype.push=function(c){var d=this.ops.length,m=this.ops[d-1];if(c=s(!0,{},c),typeof m=="object"){if(typeof c.delete=="number"&&typeof m.delete=="number")return this.ops[d-1]={delete:m.delete+c.delete},this;if(typeof m.delete=="number"&&c.insert!=null&&(d-=1,m=this.ops[d-1],typeof m!="object"))return this.ops.unshift(c),this;if(l(c.attributes,m.attributes)){if(typeof c.insert=="string"&&typeof m.insert=="string")return this.ops[d-1]={insert:m.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof m.retain=="number")return this.ops[d-1]={retain:m.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},p.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},p.prototype.filter=function(c){return this.ops.filter(c)},p.prototype.forEach=function(c){this.ops.forEach(c)},p.prototype.map=function(c){return this.ops.map(c)},p.prototype.partition=function(c){var d=[],m=[];return this.forEach(function(b){var w=c(b)?d:m;w.push(b)}),[d,m]},p.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},p.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+u.length(d):d.delete?c-d.delete:c},0)},p.prototype.length=function(){return this.reduce(function(c,d){return c+u.length(d)},0)},p.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var m=[],b=u.iterator(this.ops),w=0;w<d&&b.hasNext();){var _;w<c?_=b.next(c-w):(_=b.next(d-w),m.push(_)),w+=u.length(_)}return new p(m)},p.prototype.compose=function(c){var d=u.iterator(this.ops),m=u.iterator(c.ops),b=[],w=m.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){for(var _=w.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),b.push(d.next());w.retain-_>0&&m.next(w.retain-_)}for(var g=new p(b);d.hasNext()||m.hasNext();)if(m.peekType()==="insert")g.push(m.next());else if(d.peekType()==="delete")g.push(d.next());else{var v=Math.min(d.peekLength(),m.peekLength()),x=d.next(v),y=m.next(v);if(typeof y.retain=="number"){var k={};typeof x.retain=="number"?k.retain=v:k.insert=x.insert;var N=u.attributes.compose(x.attributes,y.attributes,typeof x.retain=="number");if(N&&(k.attributes=N),g.push(k),!m.hasNext()&&l(g.ops[g.ops.length-1],k)){var j=new p(d.rest());return g.concat(j).chop()}}else typeof y.delete=="number"&&typeof x.retain=="number"&&g.push(y)}return g.chop()},p.prototype.concat=function(c){var d=new p(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},p.prototype.diff=function(c,d){if(this.ops===c.ops)return new p;var m=[this,c].map(function(v){return v.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:f;var y=v===c?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),b=new p,w=a(m[0],m[1],d),_=u.iterator(this.ops),g=u.iterator(c.ops);return w.forEach(function(v){for(var x=v[1].length;x>0;){var y=0;switch(v[0]){case a.INSERT:y=Math.min(g.peekLength(),x),b.push(g.next(y));break;case a.DELETE:y=Math.min(x,_.peekLength()),_.next(y),b.delete(y);break;case a.EQUAL:y=Math.min(_.peekLength(),g.peekLength(),x);var k=_.next(y),N=g.next(y);l(k.insert,N.insert)?b.retain(y,u.attributes.diff(k.attributes,N.attributes)):b.push(N).delete(y);break}x-=y}}),b.chop()},p.prototype.eachLine=function(c,d){d=d||`
`;for(var m=u.iterator(this.ops),b=new p,w=0;m.hasNext();){if(m.peekType()!=="insert")return;var _=m.peek(),g=u.length(_)-m.peekLength(),v=typeof _.insert=="string"?_.insert.indexOf(d,g)-g:-1;if(v<0)b.push(m.next());else if(v>0)b.push(m.next(v));else{if(c(b,m.next(1).attributes||{},w)===!1)return;w+=1,b=new p}}b.length()>0&&c(b,{},w)},p.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var m=u.iterator(this.ops),b=u.iterator(c.ops),w=new p;m.hasNext()||b.hasNext();)if(m.peekType()==="insert"&&(d||b.peekType()!=="insert"))w.retain(u.length(m.next()));else if(b.peekType()==="insert")w.push(b.next());else{var _=Math.min(m.peekLength(),b.peekLength()),g=m.next(_),v=b.next(_);if(g.delete)continue;v.delete?w.push(v):w.retain(_,u.attributes.transform(g.attributes,v.attributes,d))}return w.chop()},p.prototype.transformPosition=function(c,d){d=!!d;for(var m=u.iterator(this.ops),b=0;m.hasNext()&&b<=c;){var w=m.peekLength(),_=m.peekType();if(m.next(),_==="delete"){c-=Math.min(w,c-b);continue}else _==="insert"&&(b<c||!d)&&(c+=w);b+=w}return c},r.exports=p},function(r,i){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=function(m){return typeof Array.isArray=="function"?Array.isArray(m):a.call(m)==="[object Array]"},f=function(m){if(!m||a.call(m)!=="[object Object]")return!1;var b=o.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&o.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!b&&!w)return!1;var _;for(_ in m);return typeof _>"u"||o.call(m,_)},p=function(m,b){l&&b.name==="__proto__"?l(m,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):m[b.name]=b.newValue},c=function(m,b){if(b==="__proto__")if(o.call(m,b)){if(s)return s(m,b).value}else return;return m[b]};r.exports=function d(){var m,b,w,_,g,v,x=arguments[0],y=1,k=arguments.length,N=!1;for(typeof x=="boolean"&&(N=x,x=arguments[1]||{},y=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});y<k;++y)if(m=arguments[y],m!=null)for(b in m)w=c(x,b),_=c(m,b),x!==_&&(N&&_&&(f(_)||(g=u(_)))?(g?(g=!1,v=w&&u(w)?w:[]):v=w&&f(w)?w:{},p(x,{name:b,newValue:d(N,v,_)})):typeof _<"u"&&p(x,{name:b,newValue:_}));return x}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var a=function(){function T(O,P){for(var A=0;A<P.length;A++){var L=P[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,P,A){return P&&T(O.prototype,P),A&&T(O,A),O}}(),l=function T(O,P,A){O===null&&(O=Function.prototype);var L=Object.getOwnPropertyDescriptor(O,P);if(L===void 0){var U=Object.getPrototypeOf(O);return U===null?void 0:T(U,P,A)}else{if("value"in L)return L.value;var z=L.get;return z===void 0?void 0:z.call(A)}},s=o(3),u=x(s),f=o(2),p=x(f),c=o(0),d=x(c),m=o(16),b=x(m),w=o(6),_=x(w),g=o(7),v=x(g);function x(T){return T&&T.__esModule?T:{default:T}}function y(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function k(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function N(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var j=1,E=function(T){N(O,T);function O(){return y(this,O),k(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"attach",value:function(){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,L){var U=d.default.query(A,d.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,L)}},{key:"formatAt",value:function(A,L,U,z){this.format(U,z)}},{key:"insertAt",value:function(A,L,U){if(typeof L=="string"&&L.endsWith(`
`)){var z=d.default.create(C.blotName);this.parent.insertBefore(z,A===0?this:this.next),z.insertAt(0,L.slice(0,-1))}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,A,L,U)}}]),O}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var C=function(T){N(O,T);function O(P){y(this,O);var A=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return A.cache={},A}return a(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(A,L){return L.length()===0?A:A.insert(L.value(),S(L))},new p.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(A,L){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,A,L),this.cache={}}},{key:"formatAt",value:function(A,L,U,z){L<=0||(d.default.query(U,d.default.Scope.BLOCK)?A+L===this.length()&&this.format(U,z):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,A,Math.min(L,this.length()-A-1),U,z),this.cache={})}},{key:"insertAt",value:function(A,L,U){if(U!=null)return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,A,L,U);if(L.length!==0){var z=L.split(`
`),H=z.shift();H.length>0&&(A<this.length()-1||this.children.tail==null?l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var D=this;z.reduce(function(M,I){return D=D.split(M,!0),D.insertAt(0,I),I.length},A+H.length)}}},{key:"insertBefore",value:function(A,L){var U=this.children.head;l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,A,L),U instanceof b.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(A,L){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,A,L),this.cache={}}},{key:"optimize",value:function(A){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(A===0||A>=this.length()-j)){var U=this.clone();return A===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var z=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,A,L);return this.cache={},z}}}]),O}(d.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[_.default,d.default.Embed,v.default];function S(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(O=(0,u.default)(O,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?O:S(T.parent,O)}i.bubbleFormats=S,i.BlockEmbed=E,i.default=C},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l=function(){function D(M,I){var F=[],R=!0,W=!1,B=void 0;try{for(var $=M[Symbol.iterator](),V;!(R=(V=$.next()).done)&&(F.push(V.value),!(I&&F.length===I));R=!0);}catch(Y){W=!0,B=Y}finally{try{!R&&$.return&&$.return()}finally{if(W)throw B}}return F}return function(M,I){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(M,I){for(var F=0;F<I.length;F++){var R=I[F];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,I,F){return I&&D(M.prototype,I),F&&D(M,F),M}}();o(50);var u=o(2),f=S(u),p=o(14),c=S(p),d=o(8),m=S(d),b=o(9),w=S(b),_=o(0),g=S(_),v=o(15),x=S(v),y=o(3),k=S(y),N=o(10),j=S(N),E=o(34),C=S(E);function S(D){return D&&D.__esModule?D:{default:D}}function T(D,M,I){return M in D?Object.defineProperty(D,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[M]=I,D}function O(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}var P=(0,j.default)("quill"),A=function(){s(D,null,[{key:"debug",value:function(I){I===!0&&(I="log"),j.default.level(I)}},{key:"find",value:function(I){return I.__quill||g.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&P.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,F){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var B=I.attrName||I.blotName;typeof B=="string"?this.register("formats/"+B,I,F):Object.keys(I).forEach(function($){R.register($,I[$],F)})}else this.imports[I]!=null&&!W&&P.warn("Overwriting "+I+" with",F),this.imports[I]=F,(I.startsWith("blots/")||I.startsWith("formats/"))&&F.blotName!=="abstract"?g.default.register(F):I.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function D(M){var I=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,D),this.options=L(M,F),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",M);this.options.debug&&D.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(B){B===m.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(B,$){var V=I.selection.lastRange,Y=V&&V.length===0?V.index:void 0;U.call(I,function(){return I.editor.update(null,$,Y)},B)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(D,[{key:"addContainer",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var R=I;I=document.createElement("div"),I.classList.add(R)}return this.container.insertBefore(I,F),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,F,R){var W=this,B=z(I,F,R),$=l(B,4);return I=$[0],F=$[1],R=$[3],U.call(this,function(){return W.editor.deleteText(I,F)},R,I,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,F){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return U.call(this,function(){var B=R.getSelection(!0),$=new f.default;if(B==null)return $;if(g.default.query(I,g.default.Scope.BLOCK))$=R.editor.formatLine(B.index,B.length,T({},I,F));else{if(B.length===0)return R.selection.format(I,F),$;$=R.editor.formatText(B.index,B.length,T({},I,F))}return R.setSelection(B,m.default.sources.SILENT),$},W)}},{key:"formatLine",value:function(I,F,R,W,B){var $=this,V=void 0,Y=z(I,F,R,W,B),Q=l(Y,4);return I=Q[0],F=Q[1],V=Q[2],B=Q[3],U.call(this,function(){return $.editor.formatLine(I,F,V)},B,I,0)}},{key:"formatText",value:function(I,F,R,W,B){var $=this,V=void 0,Y=z(I,F,R,W,B),Q=l(Y,4);return I=Q[0],F=Q[1],V=Q[2],B=Q[3],U.call(this,function(){return $.editor.formatText(I,F,V)},B,I,0)}},{key:"getBounds",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof I=="number"?R=this.selection.getBounds(I,F):R=this.selection.getBounds(I.index,I.length);var W=this.container.getBoundingClientRect();return{bottom:R.bottom-W.top,height:R.height,left:R.left-W.left,right:R.right-W.left,top:R.top-W.top,width:R.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,R=z(I,F),W=l(R,2);return I=W[0],F=W[1],this.editor.getContents(I,F)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,F):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,F)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,R=z(I,F),W=l(R,2);return I=W[0],F=W[1],this.editor.getText(I,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,F,R){var W=this,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return U.call(this,function(){return W.editor.insertEmbed(I,F,R)},B,I)}},{key:"insertText",value:function(I,F,R,W,B){var $=this,V=void 0,Y=z(I,0,R,W,B),Q=l(Y,4);return I=Q[0],V=Q[2],B=Q[3],U.call(this,function(){return $.editor.insertText(I,F,V)},B,I,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,F,R){this.clipboard.dangerouslyPasteHTML(I,F,R)}},{key:"removeFormat",value:function(I,F,R){var W=this,B=z(I,F,R),$=l(B,4);return I=$[0],F=$[1],R=$[3],U.call(this,function(){return W.editor.removeFormat(I,F)},R,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var F=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return U.call(this,function(){I=new f.default(I);var W=F.getLength(),B=F.editor.deleteText(0,W),$=F.editor.applyDelta(I),V=$.ops[$.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),$.delete(1));var Y=B.compose($);return Y},R)}},{key:"setSelection",value:function(I,F,R){if(I==null)this.selection.setRange(null,F||D.sources.API);else{var W=z(I,F,R),B=l(W,4);I=B[0],F=B[1],R=B[3],this.selection.setRange(new v.Range(I,F),R),R!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,R=new f.default().insert(I);return this.setContents(R,F)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,F=this.scroll.update(I);return this.selection.update(I),F}},{key:"updateContents",value:function(I){var F=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return U.call(this,function(){return I=new f.default(I),F.editor.applyDelta(I,R)},R,!0)}}]),D}();A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=m.default.events,A.sources=m.default.sources,A.version="1.3.7",A.imports={delta:f.default,parchment:g.default,"core/module":w.default,"core/theme":C.default};function L(D,M){if(M=(0,k.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===A.DEFAULTS.theme)M.theme=C.default;else if(M.theme=A.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var I=(0,k.default)(!0,{},M.theme.DEFAULTS);[I,M].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(B){W.modules[B]===!0&&(W.modules[B]={})})});var F=Object.keys(I.modules).concat(Object.keys(M.modules)),R=F.reduce(function(W,B){var $=A.import("modules/"+B);return $==null?P.error("Cannot load "+B+" module. Are you sure you registered it?"):W[B]=$.DEFAULTS||{},W},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,k.default)(!0,{},A.DEFAULTS,{modules:R},I,M),["bounds","container","scrollingContainer"].forEach(function(W){typeof M[W]=="string"&&(M[W]=document.querySelector(M[W]))}),M.modules=Object.keys(M.modules).reduce(function(W,B){return M.modules[B]&&(W[B]=M.modules[B]),W},{}),M}function U(D,M,I,F){if(this.options.strict&&!this.isEnabled()&&M===m.default.sources.USER)return new f.default;var R=I==null?null:this.getSelection(),W=this.editor.delta,B=D();if(R!=null&&(I===!0&&(I=R.index),F==null?R=H(R,B,M):F!==0&&(R=H(R,I,F,M)),this.setSelection(R,m.default.sources.SILENT)),B.length()>0){var $,V=[m.default.events.TEXT_CHANGE,B,W,M];if(($=this.emitter).emit.apply($,[m.default.events.EDITOR_CHANGE].concat(V)),M!==m.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,V)}}return B}function z(D,M,I,F,R){var W={};return typeof D.index=="number"&&typeof D.length=="number"?typeof M!="number"?(R=F,F=I,I=M,M=D.length,D=D.index):(M=D.length,D=D.index):typeof M!="number"&&(R=F,F=I,I=M,M=0),(typeof I>"u"?"undefined":a(I))==="object"?(W=I,R=F):typeof I=="string"&&(F!=null?W[I]=F:R=I),R=R||m.default.sources.API,[D,M,W,R]}function H(D,M,I,F){if(D==null)return null;var R=void 0,W=void 0;if(M instanceof f.default){var B=[D.index,D.index+D.length].map(function(Q){return M.transformPosition(Q,F!==m.default.sources.USER)}),$=l(B,2);R=$[0],W=$[1]}else{var V=[D.index,D.index+D.length].map(function(Q){return Q<M||Q===M&&F===m.default.sources.USER?Q:I>=0?Q+I:Math.max(M,Q+I)}),Y=l(V,2);R=Y[0],W=Y[1]}return new v.Range(R,W-R)}i.expandConfig=L,i.overload=z,i.default=A},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(g,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,x){return v&&_(g.prototype,v),x&&_(g,x),g}}(),l=function _(g,v,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,v);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(7),u=c(s),f=o(0),p=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function m(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function b(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=function(_){b(g,_);function g(){return d(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"formatAt",value:function(x,y,k,N){if(g.compare(this.statics.blotName,k)<0&&p.default.query(k,p.default.Scope.BLOT)){var j=this.isolate(x,y);N&&j.wrap(k,N)}else l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,x,y,k,N)}},{key:"optimize",value:function(x){if(l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,x),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(x,y){var k=g.order.indexOf(x),N=g.order.indexOf(y);return k>=0||N>=0?k-N:x===y?0:x<y?-1:1}}]),g}(p.default.Inline);w.allowedChildren=[w,p.default.Embed,u.default],w.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function f(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function p(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var c=function(d){p(m,d);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(l.default.Text);i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function v(x,y){for(var k=0;k<y.length;k++){var N=y[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,k){return y&&v(x.prototype,y),k&&v(x,k),x}}(),l=function v(x,y,k){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,y);if(N===void 0){var j=Object.getPrototypeOf(x);return j===null?void 0:v(j,y,k)}else{if("value"in N)return N.value;var E=N.get;return E===void 0?void 0:E.call(k)}},s=o(54),u=c(s),f=o(10),p=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function m(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function b(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var w=(0,p.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(v){document.addEventListener(v,function(){for(var x=arguments.length,y=Array(x),k=0;k<x;k++)y[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var j;(j=N.__quill.emitter).handleDOM.apply(j,y)}})})});var g=function(v){b(x,v);function x(){d(this,x);var y=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return y.listeners={},y.on("error",w.error),y}return a(x,[{key:"emit",value:function(){w.log.apply(w,arguments),l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var N=arguments.length,j=Array(N>1?N-1:0),E=1;E<N;E++)j[E-1]=arguments[E];(this.listeners[k.type]||[]).forEach(function(C){var S=C.node,T=C.handler;(k.target===S||S.contains(k.target))&&T.apply(void 0,[k].concat(j))})}},{key:"listenDOM",value:function(k,N,j){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:N,handler:j})}}]),x}(u.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},i.default=g},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});function a(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function s(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=u,this.options=f};l.DEFAULTS={},i.default=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],l="warn";function s(f){if(a.indexOf(f)<=a.indexOf(l)){for(var p,c=arguments.length,d=Array(c>1?c-1:0),m=1;m<c;m++)d[m-1]=arguments[m];(p=console)[f].apply(p,d)}}function u(f){return a.reduce(function(p,c){return p[c]=s.bind(console,c,f),p},{})}s.level=u.level=function(f){l=f},i.default=u},function(r,i,o){var a=Array.prototype.slice,l=o(52),s=o(53),u=r.exports=function(d,m,b){return b||(b={}),d===m?!0:d instanceof Date&&m instanceof Date?d.getTime()===m.getTime():!d||!m||typeof d!="object"&&typeof m!="object"?b.strict?d===m:d==m:c(d,m,b)};function f(d){return d==null}function p(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,m,b){var w,_;if(f(d)||f(m)||d.prototype!==m.prototype)return!1;if(s(d))return s(m)?(d=a.call(d),m=a.call(m),u(d,m,b)):!1;if(p(d)){if(!p(m)||d.length!==m.length)return!1;for(w=0;w<d.length;w++)if(d[w]!==m[w])return!1;return!0}try{var g=l(d),v=l(m)}catch{return!1}if(g.length!=v.length)return!1;for(g.sort(),v.sort(),w=g.length-1;w>=0;w--)if(g[w]!=v[w])return!1;for(w=g.length-1;w>=0;w--)if(_=g[w],!u(d[_],m[_],b))return!1;return typeof d==typeof m}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),l=function(){function s(u,f,p){p===void 0&&(p={}),this.attrName=u,this.keyName=f;var c=a.Scope.TYPE&a.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&a.Scope.LEVEL|c:this.scope=a.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return s.keys=function(u){return[].map.call(u.attributes,function(f){return f.name})},s.prototype.add=function(u,f){return this.canAdd(u,f)?(u.setAttribute(this.keyName,f),!0):!1},s.prototype.canAdd=function(u,f){var p=a.query(u,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},s.prototype.remove=function(u){u.removeAttribute(this.keyName)},s.prototype.value=function(u){var f=u.getAttribute(this.keyName);return this.canAdd(u,f)&&f?f:""},s}();i.default=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var a=function(){function E(C,S){var T=[],O=!0,P=!1,A=void 0;try{for(var L=C[Symbol.iterator](),U;!(O=(U=L.next()).done)&&(T.push(U.value),!(S&&T.length===S));O=!0);}catch(z){P=!0,A=z}finally{try{!O&&L.return&&L.return()}finally{if(P)throw A}}return T}return function(C,S){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function E(C,S){for(var T=0;T<S.length;T++){var O=S[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,S,T){return S&&E(C.prototype,S),T&&E(C,T),C}}(),s=function E(C,S,T){C===null&&(C=Function.prototype);var O=Object.getOwnPropertyDescriptor(C,S);if(O===void 0){var P=Object.getPrototypeOf(C);return P===null?void 0:E(P,S,T)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(T)}},u=o(2),f=v(u),p=o(0),c=v(p),d=o(4),m=v(d),b=o(6),w=v(b),_=o(7),g=v(_);function v(E){return E&&E.__esModule?E:{default:E}}function x(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function y(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function k(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var N=function(E){k(C,E);function C(){return x(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(w.default);N.blotName="code",N.tagName="CODE";var j=function(E){k(C,E);function C(){return x(this,C),y(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return l(C,[{key:"delta",value:function(){var T=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(P,A){return P.insert(A).insert(`
`,T.formats())},new f.default)}},{key:"format",value:function(T,O){if(!(T===this.statics.blotName&&O)){var P=this.descendant(g.default,this.length()-1),A=a(P,1),L=A[0];L!=null&&L.deleteAt(L.length()-1,1),s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,T,O)}}},{key:"formatAt",value:function(T,O,P,A){if(O!==0&&!(c.default.query(P,c.default.Scope.BLOCK)==null||P===this.statics.blotName&&A===this.statics.formats(this.domNode))){var L=this.newlineIndex(T);if(!(L<0||L>=T+O)){var U=this.newlineIndex(T,!0)+1,z=L-U+1,H=this.isolate(U,z),D=H.next;H.format(P,A),D instanceof C&&D.formatAt(0,T-U+O-z,P,A)}}}},{key:"insertAt",value:function(T,O,P){if(P==null){var A=this.descendant(g.default,T),L=a(A,2),U=L[0],z=L[1];U.insertAt(z,O)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var P=this.domNode.textContent.slice(T).indexOf(`
`);return P>-1?T+P:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,T);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(T),O.moveChildren(this),O.remove())}},{key:"replace",value:function(T){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var P=c.default.find(O);P==null?O.parentNode.removeChild(O):P instanceof c.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(T){var O=s(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,T);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),C}(m.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",i.Code=N,i.default=j},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l=function(){function D(M,I){var F=[],R=!0,W=!1,B=void 0;try{for(var $=M[Symbol.iterator](),V;!(R=(V=$.next()).done)&&(F.push(V.value),!(I&&F.length===I));R=!0);}catch(Y){W=!0,B=Y}finally{try{!R&&$.return&&$.return()}finally{if(W)throw B}}return F}return function(M,I){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(M,I){for(var F=0;F<I.length;F++){var R=I[F];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,I,F){return I&&D(M.prototype,I),F&&D(M,F),M}}(),u=o(2),f=O(u),p=o(20),c=O(p),d=o(0),m=O(d),b=o(13),w=O(b),_=o(24),g=O(_),v=o(4),x=O(v),y=o(16),k=O(y),N=o(21),j=O(N),E=o(11),C=O(E),S=o(3),T=O(S);function O(D){return D&&D.__esModule?D:{default:D}}function P(D,M,I){return M in D?Object.defineProperty(D,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[M]=I,D}function A(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,U=function(){function D(M){A(this,D),this.scroll=M,this.delta=this.getDelta()}return s(D,[{key:"applyDelta",value:function(I){var F=this,R=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),I=H(I),I.reduce(function(B,$){var V=$.retain||$.delete||$.insert.length||1,Y=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var Q=$.insert;Q.endsWith(`
`)&&R&&(R=!1,Q=Q.slice(0,-1)),B>=W&&!Q.endsWith(`
`)&&(R=!0),F.scroll.insertAt(B,Q);var J=F.scroll.line(B),te=l(J,2),ce=te[0],de=te[1],ge=(0,T.default)({},(0,v.bubbleFormats)(ce));if(ce instanceof x.default){var ve=ce.descendant(m.default.Leaf,de),Be=l(ve,1),je=Be[0];ge=(0,T.default)(ge,(0,v.bubbleFormats)(je))}Y=c.default.attributes.diff(ge,Y)||{}}else if(a($.insert)==="object"){var X=Object.keys($.insert)[0];if(X==null)return B;F.scroll.insertAt(B,X,$.insert[X])}W+=V}return Object.keys(Y).forEach(function(ee){F.scroll.formatAt(B,V,ee,Y[ee])}),B+V},0),I.reduce(function(B,$){return typeof $.delete=="number"?(F.scroll.deleteAt(B,$.delete),B):B+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,F){return this.scroll.deleteAt(I,F),this.update(new f.default().retain(I).delete(F))}},{key:"formatLine",value:function(I,F){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(B){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[B])){var $=R.scroll.lines(I,Math.max(F,1)),V=F;$.forEach(function(Y){var Q=Y.length();if(!(Y instanceof w.default))Y.format(B,W[B]);else{var J=I-Y.offset(R.scroll),te=Y.newlineIndex(J+V)-J+1;Y.formatAt(J,te,B,W[B])}V-=Q})}}),this.scroll.optimize(),this.update(new f.default().retain(I).retain(F,(0,j.default)(W)))}},{key:"formatText",value:function(I,F){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(B){R.scroll.formatAt(I,F,B,W[B])}),this.update(new f.default().retain(I).retain(F,(0,j.default)(W)))}},{key:"getContents",value:function(I,F){return this.delta.slice(I,I+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,F){return I.concat(F.delta())},new f.default)}},{key:"getFormat",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],W=[];F===0?this.scroll.path(I).forEach(function($){var V=l($,1),Y=V[0];Y instanceof x.default?R.push(Y):Y instanceof m.default.Leaf&&W.push(Y)}):(R=this.scroll.lines(I,F),W=this.scroll.descendants(m.default.Leaf,I,F));var B=[R,W].map(function($){if($.length===0)return{};for(var V=(0,v.bubbleFormats)($.shift());Object.keys(V).length>0;){var Y=$.shift();if(Y==null)return V;V=z((0,v.bubbleFormats)(Y),V)}return V});return T.default.apply(T.default,B)}},{key:"getText",value:function(I,F){return this.getContents(I,F).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(I,F,R){return this.scroll.insertAt(I,F,R),this.update(new f.default().retain(I).insert(P({},F,R)))}},{key:"insertText",value:function(I,F){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,F),Object.keys(W).forEach(function(B){R.scroll.formatAt(I,F.length,B,W[B])}),this.update(new f.default().retain(I).insert(F,(0,j.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==x.default.blotName||I.children.length>1?!1:I.children.head instanceof k.default}},{key:"removeFormat",value:function(I,F){var R=this.getText(I,F),W=this.scroll.line(I+F),B=l(W,2),$=B[0],V=B[1],Y=0,Q=new f.default;$!=null&&($ instanceof w.default?Y=$.newlineIndex(V)-V+1:Y=$.length()-V,Q=$.delta().slice(V,V+Y-1).insert(`
`));var J=this.getContents(I,F+Y),te=J.diff(new f.default().insert(R).concat(Q)),ce=new f.default().retain(I).concat(te);return this.applyDelta(ce)}},{key:"update",value:function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(L)&&m.default.find(F[0].target)){var B=m.default.find(F[0].target),$=(0,v.bubbleFormats)(B),V=B.offset(this.scroll),Y=F[0].oldValue.replace(g.default.CONTENTS,""),Q=new f.default().insert(Y),J=new f.default().insert(B.value()),te=new f.default().retain(V).concat(Q.diff(J,R));I=te.reduce(function(ce,de){return de.insert?ce.insert(de.insert,$):ce.push(de)},new f.default),this.delta=W.compose(I)}else this.delta=this.getDelta(),(!I||!(0,C.default)(W.compose(I),this.delta))&&(I=W.diff(this.delta,R));return I}}]),D}();function z(D,M){return Object.keys(M).reduce(function(I,F){return D[F]==null||(M[F]===D[F]?I[F]=M[F]:Array.isArray(M[F])?M[F].indexOf(D[F])<0&&(I[F]=M[F].concat([D[F]])):I[F]=[M[F],D[F]]),I},{})}function H(D){return D.reduce(function(M,I){if(I.insert===1){var F=(0,j.default)(I.attributes);return delete F.image,M.insert({image:I.attributes.image},F)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,j.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var R=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(R,I.attributes)}return M.push(I)},new f.default)}i.default=U},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var a=function(){function E(C,S){var T=[],O=!0,P=!1,A=void 0;try{for(var L=C[Symbol.iterator](),U;!(O=(U=L.next()).done)&&(T.push(U.value),!(S&&T.length===S));O=!0);}catch(z){P=!0,A=z}finally{try{!O&&L.return&&L.return()}finally{if(P)throw A}}return T}return function(C,S){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function E(C,S){for(var T=0;T<S.length;T++){var O=S[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,S,T){return S&&E(C.prototype,S),T&&E(C,T),C}}(),s=o(0),u=g(s),f=o(21),p=g(f),c=o(11),d=g(c),m=o(8),b=g(m),w=o(10),_=g(w);function g(E){return E&&E.__esModule?E:{default:E}}function v(E){if(Array.isArray(E)){for(var C=0,S=Array(E.length);C<E.length;C++)S[C]=E[C];return S}else return Array.from(E)}function x(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}var y=(0,_.default)("quill:selection"),k=function E(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,E),this.index=C,this.length=S},N=function(){function E(C,S){var T=this;x(this,E),this.emitter=S,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(O,P){O===b.default.events.TEXT_CHANGE&&P.length()>0&&T.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var O=T.getNativeRange();O!=null&&O.start.node!==T.cursor.textNode&&T.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(O,P){if(P.range){var A=P.range,L=A.startNode,U=A.startOffset,z=A.endNode,H=A.endOffset;T.setNativeRange(L,U,z,H)}}),this.update(b.default.sources.SILENT)}return l(E,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var T=S.cursor.restore();if(!T)return;setTimeout(function(){S.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||u.default.query(S,u.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var P=u.default.find(O.start.node,!1);if(P==null)return;if(P instanceof u.default.Leaf){var A=P.split(O.start.offset);P.parent.insertBefore(this.cursor,A)}else P.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(S,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();S=Math.min(S,O-1),T=Math.min(S+T,O-1)-S;var P=void 0,A=this.scroll.leaf(S),L=a(A,2),U=L[0],z=L[1];if(U==null)return null;var H=U.position(z,!0),D=a(H,2);P=D[0],z=D[1];var M=document.createRange();if(T>0){M.setStart(P,z);var I=this.scroll.leaf(S+T),F=a(I,2);if(U=F[0],z=F[1],U==null)return null;var R=U.position(z,!0),W=a(R,2);return P=W[0],z=W[1],M.setEnd(P,z),M.getBoundingClientRect()}else{var B="left",$=void 0;return P instanceof Text?(z<P.data.length?(M.setStart(P,z),M.setEnd(P,z+1)):(M.setStart(P,z-1),M.setEnd(P,z),B="right"),$=M.getBoundingClientRect()):($=U.domNode.getBoundingClientRect(),z>0&&(B="right")),{bottom:$.top+$.height,height:$.height,left:$[B],right:$[B],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var T=S.getRangeAt(0);if(T==null)return null;var O=this.normalizeNative(T);return y.info("getNativeRange",O),O}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var T=this.normalizedToRange(S);return[T,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var T=this,O=[[S.start.node,S.start.offset]];S.native.collapsed||O.push([S.end.node,S.end.offset]);var P=O.map(function(U){var z=a(U,2),H=z[0],D=z[1],M=u.default.find(H,!0),I=M.offset(T.scroll);return D===0?I:M instanceof u.default.Container?I+M.length():I+M.index(H,D)}),A=Math.min(Math.max.apply(Math,v(P)),this.scroll.length()-1),L=Math.min.apply(Math,[A].concat(v(P)));return new k(L,A-L)}},{key:"normalizeNative",value:function(S){if(!j(this.root,S.startContainer)||!S.collapsed&&!j(this.root,S.endContainer))return null;var T={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[T.start,T.end].forEach(function(O){for(var P=O.node,A=O.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>A)P=P.childNodes[A],A=0;else if(P.childNodes.length===A)P=P.lastChild,A=P instanceof Text?P.data.length:P.childNodes.length+1;else break;O.node=P,O.offset=A}),T}},{key:"rangeToNative",value:function(S){var T=this,O=S.collapsed?[S.index]:[S.index,S.index+S.length],P=[],A=this.scroll.length();return O.forEach(function(L,U){L=Math.min(A-1,L);var z=void 0,H=T.scroll.leaf(L),D=a(H,2),M=D[0],I=D[1],F=M.position(I,U!==0),R=a(F,2);z=R[0],I=R[1],P.push(z,I)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(S){var T=this.lastRange;if(T!=null){var O=this.getBounds(T.index,T.length);if(O!=null){var P=this.scroll.length()-1,A=this.scroll.line(Math.min(T.index,P)),L=a(A,1),U=L[0],z=U;if(T.length>0){var H=this.scroll.line(Math.min(T.index+T.length,P)),D=a(H,1);z=D[0]}if(!(U==null||z==null)){var M=S.getBoundingClientRect();O.top<M.top?S.scrollTop-=M.top-O.top:O.bottom>M.bottom&&(S.scrollTop+=O.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(S,T){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",S,T,O,P),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||O.parentNode==null))){var L=document.getSelection();if(L!=null)if(S!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||A||S!==U.startContainer||T!==U.startOffset||O!==U.endContainer||P!==U.endOffset){S.tagName=="BR"&&(T=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),O.tagName=="BR"&&(P=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var z=document.createRange();z.setStart(S,T),z.setEnd(O,P),L.removeAllRanges(),L.addRange(z)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof T=="string"&&(O=T,T=!1),y.info("setRange",S),S!=null){var P=this.rangeToNative(S);this.setNativeRange.apply(this,v(P).concat([T]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,T=this.lastRange,O=this.getRange(),P=a(O,2),A=P[0],L=P[1];if(this.lastRange=A,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(T,this.lastRange)){var U;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[b.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(T),S];if((U=this.emitter).emit.apply(U,[b.default.events.EDITOR_CHANGE].concat(z)),S!==b.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,z)}}}}]),E}();function j(E,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),E.contains(C)}i.Range=k,i.default=N},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var g=0;g<_.length;g++){var v=_[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,g){return _&&b(w.prototype,_),g&&b(w,g),w}}(),l=function b(w,_,g){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,g)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(g)}},s=o(0),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var m=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"insertInto",value:function(g,v){g.children.length===0?l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertInto",this).call(this,g,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),w}(u.default.Embed);m.blotName="break",m.tagName="BR",i.default=m},function(r,i,o){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var b in m)m.hasOwnProperty(b)&&(d[b]=m[b])};return function(d,m){c(d,m);function b(){this.constructor=d}d.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(44),s=o(30),u=o(1),f=function(c){a(d,c);function d(m){var b=c.call(this,m)||this;return b.build(),b}return d.prototype.appendChild=function(m){this.insertBefore(m)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},d.prototype.build=function(){var m=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var w=p(b);m.insertBefore(w,m.children.head||void 0)}catch(_){if(_ instanceof u.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(m,b){if(m===0&&b===this.length())return this.remove();this.children.forEachAt(m,b,function(w,_,g){w.deleteAt(_,g)})},d.prototype.descendant=function(m,b){var w=this.children.find(b),_=w[0],g=w[1];return m.blotName==null&&m(_)||m.blotName!=null&&_ instanceof m?[_,g]:_ instanceof d?_.descendant(m,g):[null,-1]},d.prototype.descendants=function(m,b,w){b===void 0&&(b=0),w===void 0&&(w=Number.MAX_VALUE);var _=[],g=w;return this.children.forEachAt(b,w,function(v,x,y){(m.blotName==null&&m(v)||m.blotName!=null&&v instanceof m)&&_.push(v),v instanceof d&&(_=_.concat(v.descendants(m,x,g))),g-=y}),_},d.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(m,b,w,_){this.children.forEachAt(m,b,function(g,v,x){g.formatAt(v,x,w,_)})},d.prototype.insertAt=function(m,b,w){var _=this.children.find(m),g=_[0],v=_[1];if(g)g.insertAt(v,b,w);else{var x=w==null?u.create("text",b):u.create(b,w);this.appendChild(x)}},d.prototype.insertBefore=function(m,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(w){return m instanceof w}))throw new u.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,b)},d.prototype.length=function(){return this.children.reduce(function(m,b){return m+b.length()},0)},d.prototype.moveChildren=function(m,b){this.children.forEach(function(w){m.insertBefore(w,b)})},d.prototype.optimize=function(m){if(c.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var b=u.create(this.statics.defaultChild);this.appendChild(b),b.optimize(m)}else this.remove()},d.prototype.path=function(m,b){b===void 0&&(b=!1);var w=this.children.find(m,b),_=w[0],g=w[1],v=[[this,m]];return _ instanceof d?v.concat(_.path(g,b)):(_!=null&&v.push([_,g]),v)},d.prototype.removeChild=function(m){this.children.remove(m)},d.prototype.replace=function(m){m instanceof d&&m.moveChildren(this),c.prototype.replace.call(this,m)},d.prototype.split=function(m,b){if(b===void 0&&(b=!1),!b){if(m===0)return this;if(m===this.length())return this.next}var w=this.clone();return this.parent.insertBefore(w,this.next),this.children.forEachAt(m,this.length(),function(_,g,v){_=_.split(g,b),w.appendChild(_)}),w},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(m,b){var w=this,_=[],g=[];m.forEach(function(v){v.target===w.domNode&&v.type==="childList"&&(_.push.apply(_,v.addedNodes),g.push.apply(g,v.removedNodes))}),g.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=u.find(v);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===w.domNode)&&x.detach()}}),_.filter(function(v){return v.parentNode==w.domNode}).sort(function(v,x){return v===x?0:v.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var x=null;v.nextSibling!=null&&(x=u.find(v.nextSibling));var y=p(v);(y.next!=x||y.next==null)&&(y.parent!=null&&y.parent.removeChild(w),w.insertBefore(y,x||void 0))})},d}(s.default);function p(c){var d=u.find(c);if(d==null)try{d=u.create(c)}catch{d=u.create(u.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(b){d.domNode.appendChild(b)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}i.default=f},function(r,i,o){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var b in m)m.hasOwnProperty(b)&&(d[b]=m[b])};return function(d,m){c(d,m);function b(){this.constructor=d}d.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(12),s=o(31),u=o(17),f=o(1),p=function(c){a(d,c);function d(m){var b=c.call(this,m)||this;return b.attributes=new s.default(b.domNode),b}return d.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},d.prototype.format=function(m,b){var w=f.query(m);w instanceof l.default?this.attributes.attribute(w,b):b&&w!=null&&(m!==this.statics.blotName||this.formats()[m]!==b)&&this.replaceWith(m,b)},d.prototype.formats=function(){var m=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(m[this.statics.blotName]=b),m},d.prototype.replaceWith=function(m,b){var w=c.prototype.replaceWith.call(this,m,b);return this.attributes.copy(w),w},d.prototype.update=function(m,b){var w=this;c.prototype.update.call(this,m,b),m.some(function(_){return _.target===w.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(m,b){var w=c.prototype.wrap.call(this,m,b);return w instanceof d&&w.statics.scope===this.statics.scope&&this.attributes.move(w),w},d}(u.default);i.default=p},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(30),s=o(1),u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.value=function(c){return!0},p.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},p.prototype.position=function(c,d){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(m+=1),[this.parent.domNode,m]},p.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},p.scope=s.Scope.INLINE_BLOT,p}(l.default);i.default=u},function(r,i,o){var a=o(11),l=o(3),s={attributes:{compose:function(f,p,c){typeof f!="object"&&(f={}),typeof p!="object"&&(p={});var d=l(!0,{},p);c||(d=Object.keys(d).reduce(function(b,w){return d[w]!=null&&(b[w]=d[w]),b},{}));for(var m in f)f[m]!==void 0&&p[m]===void 0&&(d[m]=f[m]);return Object.keys(d).length>0?d:void 0},diff:function(f,p){typeof f!="object"&&(f={}),typeof p!="object"&&(p={});var c=Object.keys(f).concat(Object.keys(p)).reduce(function(d,m){return a(f[m],p[m])||(d[m]=p[m]===void 0?null:p[m]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(f,p,c){if(typeof f!="object")return p;if(typeof p=="object"){if(!c)return p;var d=Object.keys(p).reduce(function(m,b){return f[b]===void 0&&(m[b]=p[b]),m},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(f){return new u(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function u(f){this.ops=f,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(f){f||(f=1/0);var p=this.ops[this.index];if(p){var c=this.offset,d=s.length(p);if(f>=d-c?(f=d-c,this.index+=1,this.offset=0):this.offset+=f,typeof p.delete=="number")return{delete:f};var m={};return p.attributes&&(m.attributes=p.attributes),typeof p.retain=="number"?m.retain=f:typeof p.insert=="string"?m.insert=p.insert.substr(c,f):m.insert=p.insert,m}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,p=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=f,this.index=p,[c].concat(d)}else return[]},r.exports=s},function(r,i){var o=function(){function a(w,_){return _!=null&&w instanceof _}var l;try{l=Map}catch{l=function(){}}var s;try{s=Set}catch{s=function(){}}var u;try{u=Promise}catch{u=function(){}}function f(w,_,g,v,x){typeof _=="object"&&(g=_.depth,v=_.prototype,x=_.includeNonEnumerable,_=_.circular);var y=[],k=[],N=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof g>"u"&&(g=1/0);function j(E,C){if(E===null)return null;if(C===0)return E;var S,T;if(typeof E!="object")return E;if(a(E,l))S=new l;else if(a(E,s))S=new s;else if(a(E,u))S=new u(function(M,I){E.then(function(F){M(j(F,C-1))},function(F){I(j(F,C-1))})});else if(f.__isArray(E))S=[];else if(f.__isRegExp(E))S=new RegExp(E.source,b(E)),E.lastIndex&&(S.lastIndex=E.lastIndex);else if(f.__isDate(E))S=new Date(E.getTime());else{if(N&&Buffer.isBuffer(E))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(E.length):S=new Buffer(E.length),E.copy(S),S;a(E,Error)?S=Object.create(E):typeof v>"u"?(T=Object.getPrototypeOf(E),S=Object.create(T)):(S=Object.create(v),T=v)}if(_){var O=y.indexOf(E);if(O!=-1)return k[O];y.push(E),k.push(S)}a(E,l)&&E.forEach(function(M,I){var F=j(I,C-1),R=j(M,C-1);S.set(F,R)}),a(E,s)&&E.forEach(function(M){var I=j(M,C-1);S.add(I)});for(var P in E){var A;T&&(A=Object.getOwnPropertyDescriptor(T,P)),!(A&&A.set==null)&&(S[P]=j(E[P],C-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(E),P=0;P<L.length;P++){var U=L[P],z=Object.getOwnPropertyDescriptor(E,U);z&&!z.enumerable&&!x||(S[U]=j(E[U],C-1),z.enumerable||Object.defineProperty(S,U,{enumerable:!1}))}if(x)for(var H=Object.getOwnPropertyNames(E),P=0;P<H.length;P++){var D=H[P],z=Object.getOwnPropertyDescriptor(E,D);z&&z.enumerable||(S[D]=j(E[D],C-1),Object.defineProperty(S,D,{enumerable:!1}))}return S}return j(w,g)}f.clonePrototype=function(_){if(_===null)return null;var g=function(){};return g.prototype=_,new g};function p(w){return Object.prototype.toString.call(w)}f.__objToStr=p;function c(w){return typeof w=="object"&&p(w)==="[object Date]"}f.__isDate=c;function d(w){return typeof w=="object"&&p(w)==="[object Array]"}f.__isArray=d;function m(w){return typeof w=="object"&&p(w)==="[object RegExp]"}f.__isRegExp=m;function b(w){var _="";return w.global&&(_+="g"),w.ignoreCase&&(_+="i"),w.multiline&&(_+="m"),_}return f.__getRegExpFlags=b,f}();typeof r=="object"&&r.exports&&(r.exports=o)},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(T,O){var P=[],A=!0,L=!1,U=void 0;try{for(var z=T[Symbol.iterator](),H;!(A=(H=z.next()).done)&&(P.push(H.value),!(O&&P.length===O));A=!0);}catch(D){L=!0,U=D}finally{try{!A&&z.return&&z.return()}finally{if(L)throw U}}return P}return function(T,O){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function S(T,O){for(var P=0;P<O.length;P++){var A=O[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,O,P){return O&&S(T.prototype,O),P&&S(T,P),T}}(),s=function S(T,O,P){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,O);if(A===void 0){var L=Object.getPrototypeOf(T);return L===null?void 0:S(L,O,P)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(P)}},u=o(0),f=y(u),p=o(8),c=y(p),d=o(4),m=y(d),b=o(16),w=y(b),_=o(13),g=y(_),v=o(25),x=y(v);function y(S){return S&&S.__esModule?S:{default:S}}function k(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function N(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function j(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}function E(S){return S instanceof m.default||S instanceof d.BlockEmbed}var C=function(S){j(T,S);function T(O,P){k(this,T);var A=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O));return A.emitter=P.emitter,Array.isArray(P.whitelist)&&(A.whitelist=P.whitelist.reduce(function(L,U){return L[U]=!0,L},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return l(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,A){var L=this.line(P),U=a(L,2),z=U[0],H=U[1],D=this.line(P+A),M=a(D,1),I=M[0];if(s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,P,A),I!=null&&z!==I&&H>0){if(z instanceof d.BlockEmbed||I instanceof d.BlockEmbed){this.optimize();return}if(z instanceof g.default){var F=z.newlineIndex(z.length(),!0);if(F>-1&&(z=z.split(F+1),z===I)){this.optimize();return}}else if(I instanceof g.default){var R=I.newlineIndex(0);R>-1&&I.split(R+1)}var W=I.children.head instanceof w.default?null:I.children.head;z.moveChildren(I,W),z.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,A,L,U){this.whitelist!=null&&!this.whitelist[L]||(s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,P,A,L,U),this.optimize())}},{key:"insertAt",value:function(P,A,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[A])){if(P>=this.length())if(L==null||f.default.query(A,f.default.Scope.BLOCK)==null){var U=f.default.create(this.statics.defaultChild);this.appendChild(U),L==null&&A.endsWith(`
`)&&(A=A.slice(0,-1)),U.insertAt(0,A,L)}else{var z=f.default.create(A,L);this.appendChild(z)}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,P,A,L);this.optimize()}}},{key:"insertBefore",value:function(P,A){if(P.statics.scope===f.default.Scope.INLINE_BLOT){var L=f.default.create(this.statics.defaultChild);L.appendChild(P),P=L}s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,P,A)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(E,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function U(z,H,D){var M=[],I=D;return z.children.forEachAt(H,D,function(F,R,W){E(F)?M.push(F):F instanceof f.default.Container&&(M=M.concat(U(F,R,I))),I-=W}),M};return L(this,P,A)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,P,A),P.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,P,A))}},{key:"path",value:function(P){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var A=c.default.sources.USER;typeof P=="string"&&(A=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,A,P),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,A,P)}}}]),T}(f.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[m.default,d.BlockEmbed,x.default],i.default=C},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=function(){function $(V,Y){var Q=[],J=!0,te=!1,ce=void 0;try{for(var de=V[Symbol.iterator](),ge;!(J=(ge=de.next()).done)&&(Q.push(ge.value),!(Y&&Q.length===Y));J=!0);}catch(ve){te=!0,ce=ve}finally{try{!J&&de.return&&de.return()}finally{if(te)throw ce}}return Q}return function(V,Y){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return $(V,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function $(V,Y){for(var Q=0;Q<Y.length;Q++){var J=Y[Q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(V,J.key,J)}}return function(V,Y,Q){return Y&&$(V.prototype,Y),Q&&$(V,Q),V}}(),u=o(21),f=S(u),p=o(11),c=S(p),d=o(3),m=S(d),b=o(2),w=S(b),_=o(20),g=S(_),v=o(0),x=S(v),y=o(5),k=S(y),N=o(10),j=S(N),E=o(9),C=S(E);function S($){return $&&$.__esModule?$:{default:$}}function T($,V,Y){return V in $?Object.defineProperty($,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):$[V]=Y,$}function O($,V){if(!($ instanceof V))throw new TypeError("Cannot call a class as a function")}function P($,V){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:$}function A($,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);$.prototype=Object.create(V&&V.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf($,V):$.__proto__=V)}var L=(0,j.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function($){A(V,$),s(V,null,[{key:"match",value:function(Q,J){return J=B(J),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!J[te]!==Q[te]&&J[te]!==null})?!1:J.key===(Q.which||Q.keyCode)}}]);function V(Y,Q){O(this,V);var J=P(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Y,Q));return J.bindings={},Object.keys(J.options.bindings).forEach(function(te){te==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||J.options.bindings[te]&&J.addBinding(J.options.bindings[te])}),J.addBinding({key:V.keys.ENTER,shiftKey:null},F),J.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},D),J.addBinding({key:V.keys.DELETE},{collapsed:!0},M)):(J.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),J.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),J.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},I),J.addBinding({key:V.keys.DELETE},{collapsed:!1},I),J.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),J.listen(),J}return s(V,[{key:"addBinding",value:function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=B(Q);if(ce==null||ce.key==null)return L.warn("Attempted to add invalid keyboard binding",ce);typeof J=="function"&&(J={handler:J}),typeof te=="function"&&(te={handler:te}),ce=(0,m.default)(ce,J,te),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(J){if(!J.defaultPrevented){var te=J.which||J.keyCode,ce=(Q.bindings[te]||[]).filter(function(fe){return V.match(J,fe)});if(ce.length!==0){var de=Q.quill.getSelection();if(!(de==null||!Q.quill.hasFocus())){var ge=Q.quill.getLine(de.index),ve=l(ge,2),Be=ve[0],je=ve[1],X=Q.quill.getLeaf(de.index),ee=l(X,2),oe=ee[0],le=ee[1],ne=de.length===0?[oe,le]:Q.quill.getLeaf(de.index+de.length),Z=l(ne,2),q=Z[0],ae=Z[1],pe=oe instanceof x.default.Text?oe.value().slice(0,le):"",$e=q instanceof x.default.Text?q.value().slice(ae):"",xe={collapsed:de.length===0,empty:de.length===0&&Be.length()<=1,format:Q.quill.getFormat(de),offset:je,prefix:pe,suffix:$e},In=ce.some(function(fe){if(fe.collapsed!=null&&fe.collapsed!==xe.collapsed||fe.empty!=null&&fe.empty!==xe.empty||fe.offset!=null&&fe.offset!==xe.offset)return!1;if(Array.isArray(fe.format)){if(fe.format.every(function(Ft){return xe.format[Ft]==null}))return!1}else if(a(fe.format)==="object"&&!Object.keys(fe.format).every(function(Ft){return fe.format[Ft]===!0?xe.format[Ft]!=null:fe.format[Ft]===!1?xe.format[Ft]==null:(0,c.default)(fe.format[Ft],xe.format[Ft])}))return!1;return fe.prefix!=null&&!fe.prefix.test(xe.prefix)||fe.suffix!=null&&!fe.suffix.test(xe.suffix)?!1:fe.handler.call(Q,de,xe)!==!0});In&&J.preventDefault()}}}})}}]),V}(C.default);z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},z.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:z.keys.TAB,format:["blockquote","indent","list"],handler:function(V,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,Y){Y.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,k.default.sources.USER)}},tab:{key:z.keys.TAB,handler:function(V){this.quill.history.cutoff();var Y=new w.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(Y,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,k.default.sources.SILENT)}},"list empty enter":{key:z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,Y){this.quill.format("list",!1,k.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var Y=this.quill.getLine(V.index),Q=l(Y,2),J=Q[0],te=Q[1],ce=(0,m.default)({},J.formats(),{list:"checked"}),de=new w.default().retain(V.index).insert(`
`,ce).retain(J.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(de,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,Y){var Q=this.quill.getLine(V.index),J=l(Q,2),te=J[0],ce=J[1],de=new w.default().retain(V.index).insert(`
`,Y.format).retain(te.length()-ce-1).retain(1,{header:null});this.quill.updateContents(de,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,Y){var Q=Y.prefix.length,J=this.quill.getLine(V.index),te=l(J,2),ce=te[0],de=te[1];if(de>Q)return!0;var ge=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(V.index," ",k.default.sources.USER),this.quill.history.cutoff();var ve=new w.default().retain(V.index-de).delete(Q+1).retain(ce.length()-2-de).retain(1,{list:ge});this.quill.updateContents(ve,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Q,k.default.sources.SILENT)}},"code exit":{key:z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var Y=this.quill.getLine(V.index),Q=l(Y,2),J=Q[0],te=Q[1],ce=new w.default().retain(V.index+J.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,k.default.sources.USER)}},"embed left":H(z.keys.LEFT,!1),"embed left shift":H(z.keys.LEFT,!0),"embed right":H(z.keys.RIGHT,!1),"embed right shift":H(z.keys.RIGHT,!0)}};function H($,V){var Y,Q=$===z.keys.LEFT?"prefix":"suffix";return Y={key:$,shiftKey:V,altKey:null},T(Y,Q,/^$/),T(Y,"handler",function(te){var ce=te.index;$===z.keys.RIGHT&&(ce+=te.length+1);var de=this.quill.getLeaf(ce),ge=l(de,1),ve=ge[0];return ve instanceof x.default.Embed?($===z.keys.LEFT?V?this.quill.setSelection(te.index-1,te.length+1,k.default.sources.USER):this.quill.setSelection(te.index-1,k.default.sources.USER):V?this.quill.setSelection(te.index,te.length+1,k.default.sources.USER):this.quill.setSelection(te.index+te.length+1,k.default.sources.USER),!1):!0}),Y}function D($,V){if(!($.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine($.index),Q=l(Y,1),J=Q[0],te={};if(V.offset===0){var ce=this.quill.getLine($.index-1),de=l(ce,1),ge=de[0];if(ge!=null&&ge.length()>1){var ve=J.formats(),Be=this.quill.getFormat($.index-1,1);te=g.default.attributes.diff(ve,Be)||{}}}var je=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText($.index-je,je,k.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine($.index-je,je,te,k.default.sources.USER),this.quill.focus()}}function M($,V){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!($.index>=this.quill.getLength()-Y)){var Q={},J=0,te=this.quill.getLine($.index),ce=l(te,1),de=ce[0];if(V.offset>=de.length()-1){var ge=this.quill.getLine($.index+1),ve=l(ge,1),Be=ve[0];if(Be){var je=de.formats(),X=this.quill.getFormat($.index,1);Q=g.default.attributes.diff(je,X)||{},J=Be.length()}}this.quill.deleteText($.index,Y,k.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine($.index+J-1,Y,Q,k.default.sources.USER)}}function I($){var V=this.quill.getLines($),Y={};if(V.length>1){var Q=V[0].formats(),J=V[V.length-1].formats();Y=g.default.attributes.diff(J,Q)||{}}this.quill.deleteText($,k.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine($.index,1,Y,k.default.sources.USER),this.quill.setSelection($.index,k.default.sources.SILENT),this.quill.focus()}function F($,V){var Y=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var Q=Object.keys(V.format).reduce(function(J,te){return x.default.query(te,x.default.Scope.BLOCK)&&!Array.isArray(V.format[te])&&(J[te]=V.format[te]),J},{});this.quill.insertText($.index,`
`,Q,k.default.sources.USER),this.quill.setSelection($.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(J){Q[J]==null&&(Array.isArray(V.format[J])||J!=="link"&&Y.quill.format(J,V.format[J],k.default.sources.USER))})}function R($){return{key:z.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(Y){var Q=x.default.query("code-block"),J=Y.index,te=Y.length,ce=this.quill.scroll.descendant(Q,J),de=l(ce,2),ge=de[0],ve=de[1];if(ge!=null){var Be=this.quill.getIndex(ge),je=ge.newlineIndex(ve,!0)+1,X=ge.newlineIndex(Be+ve+te),ee=ge.domNode.textContent.slice(je,X).split(`
`);ve=0,ee.forEach(function(oe,le){$?(ge.insertAt(je+ve,Q.TAB),ve+=Q.TAB.length,le===0?J+=Q.TAB.length:te+=Q.TAB.length):oe.startsWith(Q.TAB)&&(ge.deleteAt(je+ve,Q.TAB.length),ve-=Q.TAB.length,le===0?J-=Q.TAB.length:te-=Q.TAB.length),ve+=oe.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(J,te,k.default.sources.SILENT)}}}}function W($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(Y,Q){this.quill.format($,!Q.format[$],k.default.sources.USER)}}}function B($){if(typeof $=="string"||typeof $=="number")return B({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,f.default)($,!1)),typeof $.key=="string")if(z.keys[$.key.toUpperCase()]!=null)$.key=z.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[U]=$.shortKey,delete $.shortKey),$}i.default=z,i.SHORTKEY=U},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function g(v,x){var y=[],k=!0,N=!1,j=void 0;try{for(var E=v[Symbol.iterator](),C;!(k=(C=E.next()).done)&&(y.push(C.value),!(x&&y.length===x));k=!0);}catch(S){N=!0,j=S}finally{try{!k&&E.return&&E.return()}finally{if(N)throw j}}return y}return function(v,x){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return g(v,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function g(v,x,y){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,x);if(k===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:g(N,x,y)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(y)}},s=function(){function g(v,x){for(var y=0;y<x.length;y++){var k=x[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,x,y){return x&&g(v.prototype,x),y&&g(v,y),v}}(),u=o(0),f=d(u),p=o(7),c=d(p);function d(g){return g&&g.__esModule?g:{default:g}}function m(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function b(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function w(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var _=function(g){w(v,g),s(v,null,[{key:"value",value:function(){}}]);function v(x,y){m(this,v);var k=b(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return k.selection=y,k.textNode=document.createTextNode(v.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return s(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,k){if(this._length!==0)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,k);for(var N=this,j=0;N!=null&&N.statics.scope!==f.default.Scope.BLOCK_BLOT;)j+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=v.CONTENTS.length,N.optimize(),N.formatAt(j,v.CONTENTS.length,y,k),this._length=0)}},{key:"index",value:function(y,k){return y===this.textNode?0:l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,y,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,k=this.selection.getNativeRange(),N=void 0,j=void 0,E=void 0;if(k!=null&&k.start.node===y&&k.end.node===y){var C=[y,k.start.offset,k.end.offset];N=C[0],j=C[1],E=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var S=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof c.default?(N=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=v.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var T=[j,E].map(function(P){return Math.max(0,Math.min(N.data.length,P-1))}),O=a(T,2);return j=O[0],E=O[1],{startNode:N,startOffset:j,endNode:N,endOffset:E}}}}},{key:"update",value:function(y,k){var N=this;if(y.some(function(E){return E.type==="characterData"&&E.target===N.textNode})){var j=this.restore();j&&(k.range=j)}}},{key:"value",value:function(){return""}}]),v}(f.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",i.default=_},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),l=f(a),s=o(4),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var m=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return w}(l.default.Container);m.allowedChildren=[u.default,s.BlockEmbed,m],i.default=m},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var a=function(){function _(g,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,x){return v&&_(g.prototype,v),x&&_(g,x),g}}(),l=function _(g,v,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,v);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(0),u=f(s);function f(_){return _&&_.__esModule?_:{default:_}}function p(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function d(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var m=function(_){d(g,_);function g(){return p(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(x){var y=l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,x);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):y}}]),g}(u.default.Attributor.Style),b=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),w=new m("color","color",{scope:u.default.Scope.INLINE});i.ColorAttributor=m,i.ColorClass=b,i.ColorStyle=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var a=function(){function w(_,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}return function(_,g,v){return g&&w(_.prototype,g),v&&w(_,v),_}}(),l=function w(_,g,v){_===null&&(_=Function.prototype);var x=Object.getOwnPropertyDescriptor(_,g);if(x===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:w(y,g,v)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(v)}},s=o(6),u=f(s);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function c(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var m=function(w){d(_,w);function _(){return p(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(v,x){if(v!==this.statics.blotName||!x)return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,v,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(v){var x=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,v);return v=this.sanitize(v),x.setAttribute("href",v),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return b(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),_}(u.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(w,_){var g=document.createElement("a");g.href=w;var v=g.href.slice(0,g.href.indexOf(":"));return _.indexOf(v)>-1}i.default=m,i.sanitize=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l=function(){function _(g,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,x){return v&&_(g.prototype,v),x&&_(g,x),g}}(),s=o(23),u=c(s),f=o(107),p=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var m=0;function b(_,g){_.setAttribute(g,_.getAttribute(g)!=="true")}var w=function(){function _(g){var v=this;d(this,_),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case u.default.keys.ENTER:v.togglePicker();break;case u.default.keys.ESCAPE:v.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var x=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),v.hasAttribute("value")&&y.setAttribute("data-value",v.getAttribute("value")),v.textContent&&y.setAttribute("data-label",v.textContent),y.addEventListener("click",function(){x.selectItem(y,!0)}),y.addEventListener("keydown",function(k){switch(k.keyCode){case u.default.keys.ENTER:x.selectItem(y,!0),k.preventDefault();break;case u.default.keys.ESCAPE:x.escape(),k.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=p.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(y){var k=v.buildItem(y);x.appendChild(k),y.selected===!0&&v.selectItem(k)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(x){v.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(v!==y&&(y!=null&&y.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var y=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),_}();i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),l=L(a),s=o(5),u=L(s),f=o(4),p=L(f),c=o(16),d=L(c),m=o(25),b=L(m),w=o(24),_=L(w),g=o(35),v=L(g),x=o(6),y=L(x),k=o(22),N=L(k),j=o(7),E=L(j),C=o(55),S=L(C),T=o(42),O=L(T),P=o(23),A=L(P);function L(U){return U&&U.__esModule?U:{default:U}}u.default.register({"blots/block":p.default,"blots/block/embed":f.BlockEmbed,"blots/break":d.default,"blots/container":b.default,"blots/cursor":_.default,"blots/embed":v.default,"blots/inline":y.default,"blots/scroll":N.default,"blots/text":E.default,"modules/clipboard":S.default,"modules/history":O.default,"modules/keyboard":A.default}),l.default.register(p.default,d.default,_.default,y.default,N.default,E.default),i.default=u.default},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),l=function(){function s(u){this.domNode=u,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(u){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?f=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?f=document.createElement(u):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return a.create(u)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(u,f){var p=this.isolate(u,f);p.remove()},s.prototype.formatAt=function(u,f,p,c){var d=this.isolate(u,f);if(a.query(p,a.Scope.BLOT)!=null&&c)d.wrap(p,c);else if(a.query(p,a.Scope.ATTRIBUTE)!=null){var m=a.create(this.statics.scope);d.wrap(m),m.format(p,c)}},s.prototype.insertAt=function(u,f,p){var c=p==null?a.create("text",f):a.create(f,p),d=this.split(u);this.parent.insertBefore(c,d)},s.prototype.insertInto=function(u,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var p=null;u.children.insertBefore(this,f),f!=null&&(p=f.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=p)&&u.domNode.insertBefore(this.domNode,p),this.parent=u,this.attach()},s.prototype.isolate=function(u,f){var p=this.split(u);return p.split(f),p},s.prototype.length=function(){return 1},s.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},s.prototype.optimize=function(u){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},s.prototype.replaceWith=function(u,f){var p=typeof u=="string"?a.create(u,f):u;return p.replace(this),p},s.prototype.split=function(u,f){return u===0?this:this.next},s.prototype.update=function(u,f){},s.prototype.wrap=function(u,f){var p=typeof u=="string"?a.create(u,f):u;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},s.blotName="abstract",s}();i.default=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(12),l=o(32),s=o(33),u=o(1),f=function(){function p(c){this.attributes={},this.domNode=c,this.build()}return p.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},p.prototype.build=function(){var c=this;this.attributes={};var d=a.default.keys(this.domNode),m=l.default.keys(this.domNode),b=s.default.keys(this.domNode);d.concat(m).concat(b).forEach(function(w){var _=u.query(w,u.Scope.ATTRIBUTE);_ instanceof a.default&&(c.attributes[_.attrName]=_)})},p.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(m){var b=d.attributes[m].value(d.domNode);c.format(m,b)})},p.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(m){d.attributes[m].remove(d.domNode)}),this.attributes={}},p.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,m){return d[m]=c.attributes[m].value(c.domNode),d},{})},p}();i.default=f},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(12);function s(f,p){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(p+"-")===0})}var u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},p.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},p.prototype.remove=function(c){var d=s(c,this.keyName);d.forEach(function(m){c.classList.remove(m)}),c.classList.length===0&&c.removeAttribute("class")},p.prototype.value=function(c){var d=s(c,this.keyName)[0]||"",m=d.slice(this.keyName.length+1);return this.canAdd(c,m)?m:""},p}(l.default);i.default=u},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(12);function s(f){var p=f.split("-"),c=p.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return p[0]+c}var u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var m=d.split(":");return m[0].trim()})},p.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[s(this.keyName)]=d,!0):!1},p.prototype.remove=function(c){c.style[s(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},p.prototype.value=function(c){var d=c.style[s(this.keyName)];return this.canAdd(c,d)?d:""},p}(l.default);i.default=u},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(f,p){for(var c=0;c<p.length;c++){var d=p[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,p,c){return p&&u(f.prototype,p),c&&u(f,c),f}}();function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(f,p){l(this,u),this.quill=f,this.options=p,this.modules={}}return a(u,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(c){p.modules[c]==null&&p.addModule(c)})}},{key:"addModule",value:function(p){var c=this.quill.constructor.import("modules/"+p);return this.modules[p]=new c(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),u}();s.DEFAULTS={modules:{}},s.themes={default:s},i.default=s},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function g(v,x){for(var y=0;y<x.length;y++){var k=x[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,x,y){return x&&g(v.prototype,x),y&&g(v,y),v}}(),l=function g(v,x,y){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,x);if(k===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:g(N,x,y)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(y)}},s=o(0),u=c(s),f=o(7),p=c(f);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function b(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var w="\uFEFF",_=function(g){b(v,g);function v(x){d(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(k){y.contentNode.appendChild(k)}),y.leftGuard=document.createTextNode(w),y.rightGuard=document.createTextNode(w),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return a(v,[{key:"index",value:function(y,k){return y===this.leftGuard?0:y===this.rightGuard?1:l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,y,k)}},{key:"restore",value:function(y){var k=void 0,N=void 0,j=y.data.split(w).join("");if(y===this.leftGuard)if(this.prev instanceof p.default){var E=this.prev.length();this.prev.insertAt(E,j),k={startNode:this.prev.domNode,startOffset:E+j.length}}else N=document.createTextNode(j),this.parent.insertBefore(u.default.create(N),this),k={startNode:N,startOffset:j.length};else y===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,j),k={startNode:this.next.domNode,startOffset:j.length}):(N=document.createTextNode(j),this.parent.insertBefore(u.default.create(N),this.next),k={startNode:N,startOffset:j.length}));return y.data=w,k}},{key:"update",value:function(y,k){var N=this;y.forEach(function(j){if(j.type==="characterData"&&(j.target===N.leftGuard||j.target===N.rightGuard)){var E=N.restore(j.target);E&&(k.range=E)}})}}]),v}(u.default.Embed);i.default=_},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var a=o(0),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var u={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new l.default.Attributor.Attribute("align","align",u),p=new l.default.Attributor.Class("align","ql-align",u),c=new l.default.Attributor.Style("align","text-align",u);i.AlignAttribute=f,i.AlignClass=p,i.AlignStyle=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var a=o(0),l=u(a),s=o(26);function u(c){return c&&c.__esModule?c:{default:c}}var f=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),p=new s.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});i.BackgroundClass=f,i.BackgroundStyle=p},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var a=o(0),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var u={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},f=new l.default.Attributor.Attribute("direction","dir",u),p=new l.default.Attributor.Class("direction","ql-direction",u),c=new l.default.Attributor.Style("direction","direction",u);i.DirectionAttribute=f,i.DirectionClass=p,i.DirectionStyle=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var a=function(){function g(v,x){for(var y=0;y<x.length;y++){var k=x[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,x,y){return x&&g(v.prototype,x),y&&g(v,y),v}}(),l=function g(v,x,y){v===null&&(v=Function.prototype);var k=Object.getOwnPropertyDescriptor(v,x);if(k===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:g(N,x,y)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(y)}},s=o(0),u=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function c(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new u.default.Attributor.Class("font","ql-font",m),w=function(g){d(v,g);function v(){return p(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"value",value:function(y){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),v}(u.default.Attributor.Style),_=new w("font","font-family",m);i.FontStyle=_,i.FontClass=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var a=o(0),l=s(a);function s(p){return p&&p.__esModule?p:{default:p}}var u=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=u,i.SizeStyle=f},function(r,i,o){r.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var a=function(){function x(y,k){for(var N=0;N<k.length;N++){var j=k[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,k,N){return k&&x(y.prototype,k),N&&x(y,N),y}}(),l=o(0),s=d(l),u=o(5),f=d(u),p=o(9),c=d(p);function d(x){return x&&x.__esModule?x:{default:x}}function m(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function b(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function w(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var _=function(x){w(y,x);function y(k,N){m(this,y);var j=b(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,k,N));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(f.default.events.EDITOR_CHANGE,function(E,C,S,T){E!==f.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||T===f.default.sources.USER?j.record(C,S):j.transform(C))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return a(y,[{key:"change",value:function(N,j){if(this.stack[N].length!==0){var E=this.stack[N].pop();this.stack[j].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[N],f.default.sources.USER),this.ignoreChange=!1;var C=v(E[N]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,j){if(N.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(j),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var S=this.stack.undo.pop();E=E.compose(S.undo),N=S.redo.compose(N)}else this.lastRecorded=C;this.stack.undo.push({redo:N,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(c.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(x){var y=x.ops[x.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(k){return s.default.query(k,s.default.Scope.BLOCK)!=null}):!1}function v(x){var y=x.reduce(function(N,j){return N+=j.delete||0,N},0),k=x.length()-y;return g(x)&&(k-=1),k}i.default=_,i.getLastChangeIndex=v},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var a=function(){function F(R,W){for(var B=0;B<W.length;B++){var $=W[B];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,$.key,$)}}return function(R,W,B){return W&&F(R.prototype,W),B&&F(R,B),R}}(),l=function F(R,W,B){R===null&&(R=Function.prototype);var $=Object.getOwnPropertyDescriptor(R,W);if($===void 0){var V=Object.getPrototypeOf(R);return V===null?void 0:F(V,W,B)}else{if("value"in $)return $.value;var Y=$.get;return Y===void 0?void 0:Y.call(B)}},s=o(3),u=C(s),f=o(2),p=C(f),c=o(8),d=C(c),m=o(23),b=C(m),w=o(34),_=C(w),g=o(59),v=C(g),x=o(60),y=C(x),k=o(28),N=C(k),j=o(61),E=C(j);function C(F){return F&&F.__esModule?F:{default:F}}function S(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")}function T(F,R){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:F}function O(F,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);F.prototype=Object.create(R&&R.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(F,R):F.__proto__=R)}var P=[!1,"center","right","justify"],A=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],U=["1","2","3",!1],z=["small",!1,"large","huge"],H=function(F){O(R,F);function R(W,B){S(this,R);var $=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,W,B)),V=function Y(Q){if(!document.body.contains(W.root))return document.body.removeEventListener("click",Y);$.tooltip!=null&&!$.tooltip.root.contains(Q.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(J){J.container.contains(Q.target)||J.close()})};return W.emitter.listenDOM("click",document.body,V),$}return a(R,[{key:"addModule",value:function(B){var $=l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(B,$){B.forEach(function(V){var Y=V.getAttribute("class")||"";Y.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),$[Q]!=null))if(Q==="direction")V.innerHTML=$[Q][""]+$[Q].rtl;else if(typeof $[Q]=="string")V.innerHTML=$[Q];else{var J=V.value||"";J!=null&&$[Q][J]&&(V.innerHTML=$[Q][J])}})})}},{key:"buildPickers",value:function(B,$){var V=this;this.pickers=B.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&I(Q,P),new y.default(Q,$.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var J=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&I(Q,A,J==="background"?"#ffffff":"#000000"),new v.default(Q,$[J])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?I(Q,L):Q.classList.contains("ql-header")?I(Q,U):Q.classList.contains("ql-size")&&I(Q,z)),new N.default(Q)});var Y=function(){V.pickers.forEach(function(J){J.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,Y)}}]),R}(_.default);H.DEFAULTS=(0,u.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var B=new FileReader;B.onload=function($){var V=R.quill.getSelection(!0);R.quill.updateContents(new p.default().retain(V.index).delete(V.length).insert({image:$.target.result}),d.default.sources.USER),R.quill.setSelection(V.index+1,d.default.sources.SILENT),W.value=""},B.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(F){O(R,F);function R(W,B){S(this,R);var $=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,W,B));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(R,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function($){b.default.match($,"enter")?(B.save(),$.preventDefault()):b.default.match($,"escape")&&(B.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",B,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",B,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":B=M(B);case"formula":{if(!B)break;var V=this.quill.getSelection(!0);if(V!=null){var Y=V.index+V.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),B,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",d.default.sources.USER),this.quill.setSelection(Y+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(E.default);function M(F){var R=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":F}function I(F,R){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(B){var $=document.createElement("option");B===W?$.setAttribute("selected","selected"):$.setAttribute("value",B),F.appendChild($)})}i.BaseTooltip=D,i.default=H},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},l.prototype.contains=function(s){for(var u,f=this.iterator();u=f();)if(u===s)return!0;return!1},l.prototype.insertBefore=function(s,u){s&&(s.next=u,u!=null?(s.prev=u.prev,u.prev!=null&&(u.prev.next=s),u.prev=s,u===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},l.prototype.offset=function(s){for(var u=0,f=this.head;f!=null;){if(f===s)return u;u+=f.length(),f=f.next}return-1},l.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},l.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var u=s;return s!=null&&(s=s.next),u}},l.prototype.find=function(s,u){u===void 0&&(u=!1);for(var f,p=this.iterator();f=p();){var c=f.length();if(s<c||u&&s===c&&(f.next==null||f.next.length()!==0))return[f,s];s-=c}return[null,0]},l.prototype.forEach=function(s){for(var u,f=this.iterator();u=f();)s(u)},l.prototype.forEachAt=function(s,u,f){if(!(u<=0))for(var p=this.find(s),c=p[0],d=p[1],m,b=s-d,w=this.iterator(c);(m=w())&&b<s+u;){var _=m.length();s>b?f(m,s-b,Math.min(u,b+_-s)):f(m,0,Math.min(_,s+u-b)),b+=_}},l.prototype.map=function(s){return this.reduce(function(u,f){return u.push(s(f)),u},[])},l.prototype.reduce=function(s,u){for(var f,p=this.iterator();f=p();)u=s(u,f);return u},l}();i.default=a},function(r,i,o){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var b in m)m.hasOwnProperty(b)&&(d[b]=m[b])};return function(d,m){c(d,m);function b(){this.constructor=d}d.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(17),s=o(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,p=function(c){a(d,c);function d(m){var b=c.call(this,m)||this;return b.scroll=b,b.observer=new MutationObserver(function(w){b.update(w)}),b.observer.observe(b.domNode,u),b.attach(),b}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(m,b){this.update(),m===0&&b===this.length()?this.children.forEach(function(w){w.remove()}):c.prototype.deleteAt.call(this,m,b)},d.prototype.formatAt=function(m,b,w,_){this.update(),c.prototype.formatAt.call(this,m,b,w,_)},d.prototype.insertAt=function(m,b,w){this.update(),c.prototype.insertAt.call(this,m,b,w)},d.prototype.optimize=function(m,b){var w=this;m===void 0&&(m=[]),b===void 0&&(b={}),c.prototype.optimize.call(this,b);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)m.push(_.pop());for(var g=function(k,N){N===void 0&&(N=!0),!(k==null||k===w)&&k.domNode.parentNode!=null&&(k.domNode[s.DATA_KEY].mutations==null&&(k.domNode[s.DATA_KEY].mutations=[]),N&&g(k.parent))},v=function(k){k.domNode[s.DATA_KEY]==null||k.domNode[s.DATA_KEY].mutations==null||(k instanceof l.default&&k.children.forEach(v),k.optimize(b))},x=m,y=0;x.length>0;y+=1){if(y>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(k){var N=s.find(k.target,!0);N!=null&&(N.domNode===k.target&&(k.type==="childList"?(g(s.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(j){var E=s.find(j,!1);g(E,!1),E instanceof l.default&&E.children.forEach(function(C){g(C,!1)})})):k.type==="attributes"&&g(N.prev)),g(N))}),this.children.forEach(v),x=[].slice.call(this.observer.takeRecords()),_=x.slice();_.length>0;)m.push(_.pop())}},d.prototype.update=function(m,b){var w=this;b===void 0&&(b={}),m=m||this.observer.takeRecords(),m.map(function(_){var g=s.find(_.target,!0);return g==null?null:g.domNode[s.DATA_KEY].mutations==null?(g.domNode[s.DATA_KEY].mutations=[_],g):(g.domNode[s.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===w||_.domNode[s.DATA_KEY]==null||_.update(_.domNode[s.DATA_KEY].mutations||[],b)}),this.domNode[s.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,b),this.optimize(m,b)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(l.default);i.default=p},function(r,i,o){var a=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])};return function(c,d){p(c,d);function m(){this.constructor=c}c.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(18),s=o(1);function u(p,c){if(Object.keys(p).length!==Object.keys(c).length)return!1;for(var d in p)if(p[d]!==c[d])return!1;return!0}var f=function(p){a(c,p);function c(){return p!==null&&p.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return p.formats.call(this,d)},c.prototype.format=function(d,m){var b=this;d===this.statics.blotName&&!m?(this.children.forEach(function(w){w instanceof l.default||(w=w.wrap(c.blotName,!0)),b.attributes.copy(w)}),this.unwrap()):p.prototype.format.call(this,d,m)},c.prototype.formatAt=function(d,m,b,w){if(this.formats()[b]!=null||s.query(b,s.Scope.ATTRIBUTE)){var _=this.isolate(d,m);_.format(b,w)}else p.prototype.formatAt.call(this,d,m,b,w)},c.prototype.optimize=function(d){p.prototype.optimize.call(this,d);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var b=this.next;b instanceof c&&b.prev===this&&u(m,b.formats())&&(b.moveChildren(this),b.remove())},c.blotName="inline",c.scope=s.Scope.INLINE_BLOT,c.tagName="SPAN",c}(l.default);i.default=f},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(18),s=o(1),u=function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.formats=function(c){var d=s.query(p.blotName).tagName;if(c.tagName!==d)return f.formats.call(this,c)},p.prototype.format=function(c,d){s.query(c,s.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(p.blotName):f.prototype.format.call(this,c,d))},p.prototype.formatAt=function(c,d,m,b){s.query(m,s.Scope.BLOCK)!=null?this.format(m,b):f.prototype.formatAt.call(this,c,d,m,b)},p.prototype.insertAt=function(c,d,m){if(m==null||s.query(d,s.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,d,m);else{var b=this.split(c),w=s.create(d,m);b.parent.insertBefore(w,b)}},p.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,d)},p.blotName="block",p.scope=s.Scope.BLOCK_BLOT,p.tagName="P",p}(l.default);i.default=u},function(r,i,o){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var c in p)p.hasOwnProperty(c)&&(f[c]=p[c])};return function(f,p){u(f,p);function c(){this.constructor=f}f.prototype=p===null?Object.create(p):(c.prototype=p.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(19),s=function(u){a(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(p){},f.prototype.format=function(p,c){u.prototype.formatAt.call(this,0,this.length(),p,c)},f.prototype.formatAt=function(p,c,d,m){p===0&&c===this.length()?this.format(d,m):u.prototype.formatAt.call(this,p,c,d,m)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(l.default);i.default=s},function(r,i,o){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,c){p.__proto__=c}||function(p,c){for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d])};return function(p,c){f(p,c);function d(){this.constructor=p}p.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var l=o(19),s=o(1),u=function(f){a(p,f);function p(c){var d=f.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return p.create=function(c){return document.createTextNode(c)},p.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},p.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},p.prototype.index=function(c,d){return this.domNode===c?d:-1},p.prototype.insertAt=function(c,d,m){m==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,d,m)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(c,d){return[this.domNode,c]},p.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var m=s.create(this.domNode.splitText(c));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},p.prototype.update=function(c,d){var m=this;c.some(function(b){return b.type==="characterData"&&b.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=s.Scope.INLINE_BLOT,p}(l.default);i.default=u},function(r,i,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,u){return arguments.length>1&&!this.contains(s)==!u?u:l.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,u){return u=u||0,this.substr(u,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,u){var f=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>f.length)&&(u=f.length),u-=s.length;var p=f.indexOf(s,u);return p!==-1&&p===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),p=f.length>>>0,c=arguments[1],d,m=0;m<p;m++)if(d=f[m],u.call(c,d,m,f))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,i){var o=-1,a=1,l=0;function s(y,k,N){if(y==k)return y?[[l,y]]:[];(N<0||y.length<N)&&(N=null);var j=c(y,k),E=y.substring(0,j);y=y.substring(j),k=k.substring(j),j=d(y,k);var C=y.substring(y.length-j);y=y.substring(0,y.length-j),k=k.substring(0,k.length-j);var S=u(y,k);return E&&S.unshift([l,E]),C&&S.push([l,C]),b(S),N!=null&&(S=g(S,N)),S=v(S),S}function u(y,k){var N;if(!y)return[[a,k]];if(!k)return[[o,y]];var j=y.length>k.length?y:k,E=y.length>k.length?k:y,C=j.indexOf(E);if(C!=-1)return N=[[a,j.substring(0,C)],[l,E],[a,j.substring(C+E.length)]],y.length>k.length&&(N[0][0]=N[2][0]=o),N;if(E.length==1)return[[o,y],[a,k]];var S=m(y,k);if(S){var T=S[0],O=S[1],P=S[2],A=S[3],L=S[4],U=s(T,P),z=s(O,A);return U.concat([[l,L]],z)}return f(y,k)}function f(y,k){for(var N=y.length,j=k.length,E=Math.ceil((N+j)/2),C=E,S=2*E,T=new Array(S),O=new Array(S),P=0;P<S;P++)T[P]=-1,O[P]=-1;T[C+1]=0,O[C+1]=0;for(var A=N-j,L=A%2!=0,U=0,z=0,H=0,D=0,M=0;M<E;M++){for(var I=-M+U;I<=M-z;I+=2){var F=C+I,R;I==-M||I!=M&&T[F-1]<T[F+1]?R=T[F+1]:R=T[F-1]+1;for(var W=R-I;R<N&&W<j&&y.charAt(R)==k.charAt(W);)R++,W++;if(T[F]=R,R>N)z+=2;else if(W>j)U+=2;else if(L){var B=C+A-I;if(B>=0&&B<S&&O[B]!=-1){var $=N-O[B];if(R>=$)return p(y,k,R,W)}}}for(var V=-M+H;V<=M-D;V+=2){var B=C+V,$;V==-M||V!=M&&O[B-1]<O[B+1]?$=O[B+1]:$=O[B-1]+1;for(var Y=$-V;$<N&&Y<j&&y.charAt(N-$-1)==k.charAt(j-Y-1);)$++,Y++;if(O[B]=$,$>N)D+=2;else if(Y>j)H+=2;else if(!L){var F=C+A-V;if(F>=0&&F<S&&T[F]!=-1){var R=T[F],W=C+R-F;if($=N-$,R>=$)return p(y,k,R,W)}}}}return[[o,y],[a,k]]}function p(y,k,N,j){var E=y.substring(0,N),C=k.substring(0,j),S=y.substring(N),T=k.substring(j),O=s(E,C),P=s(S,T);return O.concat(P)}function c(y,k){if(!y||!k||y.charAt(0)!=k.charAt(0))return 0;for(var N=0,j=Math.min(y.length,k.length),E=j,C=0;N<E;)y.substring(C,E)==k.substring(C,E)?(N=E,C=N):j=E,E=Math.floor((j-N)/2+N);return E}function d(y,k){if(!y||!k||y.charAt(y.length-1)!=k.charAt(k.length-1))return 0;for(var N=0,j=Math.min(y.length,k.length),E=j,C=0;N<E;)y.substring(y.length-E,y.length-C)==k.substring(k.length-E,k.length-C)?(N=E,C=N):j=E,E=Math.floor((j-N)/2+N);return E}function m(y,k){var N=y.length>k.length?y:k,j=y.length>k.length?k:y;if(N.length<4||j.length*2<N.length)return null;function E(z,H,D){for(var M=z.substring(D,D+Math.floor(z.length/4)),I=-1,F="",R,W,B,$;(I=H.indexOf(M,I+1))!=-1;){var V=c(z.substring(D),H.substring(I)),Y=d(z.substring(0,D),H.substring(0,I));F.length<Y+V&&(F=H.substring(I-Y,I)+H.substring(I,I+V),R=z.substring(0,D-Y),W=z.substring(D+V),B=H.substring(0,I-Y),$=H.substring(I+V))}return F.length*2>=z.length?[R,W,B,$,F]:null}var C=E(N,j,Math.ceil(N.length/4)),S=E(N,j,Math.ceil(N.length/2)),T;if(!C&&!S)return null;S?C?T=C[4].length>S[4].length?C:S:T=S:T=C;var O,P,A,L;y.length>k.length?(O=T[0],P=T[1],A=T[2],L=T[3]):(A=T[0],L=T[1],O=T[2],P=T[3]);var U=T[4];return[O,P,A,L,U]}function b(y){y.push([l,""]);for(var k=0,N=0,j=0,E="",C="",S;k<y.length;)switch(y[k][0]){case a:j++,C+=y[k][1],k++;break;case o:N++,E+=y[k][1],k++;break;case l:N+j>1?(N!==0&&j!==0&&(S=c(C,E),S!==0&&(k-N-j>0&&y[k-N-j-1][0]==l?y[k-N-j-1][1]+=C.substring(0,S):(y.splice(0,0,[l,C.substring(0,S)]),k++),C=C.substring(S),E=E.substring(S)),S=d(C,E),S!==0&&(y[k][1]=C.substring(C.length-S)+y[k][1],C=C.substring(0,C.length-S),E=E.substring(0,E.length-S))),N===0?y.splice(k-j,N+j,[a,C]):j===0?y.splice(k-N,N+j,[o,E]):y.splice(k-N-j,N+j,[o,E],[a,C]),k=k-N-j+(N?1:0)+(j?1:0)+1):k!==0&&y[k-1][0]==l?(y[k-1][1]+=y[k][1],y.splice(k,1)):k++,j=0,N=0,E="",C="";break}y[y.length-1][1]===""&&y.pop();var T=!1;for(k=1;k<y.length-1;)y[k-1][0]==l&&y[k+1][0]==l&&(y[k][1].substring(y[k][1].length-y[k-1][1].length)==y[k-1][1]?(y[k][1]=y[k-1][1]+y[k][1].substring(0,y[k][1].length-y[k-1][1].length),y[k+1][1]=y[k-1][1]+y[k+1][1],y.splice(k-1,1),T=!0):y[k][1].substring(0,y[k+1][1].length)==y[k+1][1]&&(y[k-1][1]+=y[k+1][1],y[k][1]=y[k][1].substring(y[k+1][1].length)+y[k+1][1],y.splice(k+1,1),T=!0)),k++;T&&b(y)}var w=s;w.INSERT=a,w.DELETE=o,w.EQUAL=l,r.exports=w;function _(y,k){if(k===0)return[l,y];for(var N=0,j=0;j<y.length;j++){var E=y[j];if(E[0]===o||E[0]===l){var C=N+E[1].length;if(k===C)return[j+1,y];if(k<C){y=y.slice();var S=k-N,T=[E[0],E[1].slice(0,S)],O=[E[0],E[1].slice(S)];return y.splice(j,1,T,O),[j+1,y]}else N=C}}throw new Error("cursor_pos is out of bounds!")}function g(y,k){var N=_(y,k),j=N[1],E=N[0],C=j[E],S=j[E+1];if(C==null)return y;if(C[0]!==l)return y;if(S!=null&&C[1]+S[1]===S[1]+C[1])return j.splice(E,2,S,C),x(j,E,2);if(S!=null&&S[1].indexOf(C[1])===0){j.splice(E,2,[S[0],C[1]],[0,C[1]]);var T=S[1].slice(C[1].length);return T.length>0&&j.splice(E+2,0,[S[0],T]),x(j,E,3)}else return y}function v(y){for(var k=!1,N=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},j=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},E=2;E<y.length;E+=1)y[E-2][0]===l&&j(y[E-2][1])&&y[E-1][0]===o&&N(y[E-1][1])&&y[E][0]===a&&N(y[E][1])&&(k=!0,y[E-1][1]=y[E-2][1].slice(-1)+y[E-1][1],y[E][1]=y[E-2][1].slice(-1)+y[E][1],y[E-2][1]=y[E-2][1].slice(0,-1));if(!k)return y;for(var C=[],E=0;E<y.length;E+=1)y[E][1].length>0&&C.push(y[E]);return C}function x(y,k,N){for(var j=k+N-1;j>=0&&j>=k-1;j--)if(j+1<y.length){var E=y[j],C=y[j+1];E[0]===C[1]&&y.splice(j,2,[E[0],E[1]+C[1]])}return y}},function(r,i){i=r.exports=typeof Object.keys=="function"?Object.keys:o,i.shim=o;function o(a){var l=[];for(var s in a)l.push(s);return l}},function(r,i){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=r.exports=o?a:l,i.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}i.unsupported=l;function l(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,i){var o=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function s(f,p,c){this.fn=f,this.context=p,this.once=c||!1}function u(){this._events=new l,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],c,d;if(this._eventsCount===0)return p;for(d in c=this._events)o.call(c,d)&&p.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(c)):p},u.prototype.listeners=function(p,c){var d=a?a+p:p,m=this._events[d];if(c)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var b=0,w=m.length,_=new Array(w);b<w;b++)_[b]=m[b].fn;return _},u.prototype.emit=function(p,c,d,m,b,w){var _=a?a+p:p;if(!this._events[_])return!1;var g=this._events[_],v=arguments.length,x,y;if(g.fn){switch(g.once&&this.removeListener(p,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,d),!0;case 4:return g.fn.call(g.context,c,d,m),!0;case 5:return g.fn.call(g.context,c,d,m,b),!0;case 6:return g.fn.call(g.context,c,d,m,b,w),!0}for(y=1,x=new Array(v-1);y<v;y++)x[y-1]=arguments[y];g.fn.apply(g.context,x)}else{var k=g.length,N;for(y=0;y<k;y++)switch(g[y].once&&this.removeListener(p,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,d);break;case 4:g[y].fn.call(g[y].context,c,d,m);break;default:if(!x)for(N=1,x=new Array(v-1);N<v;N++)x[N-1]=arguments[N];g[y].fn.apply(g[y].context,x)}}return!0},u.prototype.on=function(p,c,d){var m=new s(c,d||this),b=a?a+p:p;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],m]:this._events[b].push(m):(this._events[b]=m,this._eventsCount++),this},u.prototype.once=function(p,c,d){var m=new s(c,d||this,!0),b=a?a+p:p;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],m]:this._events[b].push(m):(this._events[b]=m,this._eventsCount++),this},u.prototype.removeListener=function(p,c,d,m){var b=a?a+p:p;if(!this._events[b])return this;if(!c)return--this._eventsCount===0?this._events=new l:delete this._events[b],this;var w=this._events[b];if(w.fn)w.fn===c&&(!m||w.once)&&(!d||w.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[b]);else{for(var _=0,g=[],v=w.length;_<v;_++)(w[_].fn!==c||m&&!w[_].once||d&&w[_].context!==d)&&g.push(w[_]);g.length?this._events[b]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new l:delete this._events[b]}return this},u.prototype.removeAllListeners=function(p){var c;return p?(c=a?a+p:p,this._events[c]&&(--this._eventsCount===0?this._events=new l:delete this._events[c])):(this._events=new l,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=a,u.EventEmitter=u,typeof r<"u"&&(r.exports=u)},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},l=function(){function X(ee,oe){var le=[],ne=!0,Z=!1,q=void 0;try{for(var ae=ee[Symbol.iterator](),pe;!(ne=(pe=ae.next()).done)&&(le.push(pe.value),!(oe&&le.length===oe));ne=!0);}catch($e){Z=!0,q=$e}finally{try{!ne&&ae.return&&ae.return()}finally{if(Z)throw q}}return le}return function(ee,oe){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return X(ee,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function X(ee,oe){for(var le=0;le<oe.length;le++){var ne=oe[le];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ee,ne.key,ne)}}return function(ee,oe,le){return oe&&X(ee.prototype,oe),le&&X(ee,le),ee}}(),u=o(3),f=O(u),p=o(2),c=O(p),d=o(0),m=O(d),b=o(5),w=O(b),_=o(10),g=O(_),v=o(9),x=O(v),y=o(36),k=o(37),N=o(13),j=O(N),E=o(26),C=o(38),S=o(39),T=o(40);function O(X){return X&&X.__esModule?X:{default:X}}function P(X,ee,oe){return ee in X?Object.defineProperty(X,ee,{value:oe,enumerable:!0,configurable:!0,writable:!0}):X[ee]=oe,X}function A(X,ee){if(!(X instanceof ee))throw new TypeError("Cannot call a class as a function")}function L(X,ee){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:X}function U(X,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);X.prototype=Object.create(ee&&ee.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(X,ee):X.__proto__=ee)}var z=(0,g.default)("quill:clipboard"),H="__ql-matcher",D=[[Node.TEXT_NODE,je],[Node.TEXT_NODE,ge],["br",te],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,Be],["li",de],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",ce]],M=[y.AlignAttribute,C.DirectionAttribute].reduce(function(X,ee){return X[ee.keyName]=ee,X},{}),I=[y.AlignStyle,k.BackgroundStyle,E.ColorStyle,C.DirectionStyle,S.FontStyle,T.SizeStyle].reduce(function(X,ee){return X[ee.keyName]=ee,X},{}),F=function(X){U(ee,X);function ee(oe,le){A(this,ee);var ne=L(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,oe,le));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],D.concat(ne.options.matchers).forEach(function(Z){var q=l(Z,2),ae=q[0],pe=q[1];!le.matchVisual&&pe===ve||ne.addMatcher(ae,pe)}),ne}return s(ee,[{key:"addMatcher",value:function(le,ne){this.matchers.push([le,ne])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[j.default.blotName]){var Z=this.container.innerText;return this.container.innerHTML="",new c.default().insert(Z,P({},j.default.blotName,ne[j.default.blotName]))}var q=this.prepareMatching(),ae=l(q,2),pe=ae[0],$e=ae[1],xe=V(this.container,pe,$e);return B(xe,`
`)&&xe.ops[xe.ops.length-1].attributes==null&&(xe=xe.compose(new c.default().retain(xe.length()-1).delete(1))),z.log("convert",this.container.innerHTML,xe),this.container.innerHTML="",xe}},{key:"dangerouslyPasteHTML",value:function(le,ne){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),ne),this.quill.setSelection(0,w.default.sources.SILENT);else{var q=this.convert(ne);this.quill.updateContents(new c.default().retain(le).concat(q),Z),this.quill.setSelection(le+q.length(),w.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var ne=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var Z=this.quill.getSelection(),q=new c.default().retain(Z.index),ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(w.default.sources.SILENT),setTimeout(function(){q=q.concat(ne.convert()).delete(Z.length),ne.quill.updateContents(q,w.default.sources.USER),ne.quill.setSelection(q.length()-Z.length,w.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=ae,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,ne=[],Z=[];return this.matchers.forEach(function(q){var ae=l(q,2),pe=ae[0],$e=ae[1];switch(pe){case Node.TEXT_NODE:Z.push($e);break;case Node.ELEMENT_NODE:ne.push($e);break;default:[].forEach.call(le.container.querySelectorAll(pe),function(xe){xe[H]=xe[H]||[],xe[H].push($e)});break}}),[ne,Z]}}]),ee}(x.default);F.DEFAULTS={matchers:[],matchVisual:!0};function R(X,ee,oe){return(typeof ee>"u"?"undefined":a(ee))==="object"?Object.keys(ee).reduce(function(le,ne){return R(le,ne,ee[ne])},X):X.reduce(function(le,ne){return ne.attributes&&ne.attributes[ee]?le.push(ne):le.insert(ne.insert,(0,f.default)({},P({},ee,oe),ne.attributes))},new c.default)}function W(X){if(X.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return X[ee]||(X[ee]=window.getComputedStyle(X))}function B(X,ee){for(var oe="",le=X.ops.length-1;le>=0&&oe.length<ee.length;--le){var ne=X.ops[le];if(typeof ne.insert!="string")break;oe=ne.insert+oe}return oe.slice(-1*ee.length)===ee}function $(X){if(X.childNodes.length===0)return!1;var ee=W(X);return["block","list-item"].indexOf(ee.display)>-1}function V(X,ee,oe){return X.nodeType===X.TEXT_NODE?oe.reduce(function(le,ne){return ne(X,le)},new c.default):X.nodeType===X.ELEMENT_NODE?[].reduce.call(X.childNodes||[],function(le,ne){var Z=V(ne,ee,oe);return ne.nodeType===X.ELEMENT_NODE&&(Z=ee.reduce(function(q,ae){return ae(ne,q)},Z),Z=(ne[H]||[]).reduce(function(q,ae){return ae(ne,q)},Z)),le.concat(Z)},new c.default):new c.default}function Y(X,ee,oe){return R(oe,X,!0)}function Q(X,ee){var oe=m.default.Attributor.Attribute.keys(X),le=m.default.Attributor.Class.keys(X),ne=m.default.Attributor.Style.keys(X),Z={};return oe.concat(le).concat(ne).forEach(function(q){var ae=m.default.query(q,m.default.Scope.ATTRIBUTE);ae!=null&&(Z[ae.attrName]=ae.value(X),Z[ae.attrName])||(ae=M[q],ae!=null&&(ae.attrName===q||ae.keyName===q)&&(Z[ae.attrName]=ae.value(X)||void 0),ae=I[q],ae!=null&&(ae.attrName===q||ae.keyName===q)&&(ae=I[q],Z[ae.attrName]=ae.value(X)||void 0))}),Object.keys(Z).length>0&&(ee=R(ee,Z)),ee}function J(X,ee){var oe=m.default.query(X);if(oe==null)return ee;if(oe.prototype instanceof m.default.Embed){var le={},ne=oe.value(X);ne!=null&&(le[oe.blotName]=ne,ee=new c.default().insert(le,oe.formats(X)))}else typeof oe.formats=="function"&&(ee=R(ee,oe.blotName,oe.formats(X)));return ee}function te(X,ee){return B(ee,`
`)||ee.insert(`
`),ee}function ce(){return new c.default}function de(X,ee){var oe=m.default.query(X);if(oe==null||oe.blotName!=="list-item"||!B(ee,`
`))return ee;for(var le=-1,ne=X.parentNode;!ne.classList.contains("ql-clipboard");)(m.default.query(ne)||{}).blotName==="list"&&(le+=1),ne=ne.parentNode;return le<=0?ee:ee.compose(new c.default().retain(ee.length()-1).retain(1,{indent:le}))}function ge(X,ee){return B(ee,`
`)||($(X)||ee.length()>0&&X.nextSibling&&$(X.nextSibling))&&ee.insert(`
`),ee}function ve(X,ee){if($(X)&&X.nextElementSibling!=null&&!B(ee,`

`)){var oe=X.offsetHeight+parseFloat(W(X).marginTop)+parseFloat(W(X).marginBottom);X.nextElementSibling.offsetTop>X.offsetTop+oe*1.5&&ee.insert(`
`)}return ee}function Be(X,ee){var oe={},le=X.style||{};return le.fontStyle&&W(X).fontStyle==="italic"&&(oe.italic=!0),le.fontWeight&&(W(X).fontWeight.startsWith("bold")||parseInt(W(X).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(ee=R(ee,oe)),parseFloat(le.textIndent||0)>0&&(ee=new c.default().insert("	").concat(ee)),ee}function je(X,ee){var oe=X.data;if(X.parentNode.tagName==="O:P")return ee.insert(oe.trim());if(oe.trim().length===0&&X.parentNode.classList.contains("ql-clipboard"))return ee;if(!W(X.parentNode).whiteSpace.startsWith("pre")){var le=function(Z,q){return q=q.replace(/[^\u00a0]/g,""),q.length<1&&Z?" ":q};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,le.bind(le,!0)),(X.previousSibling==null&&$(X.parentNode)||X.previousSibling!=null&&$(X.previousSibling))&&(oe=oe.replace(/^\s+/,le.bind(le,!1))),(X.nextSibling==null&&$(X.parentNode)||X.nextSibling!=null&&$(X.nextSibling))&&(oe=oe.replace(/\s+$/,le.bind(le,!1)))}return ee.insert(oe)}i.default=F,i.matchAttributor=Q,i.matchBlot=J,i.matchNewline=ge,i.matchSpacing=ve,i.matchText=je},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var g=0;g<_.length;g++){var v=_[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,g){return _&&b(w.prototype,_),g&&b(w,g),w}}(),l=function b(w,_,g){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,g)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(g)}},s=o(6),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var m=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"optimize",value:function(g){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),w}(u.default);m.blotName="bold",m.tagName=["STRONG","B"],i.default=m},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var a=function(){function T(O,P){var A=[],L=!0,U=!1,z=void 0;try{for(var H=O[Symbol.iterator](),D;!(L=(D=H.next()).done)&&(A.push(D.value),!(P&&A.length===P));L=!0);}catch(M){U=!0,z=M}finally{try{!L&&H.return&&H.return()}finally{if(U)throw z}}return A}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function T(O,P){for(var A=0;A<P.length;A++){var L=P[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,P,A){return P&&T(O.prototype,P),A&&T(O,A),O}}(),s=o(2),u=g(s),f=o(0),p=g(f),c=o(5),d=g(c),m=o(10),b=g(m),w=o(9),_=g(w);function g(T){return T&&T.__esModule?T:{default:T}}function v(T,O,P){return O in T?Object.defineProperty(T,O,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[O]=P,T}function x(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function y(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function k(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var N=(0,b.default)("quill:toolbar"),j=function(T){k(O,T);function O(P,A){x(this,O);var L=y(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,A));if(Array.isArray(L.options.container)){var U=document.createElement("div");C(U,L.options.container),P.container.parentNode.insertBefore(U,P.container),L.container=U}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var z;return z=N.error("Container required for toolbar",L.options),y(L,z)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(H){L.addHandler(H,L.options.handlers[H])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(H){L.attach(H)}),L.quill.on(d.default.events.EDITOR_CHANGE,function(H,D){H===d.default.events.SELECTION_CHANGE&&L.update(D)}),L.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var H=L.quill.selection.getRange(),D=a(H,1),M=D[0];L.update(M)}),L}return l(O,[{key:"addHandler",value:function(A,L){this.handlers[A]=L}},{key:"attach",value:function(A){var L=this,U=[].find.call(A.classList,function(H){return H.indexOf("ql-")===0});if(U){if(U=U.slice(3),A.tagName==="BUTTON"&&A.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){N.warn("ignoring attaching to disabled format",U,A);return}if(p.default.query(U)==null){N.warn("ignoring attaching to nonexistent format",U,A);return}}var z=A.tagName==="SELECT"?"change":"click";A.addEventListener(z,function(H){var D=void 0;if(A.tagName==="SELECT"){if(A.selectedIndex<0)return;var M=A.options[A.selectedIndex];M.hasAttribute("selected")?D=!1:D=M.value||!1}else A.classList.contains("ql-active")?D=!1:D=A.value||!A.hasAttribute("value"),H.preventDefault();L.quill.focus();var I=L.quill.selection.getRange(),F=a(I,1),R=F[0];if(L.handlers[U]!=null)L.handlers[U].call(L,D);else if(p.default.query(U).prototype instanceof p.default.Embed){if(D=prompt("Enter "+U),!D)return;L.quill.updateContents(new u.default().retain(R.index).delete(R.length).insert(v({},U,D)),d.default.sources.USER)}else L.quill.format(U,D,d.default.sources.USER);L.update(R)}),this.controls.push([U,A])}}},{key:"update",value:function(A){var L=A==null?{}:this.quill.getFormat(A);this.controls.forEach(function(U){var z=a(U,2),H=z[0],D=z[1];if(D.tagName==="SELECT"){var M=void 0;if(A==null)M=null;else if(L[H]==null)M=D.querySelector("option[selected]");else if(!Array.isArray(L[H])){var I=L[H];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),M=D.querySelector('option[value="'+I+'"]')}M==null?(D.value="",D.selectedIndex=-1):M.selected=!0}else if(A==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var F=L[H]===D.getAttribute("value")||L[H]!=null&&L[H].toString()===D.getAttribute("value")||L[H]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",F)}else D.classList.toggle("ql-active",L[H]!=null)})}}]),O}(_.default);j.DEFAULTS={};function E(T,O,P){var A=document.createElement("button");A.setAttribute("type","button"),A.classList.add("ql-"+O),P!=null&&(A.value=P),T.appendChild(A)}function C(T,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(P){var A=document.createElement("span");A.classList.add("ql-formats"),P.forEach(function(L){if(typeof L=="string")E(A,L);else{var U=Object.keys(L)[0],z=L[U];Array.isArray(z)?S(A,U,z):E(A,U,z)}}),T.appendChild(A)})}function S(T,O,P){var A=document.createElement("select");A.classList.add("ql-"+O),P.forEach(function(L){var U=document.createElement("option");L!==!1?U.setAttribute("value",L):U.setAttribute("selected","selected"),A.appendChild(U)}),T.appendChild(A)}j.DEFAULTS={container:null,handlers:{clean:function(){var O=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var A=this.quill.getFormat();Object.keys(A).forEach(function(L){p.default.query(L,p.default.Scope.INLINE)!=null&&O.quill.format(L,!1)})}else this.quill.removeFormat(P,d.default.sources.USER)},direction:function(O){var P=this.quill.getFormat().align;O==="rtl"&&P==null?this.quill.format("align","right",d.default.sources.USER):!O&&P==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",O,d.default.sources.USER)},indent:function(O){var P=this.quill.getSelection(),A=this.quill.getFormat(P),L=parseInt(A.indent||0);if(O==="+1"||O==="-1"){var U=O==="+1"?1:-1;A.direction==="rtl"&&(U*=-1),this.quill.format("indent",L+U,d.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,d.default.sources.USER)},list:function(O){var P=this.quill.getSelection(),A=this.quill.getFormat(P);O==="check"?A.list==="checked"||A.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",O,d.default.sources.USER)}}},i.default=j,i.addControls=C},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var g=0;g<_.length;g++){var v=_[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,g){return _&&b(w.prototype,_),g&&b(w,g),w}}(),l=function b(w,_,g){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,g)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(g)}},s=o(28),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var m=function(b){d(w,b);function w(_,g){p(this,w);var v=c(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return v.label.innerHTML=g,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),v}return a(w,[{key:"buildItem",value:function(g){var v=l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"buildItem",this).call(this,g);return v.style.backgroundColor=g.getAttribute("value")||"",v}},{key:"selectItem",value:function(g,v){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,g,v);var x=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=y:x.style.fill=y)}}]),w}(u.default);i.default=m},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var g=0;g<_.length;g++){var v=_[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,g){return _&&b(w.prototype,_),g&&b(w,g),w}}(),l=function b(w,_,g){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,g)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(g)}},s=o(28),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var m=function(b){d(w,b);function w(_,g){p(this,w);var v=c(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=g[x.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return a(w,[{key:"selectItem",value:function(g,v){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,g,v),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),w}(u.default);i.default=m},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(f,p){for(var c=0;c<p.length;c++){var d=p[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,p,c){return p&&u(f.prototype,p),c&&u(f,c),f}}();function l(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(f,p){var c=this;l(this,u),this.quill=f,this.boundsContainer=p||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return a(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var c=p.left+p.width/2-this.root.offsetWidth/2,d=p.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),w=0;if(b.right>m.right&&(w=m.right-b.right,this.root.style.left=c+w+"px"),b.left<m.left&&(w=m.left-b.left,this.root.style.left=c+w+"px"),b.bottom>m.bottom){var _=b.bottom-b.top,g=p.bottom-p.top+_;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return w}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();i.default=s},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(T,O){var P=[],A=!0,L=!1,U=void 0;try{for(var z=T[Symbol.iterator](),H;!(A=(H=z.next()).done)&&(P.push(H.value),!(O&&P.length===O));A=!0);}catch(D){L=!0,U=D}finally{try{!A&&z.return&&z.return()}finally{if(L)throw U}}return P}return function(T,O){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function S(T,O,P){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,O);if(A===void 0){var L=Object.getPrototypeOf(T);return L===null?void 0:S(L,O,P)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(P)}},s=function(){function S(T,O){for(var P=0;P<O.length;P++){var A=O[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,O,P){return O&&S(T.prototype,O),P&&S(T,P),T}}(),u=o(3),f=x(u),p=o(8),c=x(p),d=o(43),m=x(d),b=o(27),w=x(b),_=o(15),g=o(41),v=x(g);function x(S){return S&&S.__esModule?S:{default:S}}function y(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function k(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function N(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(S){N(T,S);function T(O,P){y(this,T),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=j);var A=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,P));return A.quill.container.classList.add("ql-snow"),A}return s(T,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(A,L){P.handlers.link.call(P,!L.format.link)})}}]),T}(m.default);E.DEFAULTS=(0,f.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var O=this.quill.getSelection();if(O==null||O.length==0)return;var P=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var A=this.quill.theme.tooltip;A.edit("link",P)}else this.quill.format("link",!1)}}}}});var C=function(S){N(T,S);function T(O,P){y(this,T);var A=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,P));return A.preview=A.root.querySelector("a.ql-preview"),A}return s(T,[{key:"listen",value:function(){var P=this;l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(A){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),A.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(A){if(P.linkRange!=null){var L=P.linkRange;P.restoreFocus(),P.quill.formatText(L,"link",!1,c.default.sources.USER),delete P.linkRange}A.preventDefault(),P.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(A,L,U){if(A!=null){if(A.length===0&&U===c.default.sources.USER){var z=P.quill.scroll.descendant(w.default,A.index),H=a(z,2),D=H[0],M=H[1];if(D!=null){P.linkRange=new _.Range(A.index-M,D.length());var I=w.default.formats(D.domNode);P.preview.textContent=I,P.preview.setAttribute("href",I),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(d.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=E},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(29),l=ne(a),s=o(36),u=o(38),f=o(64),p=o(65),c=ne(p),d=o(66),m=ne(d),b=o(67),w=ne(b),_=o(37),g=o(26),v=o(39),x=o(40),y=o(56),k=ne(y),N=o(68),j=ne(N),E=o(27),C=ne(E),S=o(69),T=ne(S),O=o(70),P=ne(O),A=o(71),L=ne(A),U=o(72),z=ne(U),H=o(73),D=ne(H),M=o(13),I=ne(M),F=o(74),R=ne(F),W=o(75),B=ne(W),$=o(57),V=ne($),Y=o(41),Q=ne(Y),J=o(28),te=ne(J),ce=o(59),de=ne(ce),ge=o(60),ve=ne(ge),Be=o(61),je=ne(Be),X=o(108),ee=ne(X),oe=o(62),le=ne(oe);function ne(Z){return Z&&Z.__esModule?Z:{default:Z}}l.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":x.SizeStyle},!0),l.default.register({"formats/align":s.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":f.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":x.SizeClass,"formats/blockquote":c.default,"formats/code-block":I.default,"formats/header":m.default,"formats/list":w.default,"formats/bold":k.default,"formats/code":M.Code,"formats/italic":j.default,"formats/link":C.default,"formats/script":T.default,"formats/strike":P.default,"formats/underline":L.default,"formats/image":z.default,"formats/video":D.default,"formats/list/item":b.ListItem,"modules/formula":R.default,"modules/syntax":B.default,"modules/toolbar":V.default,"themes/bubble":ee.default,"themes/snow":le.default,"ui/icons":Q.default,"ui/picker":te.default,"ui/icon-picker":ve.default,"ui/color-picker":de.default,"ui/tooltip":je.default},!0),i.default=l.default},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var a=function(){function w(_,g){for(var v=0;v<g.length;v++){var x=g[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}return function(_,g,v){return g&&w(_.prototype,g),v&&w(_,v),_}}(),l=function w(_,g,v){_===null&&(_=Function.prototype);var x=Object.getOwnPropertyDescriptor(_,g);if(x===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:w(y,g,v)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(v)}},s=o(0),u=f(s);function f(w){return w&&w.__esModule?w:{default:w}}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function c(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var m=function(w){d(_,w);function _(){return p(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(v,x){if(x==="+1"||x==="-1"){var y=this.value(v)||0;x=x==="+1"?y+1:y-1}return x===0?(this.remove(v),!0):l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,v,x)}},{key:"canAdd",value:function(v,x){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,x)||l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,parseInt(x))}},{key:"value",value:function(v){return parseInt(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,v))||void 0}}]),_}(u.default.Attributor.Class),b=new m("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(4),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function f(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function p(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var c=function(d){p(m,d);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(l.default);c.blotName="blockquote",c.tagName="blockquote",i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(b,w){for(var _=0;_<w.length;_++){var g=w[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,w,_){return w&&m(b.prototype,w),_&&m(b,_),b}}(),l=o(4),s=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function p(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function c(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var d=function(m){c(b,m);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),b}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],i.default=d},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var a=function(){function y(k,N){for(var j=0;j<N.length;j++){var E=N[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,N,j){return N&&y(k.prototype,N),j&&y(k,j),k}}(),l=function y(k,N,j){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,N);if(E===void 0){var C=Object.getPrototypeOf(k);return C===null?void 0:y(C,N,j)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(j)}},s=o(0),u=m(s),f=o(4),p=m(f),c=o(25),d=m(c);function m(y){return y&&y.__esModule?y:{default:y}}function b(y,k,N){return k in y?Object.defineProperty(y,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):y[k]=N,y}function w(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function _(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function g(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var v=function(y){g(k,y);function k(){return w(this,k),_(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"format",value:function(j,E){j===x.blotName&&!E?this.replaceWith(u.default.create(this.statics.scope)):l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,j,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,E){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,E),this):(this.parent.unwrap(),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,j,E))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:l(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,j)}}]),k}(p.default);v.blotName="list-item",v.tagName="LI";var x=function(y){g(k,y),a(k,null,[{key:"create",value:function(j){var E=j==="ordered"?"OL":"UL",C=l(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,E);return(j==="checked"||j==="unchecked")&&C.setAttribute("data-checked",j==="checked"),C}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(N){w(this,k);var j=_(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N)),E=function(S){if(S.target.parentNode===N){var T=j.statics.formats(N),O=u.default.find(S.target);T==="checked"?O.format("list","unchecked"):T==="unchecked"&&O.format("list","checked")}};return N.addEventListener("touchstart",E),N.addEventListener("mousedown",E),j}return a(k,[{key:"format",value:function(j,E){this.children.length>0&&this.children.tail.format(j,E)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,E){if(j instanceof v)l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,j,E);else{var C=E==null?this.length():E.offset(this),S=this.split(C);S.parent.insertBefore(j,S)}}},{key:"optimize",value:function(j){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,j);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var E=u.default.create(this.statics.defaultChild);j.moveChildren(E),this.appendChild(E)}l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,j)}}]),k}(d.default);x.blotName="list",x.scope=u.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[v],i.ListItem=v,i.default=x},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(56),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function f(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function p(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var c=function(d){p(m,d);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(l.default);c.blotName="italic",c.tagName=["EM","I"],i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(w,_){for(var g=0;g<_.length;g++){var v=_[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,_,g){return _&&b(w.prototype,_),g&&b(w,g),w}}(),l=function b(w,_,g){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,_);if(v===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:b(x,_,g)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(g)}},s=o(6),u=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function c(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var m=function(b){d(w,b);function w(){return p(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),w}(u.default);m.blotName="script",m.tagName=["SUB","SUP"],i.default=m},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function f(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function p(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var c=function(d){p(m,d);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(l.default);c.blotName="strike",c.tagName="S",i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),l=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function u(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function f(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function p(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var c=function(d){p(m,d);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(l.default);c.blotName="underline",c.tagName="U",i.default=c},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(g,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,x){return v&&_(g.prototype,v),x&&_(g,x),g}}(),l=function _(g,v,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,v);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(0),u=p(s),f=o(27);function p(_){return _&&_.__esModule?_:{default:_}}function c(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function m(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var b=["alt","height","width"],w=function(_){m(g,_);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(x,y){b.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=l(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return typeof x=="string"&&y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return b.reduce(function(y,k){return x.hasAttribute(k)&&(y[k]=x.getAttribute(k)),y},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,f.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(u.default.Embed);w.blotName="image",w.tagName="IMG",i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(g,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,x){return v&&_(g.prototype,v),x&&_(g,x),g}}(),l=function _(g,v,x){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,v);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:_(k,v,x)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(x)}},s=o(4),u=o(27),f=p(u);function p(_){return _&&_.__esModule?_:{default:_}}function c(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function m(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var b=["height","width"],w=function(_){m(g,_);function g(){return c(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(x,y){b.indexOf(x)>-1?y?this.domNode.setAttribute(x,y):this.domNode.removeAttribute(x):l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,y)}}],[{key:"create",value:function(x){var y=l(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(x)),y}},{key:"formats",value:function(x){return b.reduce(function(y,k){return x.hasAttribute(k)&&(y[k]=x.getAttribute(k)),y},{})}},{key:"sanitize",value:function(x){return f.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(s.BlockEmbed);w.blotName="video",w.className="ql-video",w.tagName="IFRAME",i.default=w},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var a=function(){function x(y,k){for(var N=0;N<k.length;N++){var j=k[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,k,N){return k&&x(y.prototype,k),N&&x(y,N),y}}(),l=function x(y,k,N){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,k);if(j===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:x(E,k,N)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(N)}},s=o(35),u=m(s),f=o(5),p=m(f),c=o(9),d=m(c);function m(x){return x&&x.__esModule?x:{default:x}}function b(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function w(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function _(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var g=function(x){_(y,x);function y(){return b(this,y),w(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"create",value:function(N){var j=l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",N)),j}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),y}(u.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var v=function(x){_(y,x),a(y,null,[{key:"register",value:function(){p.default.register(g,!0)}}]);function y(){b(this,y);var k=w(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return y}(d.default);i.FormulaBlot=g,i.default=v},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var a=function(){function N(j,E){for(var C=0;C<E.length;C++){var S=E[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,E,C){return E&&N(j.prototype,E),C&&N(j,C),j}}(),l=function N(j,E,C){j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,E);if(S===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:N(T,E,C)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(C)}},s=o(0),u=w(s),f=o(5),p=w(f),c=o(9),d=w(c),m=o(13),b=w(m);function w(N){return N&&N.__esModule?N:{default:N}}function _(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function g(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function v(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var x=function(N){v(j,N);function j(){return _(this,j),g(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),j}(b.default);x.className="ql-syntax";var y=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),k=function(N){v(j,N),a(j,null,[{key:"register",value:function(){p.default.register(y,!0),p.default.register(x,!0)}}]);function j(E,C){_(this,j);var S=g(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,E,C));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return S.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){S.highlight(),T=null},S.options.interval)}),S.highlight(),S}return a(j,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(T){T.highlight(C.options.highlight)}),this.quill.update(p.default.sources.SILENT),S!=null&&this.quill.setSelection(S,p.default.sources.SILENT)}}}]),j}(d.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var j=window.hljs.highlightAuto(N);return j.value}}(),interval:1e3},i.CodeBlock=x,i.CodeToken=y,i.default=k},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,i){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,i){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,i){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,i){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,i){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var a=function j(E,C,S){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,C);if(T===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:j(O,C,S)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(S)}},l=function(){function j(E,C){for(var S=0;S<C.length;S++){var T=C[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,C,S){return C&&j(E.prototype,C),S&&j(E,S),E}}(),s=o(3),u=_(s),f=o(8),p=_(f),c=o(43),d=_(c),m=o(15),b=o(41),w=_(b);function _(j){return j&&j.__esModule?j:{default:j}}function g(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function v(j,E){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:j}function x(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(j,E):j.__proto__=E)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(j){x(E,j);function E(C,S){g(this,E),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=y);var T=v(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,S));return T.quill.container.classList.add("ql-bubble"),T}return l(E,[{key:"extendToolbar",value:function(S){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),w.default)}}]),E}(d.default);k.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(j){x(E,j);function E(C,S){g(this,E);var T=v(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,S));return T.quill.on(p.default.events.EDITOR_CHANGE,function(O,P,A,L){if(O===p.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&L===p.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var U=T.quill.getLines(P.index,P.length);if(U.length===1)T.position(T.quill.getBounds(P));else{var z=U[U.length-1],H=T.quill.getIndex(z),D=Math.min(z.length()-1,P.index+P.length-H),M=T.quill.getBounds(new m.Range(H,D));T.position(M)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return l(E,[{key:"listen",value:function(){var S=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var T=S.quill.getSelection();T!=null&&S.position(S.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var T=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,S),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",T===0)return T;O.style.marginLeft=-1*T-O.offsetWidth/2+"px"}}]),E}(c.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=N,i.default=k},function(r,i,o){r.exports=o(63)}]).default})})(uv);var aN=uv.exports,lN=_t&&_t.__extends||function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])},e(n,r)};return function(n,r){e(n,r);function i(){this.constructor=n}n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),ll=_t&&_t.__assign||function(){return ll=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ll.apply(this,arguments)},sN=_t&&_t.__spreadArrays||function(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var i=Array(e),o=0,n=0;n<r;n++)for(var a=arguments[n],l=0,s=a.length;l<s;l++,o++)i[o]=a[l];return i},Vl=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},en=Vl(G),uN=Vl($m),Ci=Vl(oN),gh=Vl(aN),cN=function(e){lN(n,e);function n(r){var i=e.call(this,r)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(a,l,s,u){var f,p,c,d;a==="text-change"?(p=(f=i).onEditorChangeText)===null||p===void 0||p.call(f,i.editor.root.innerHTML,l,u,i.unprivilegedEditor):a==="selection-change"&&((d=(c=i).onEditorChangeSelection)===null||d===void 0||d.call(c,l,u,i.unprivilegedEditor))};var o=i.isControlled()?r.value:r.defaultValue;return i.value=o??"",i}return n.prototype.validateProps=function(r){var i;if(en.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(en.default.Children.count(r.children)){var o=en.default.Children.only(r.children);if(((i=o)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},n.prototype.shouldComponentUpdate=function(r,i){var o=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==i.generation)return!0;if("value"in r){var l=this.getEditorContents(),s=(a=r.value,a??"");this.isEqualValue(s,l)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),sN(this.cleanProps,this.dirtyProps).some(function(u){return!Ci.default(r[u],o.props[u])})},n.prototype.shouldComponentRegenerate=function(r){var i=this;return this.dirtyProps.some(function(o){return!Ci.default(r[o],i.props[o])})},n.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},n.prototype.componentWillUnmount=function(){this.destroyEditor()},n.prototype.componentDidUpdate=function(r,i){var o=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var s=this.regenerationSnapshot,a=s.delta,u=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(a),mh(function(){return o.setEditorSelection(f,u)})}},n.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},n.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},n.prototype.isControlled=function(){return"value"in this.props},n.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},n.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},n.prototype.createEditor=function(r,i){var o=new gh.default(r,i);return i.tabIndex!=null&&this.setEditorTabIndex(o,i.tabIndex),this.hookEditor(o),o},n.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},n.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},n.prototype.getEditorContents=function(){return this.value},n.prototype.getEditorSelection=function(){return this.selection},n.prototype.isDelta=function(r){return r&&r.ops},n.prototype.isEqualValue=function(r,i){return this.isDelta(r)&&this.isDelta(i)?Ci.default(r.ops,i.ops):Ci.default(r,i)},n.prototype.setEditorContents=function(r,i){var o=this;this.value=i;var a=this.getEditorSelection();typeof i=="string"?r.setContents(r.clipboard.convert(i)):r.setContents(i),mh(function(){return o.setEditorSelection(r,a)})},n.prototype.setEditorSelection=function(r,i){if(this.selection=i,i){var o=r.getLength();i.index=Math.max(0,Math.min(i.index,o-1)),i.length=Math.max(0,Math.min(i.length,o-1-i.index)),r.setSelection(i)}},n.prototype.setEditorTabIndex=function(r,i){var o,a;!((a=(o=r)===null||o===void 0?void 0:o.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=i)},n.prototype.setEditorReadOnly=function(r,i){i?r.disable():r.enable()},n.prototype.makeUnprivilegedEditor=function(r){var i=r;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},n.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=uN.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},n.prototype.renderEditingArea=function(){var r=this,i=this.props,o=i.children,a=i.preserveWhitespace,l=this.state.generation,s={key:l,ref:function(u){r.editingArea=u}};return en.default.Children.count(o)?en.default.cloneElement(en.default.Children.only(o),s):a?en.default.createElement("pre",ll({},s)):en.default.createElement("div",ll({},s))},n.prototype.render=function(){var r;return en.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},n.prototype.onEditorChangeText=function(r,i,o,a){var l,s;if(this.editor){var u=this.isDelta(this.value)?a.getContents():a.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=u,(s=(l=this.props).onChange)===null||s===void 0||s.call(l,r,i,o,a))}},n.prototype.onEditorChangeSelection=function(r,i,o){var a,l,s,u,f,p;if(this.editor){var c=this.getEditorSelection(),d=!c&&r,m=c&&!r;Ci.default(r,c)||(this.selection=r,(l=(a=this.props).onChangeSelection)===null||l===void 0||l.call(a,r,i,o),d?(u=(s=this.props).onFocus)===null||u===void 0||u.call(s,r,i,o):m&&((p=(f=this.props).onBlur)===null||p===void 0||p.call(f,c,i,o)))}},n.prototype.focus=function(){this.editor&&this.editor.focus()},n.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},n.displayName="React Quill",n.Quill=gh.default,n.defaultProps={theme:"snow",modules:{},readOnly:!1},n}(en.default.Component);function mh(e){Promise.resolve().then(e)}var fN=cN;const dN=sc(fN),hN=({items:e,onSelect:n,query:r,activeIndex:i,setActiveIndex:o})=>{const a=G.useRef(null);return G.useEffect(()=>{var l,s;(s=(l=a.current)==null?void 0:l.children[i])==null||s.scrollIntoView({block:"nearest"})},[i]),h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-lg shadow-lg w-96",children:[h.jsxs("div",{className:"p-2 border-b border-outline-dark text-sm text-text-secondary",children:["Linking to: ",h.jsxs("span",{className:"text-text-primary font-mono bg-background/50 px-1 rounded",children:["/",r]})]}),h.jsx("ul",{ref:a,className:"max-h-60 overflow-y-auto custom-scrollbar p-1",children:e.length>0?e.map((l,s)=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>n(l),onMouseEnter:()=>o(s),className:`w-full text-left flex items-center gap-2 p-2 rounded-md transition-colors ${i===s?"bg-accent/20":"hover:bg-neutral"}`,children:[l.type==="note"&&h.jsx(tt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),l.type==="project"&&h.jsx(gt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),l.type==="area"&&h.jsx(mt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),h.jsx("span",{className:"truncate",children:l.title})]})},l.id)):h.jsx("li",{className:"p-2 text-center text-sm text-text-tertiary",children:"No matching items found"})})]})},pN=({isOpen:e,onClose:n,onSave:r,onDraftFromNote:i,onSaveNewItem:o,note:a,projects:l,areas:s,allNotes:u,allTasks:f,onSelectTask:p})=>{const[c,d]=G.useState(a.title),[m,b]=G.useState(a.content),[w,_]=G.useState(a.tags||[]),[g,v]=G.useState(!1),[x,y]=G.useState(null),[k,N]=G.useState(""),[j,E]=G.useState(0),[C,S]=G.useState(null),T=G.useRef(null),O=G.useRef(null);G.useEffect(()=>{d(a.title),b(a.content),_(a.tags||[])},[a]);const P=G.useMemo(()=>[...u.filter(R=>R.id!==a.id).map(R=>({id:R.id,title:R.title,type:"note"})),...l.map(R=>({id:R.id,title:R.title,type:"project"})),...s.map(R=>({id:R.id,title:R.title,type:"area"}))],[u,l,s,a.id]),A=G.useMemo(()=>P.filter(R=>R.title.toLowerCase().includes(k.toLowerCase())),[P,k]);G.useEffect(()=>{E(0)},[A.length]),G.useEffect(()=>{var $;const R=($=T.current)==null?void 0:$.getEditor();if(!R)return;const W=(V,Y,Q)=>{if(Q==="user"&&V&&V.length>0){const J=R.getText(V.index,V.length);if(J.trim()){const te=R.getBounds(V.index,V.length),de=R.container.getBoundingClientRect();S({top:te.top+de.top-45,left:te.left+de.left+te.width/2,text:J})}}else Q==="user"&&S(null)};R.on("selection-change",W);const B=(V,Y,Q)=>{if(Q==="user"&&x){const J=R.getSelection();if(!J||J.index<x.startPos){y(null);return}const te=R.getText(x.startPos,J.index-x.startPos);te.startsWith("/")?N(te.substring(1)):y(null)}};return R.on("text-change",B),()=>{R.off("selection-change",W),R.off("text-change",B)}},[T,x]),G.useEffect(()=>{if(!x)return;const R=W=>{if(W.key==="ArrowDown")W.preventDefault(),E(B=>(B+1)%(A.length||1));else if(W.key==="ArrowUp")W.preventDefault(),E(B=>(B-1+(A.length||1))%(A.length||1));else if(W.key==="Enter"){W.preventDefault();const B=A[j];B&&z(B)}else W.key==="Escape"&&(W.preventDefault(),y(null))};return document.addEventListener("keydown",R,!0),()=>document.removeEventListener("keydown",R,!0)},[x,j,A]),G.useEffect(()=>{if(!x)return;const R=W=>{O.current&&!O.current.contains(W.target)&&y(null)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[x]);const L=R=>{R.preventDefault(),c&&r(a.id,c,m,w)},U=()=>{var R;if(C&&C.text){const W=a.parentIds.find($=>$.startsWith("proj-"))||null;o({title:C.text,noteIds:[a.id]},W);const B=(R=T.current)==null?void 0:R.getEditor();B&&B.setSelection(B.getSelection().index,0),S(null)}},z=R=>{var B;const W=(B=T.current)==null?void 0:B.getEditor();if(W&&x){const $=k.length+1,V=`&nbsp;<a href="#" data-link-id="${R.id}" class="internal-link">${R.title}</a>&nbsp;`;W.deleteText(x.startPos,$,"user"),W.clipboard.dangerouslyPasteHTML(x.startPos,V,"user"),W.setSelection(W.getSelection().index,0),y(null),N("")}},H=G.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},keyboard:{bindings:{slashLink:{key:"/",handler:R=>{var V;const W=(V=T.current)==null?void 0:V.getEditor();if(!W)return!0;const B=W.getText(R.index-1,1);if(R.index>0&&B.trim().length>0)return!0;const $=W.getBounds(R.index);return y({top:$.bottom+5,left:$.left,startPos:R.index}),N(""),!0}}}}}),[]),D=[...l,...s].filter(R=>a.parentIds.includes(R.id)),M=G.useMemo(()=>{const R=[],W=new RegExp(`data-link-id="${a.id}"`,"g");return u.forEach(B=>{var $;if(B.id!==a.id&&B.content.match(W)){const V=document.createElement("div");V.innerHTML=B.content;const Y=(($=V.textContent)==null?void 0:$.substring(0,100))+"..."||"...";R.push({sourceNoteId:B.id,sourceNoteTitle:B.title,context:Y})}}),R},[u,a.id]),I=G.useMemo(()=>f.filter(R=>(R.noteIds||[]).includes(a.id)&&R.status==="active"),[f,a.id]);if(!e)return null;const F=g?"w-screen h-screen max-w-full max-h-full rounded-none":"w-full max-w-4xl max-h-[90vh] rounded-2xl";return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"note-editor-title",children:h.jsxs("div",{className:`bg-surface/80 backdrop-blur-xl flex flex-col border border-outline shadow-lg transition-all duration-300 ${F}`,onClick:R=>R.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"note-editor-title",className:"text-xl font-bold font-heading",children:"Edit Note"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>v(!g),"aria-label":g?"Contract":"Expand",className:"text-text-secondary hover:text-text-primary",children:g?h.jsx(Hm,{className:"w-5 h-5"}):h.jsx(qm,{className:"w-5 h-5"})}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]})]}),h.jsxs("form",{onSubmit:L,className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"note-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"note-title",type:"text",value:c,onChange:R=>d(R.target.value),placeholder:"Enter note title...",required:!0,className:"w-full bg-transparent border-none px-0 py-2 text-2xl font-bold font-heading text-text-primary focus:outline-none focus:ring-0"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:w,onTagsChange:_})]}),D.length>0&&h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Linked to"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(R=>h.jsxs("span",{className:"flex items-center gap-2 bg-background/50 px-2 py-1 border border-outline rounded-md text-sm",children:[R.id.startsWith("proj-")?h.jsx(gt,{className:"w-4 h-4 text-text-secondary"}):h.jsx(mt,{className:"w-4 h-4 text-text-secondary"}),R.title]},R.id))})]}),h.jsxs("div",{className:"relative",children:[h.jsx(dN,{ref:T,theme:"snow",value:m,onChange:b,modules:H,placeholder:"Distill your thoughts... Type '/' to link to other items."}),x&&h.jsx("div",{ref:O,className:"absolute z-20",style:{top:x.top,left:x.left},onMouseDown:R=>R.preventDefault(),children:h.jsx(hN,{items:A,onSelect:z,query:k,activeIndex:j,setActiveIndex:E})})]}),(M.length>0||I.length>0)&&h.jsxs("div",{className:"mt-8",children:[h.jsx("h3",{className:"text-lg font-semibold font-heading mb-3 border-b border-outline-dark pb-2",children:"Connections"}),M.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"font-semibold text-accent text-sm mb-2",children:"Linked References"}),h.jsx("ul",{className:"space-y-3",children:M.map(R=>h.jsxs("li",{className:"bg-background/30 border border-outline rounded-lg p-3",children:[h.jsx("p",{className:"font-semibold text-accent text-sm mb-1",children:R.sourceNoteTitle}),h.jsxs("p",{className:"text-sm text-text-secondary italic",children:['"',R.context,'"']})]},R.sourceNoteId))})]}),I.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold text-accent text-sm mb-2 flex items-center gap-2",children:[h.jsx(Zt,{className:"w-4 h-4"}),"Linked Tasks"]}),h.jsx("ul",{className:"space-y-2",children:I.map(R=>{var W;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>p(R.id),className:"w-full text-left p-3 bg-background/30 border border-outline rounded-lg hover:bg-neutral transition-colors",children:[h.jsx("p",{className:"font-semibold text-text-primary text-sm",children:R.title}),R.projectId&&h.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:["Project: ",(W=l.find(B=>B.id===R.projectId))==null?void 0:W.title]})]})},R.id)})})]})]})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("button",{type:"button",onClick:()=>i(a.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",title:"Create a new draft based on this note",children:[h.jsx(ix,{className:"w-4 h-4"}),h.jsx("span",{children:"Draft from Note"})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save Changes"})]})]})})]})]})}),C&&h.jsx("div",{style:{position:"fixed",top:C.top,left:C.left,transform:"translateX(-50%)",zIndex:60},className:"bg-background border border-outline rounded-lg shadow-lg p-1 flex items-center",children:h.jsxs("button",{onClick:U,onMouseDown:R=>R.preventDefault(),className:"flex items-center gap-2 px-2 py-1 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-md",children:[h.jsx(Zt,{className:"w-4 h-4"}),"Create Task"]})})]})},gN=he.memo(pN),mN=({isOpen:e,onClose:n,onSave:r,onArchive:i,onDelete:o,resource:a,allTasks:l,onSelectTask:s})=>{const[u,f]=G.useState(!1),[p,c]=G.useState(a.title),[d,m]=G.useState(a.url||""),[b,w]=G.useState(a.content||""),[_,g]=G.useState(a.tags||[]),v=()=>{c(a.title),m(a.url||""),w(a.content||""),g(a.tags||[]),f(!1)};G.useEffect(()=>{e&&v()},[a,e]);const x=G.useMemo(()=>l.filter(S=>(S.resourceIds||[]).includes(a.id)&&S.status==="active"),[l,a.id]),y=()=>{if(!p.trim()){alert("Title is required.");return}if(!d.trim()&&!b.trim()){alert("A resource must have either a URL or content.");return}const S={};p!==a.title&&(S.title=p),d!==(a.url||"")&&(S.url=d),b!==(a.content||"")&&(S.content=b),JSON.stringify(_)!==JSON.stringify(a.tags||[])&&(S.tags=_),Object.keys(S).length>0&&r(a.id,S),f(!1)},k=()=>{i(a.id),n()},N=()=>{o(a.id)},j=()=>{v()};if(!e)return null;const E=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[a.url&&h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(nr,{className:"w-4 h-4"})," URL"]}),h.jsx("a",{href:a.url.startsWith("http")?a.url:`https://${a.url}`,target:"_blank",rel:"noopener noreferrer",className:"block p-3 bg-background/50 border border-outline rounded-lg text-accent hover:underline truncate",children:a.url})]}),a.content&&h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4"})," Content / Notes"]}),h.jsx("div",{className:"prose prose-invert max-w-none text-text-primary text-sm p-3 bg-background/50 border border-outline rounded-lg whitespace-pre-wrap",children:a.content})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:_,onTagsChange:()=>{}})]}),x.length>0&&h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(Zt,{className:"w-4 h-4"})," Linked Tasks"]}),h.jsx("ul",{className:"space-y-2 bg-background/50 border border-outline rounded-lg p-2",children:x.map(S=>h.jsx("li",{children:h.jsx("button",{onClick:()=>s(S.id),className:"w-full text-left p-2 hover:bg-neutral rounded-md",children:h.jsx("p",{className:"text-sm font-medium",children:S.title})})},S.id))})]})]}),h.jsxs("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0 flex justify-between items-center",children:[h.jsx("div",{className:"flex gap-2",children:h.jsxs("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover rounded-lg",children:[h.jsx(zm,{className:"w-4 h-4"})," Edit"]})}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover rounded-lg",children:[h.jsx(Fm,{className:"w-4 h-4"})," Archive"]}),h.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-destructive/20 hover:bg-destructive/30 text-destructive rounded-lg",children:[h.jsx(Lo,{className:"w-4 h-4"})," Delete"]})]})]})]}),C=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"resource-url",className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(nr,{className:"w-4 h-4"})," URL (Optional)"]}),h.jsx("input",{id:"resource-url",type:"text",value:d,onChange:S=>m(S.target.value),placeholder:"Enter URL...",className:"w-full bg-background/50 border border-outline px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent rounded-lg"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"resource-content",className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4"})," Content / Notes"]}),h.jsx("textarea",{id:"resource-content",value:b,onChange:S=>w(S.target.value),rows:5,placeholder:"Enter text content or notes...",className:"w-full bg-background/50 border border-outline px-3 py-2 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:_,onTagsChange:g})]})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0 flex justify-end items-center",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save Changes"})]})})]});return h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"resource-detail-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:S=>S.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("input",{id:"resource-detail-title",type:"text",value:p,onChange:S=>c(S.target.value),placeholder:"Enter resource title...",required:!0,className:"w-full bg-transparent border-none text-xl font-bold font-heading text-text-primary focus:outline-none focus:ring-0 disabled:pointer-events-none",disabled:!u}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),u?C():E()]})})},vN=he.memo(mN),yN=({children:e})=>h.jsx("p",{className:"text-text-tertiary text-sm text-center py-4 italic",children:e}),pr=he.memo(yN),xN={High:{text:"text-priority-high",border:"border-l-priority-high"},Medium:{text:"text-priority-medium",border:"border-l-priority-medium"},Low:{text:"text-priority-low",border:"border-l-priority-low"}},bN=({task:e,onSelectTask:n,subtaskCount:r})=>{var l;const i=s=>{s.dataTransfer.setData("taskId",e.id),s.dataTransfer.effectAllowed="move"},o=G.useMemo(()=>{var s,u;return(((s=e.noteIds)==null?void 0:s.length)||0)>0||(((u=e.resourceIds)==null?void 0:u.length)||0)>0},[e.noteIds,e.resourceIds]),a=e.priority?(l=xN[e.priority])==null?void 0:l.border:"border-l-transparent";return h.jsxs("div",{draggable:!0,onDragStart:i,onClick:()=>n(e.id),className:`bg-background/50 border border-outline border-l-4 ${a} rounded-lg p-3 shadow-sm cursor-pointer active:cursor-grabbing transition-all hover:shadow-md hover:-translate-y-0.5`,children:[h.jsx("p",{className:"font-semibold text-sm mb-2 text-text-primary",children:e.title}),h.jsx(ct,{tags:e.tags}),h.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-text-tertiary",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[e.description&&h.jsx(tt,{className:"w-3.5 h-3.5",title:"Has description"}),r>0&&h.jsx($o,{className:"w-3.5 h-3.5",title:`${r} subtasks`}),o&&h.jsx(nr,{className:"w-3.5 h-3.5",title:"Has linked items"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[e.dueDate?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Or,{className:"w-3.5 h-3.5"}),h.jsx("span",{children:new Date(e.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}):h.jsx("div",{}),e.priority&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Rl,{className:"w-3.5 h-3.5"}),h.jsx("span",{children:e.priority})]})]})]})]})},_N=he.memo(bN),wN=({stage:e,tasks:n,allTasks:r,onUpdateTaskStage:i,onUpdateMultipleTaskStages:o,onSelectTask:a})=>{const[l,s]=G.useState(!1),u=c=>{c.preventDefault(),c.dataTransfer.dropEffect="move",s(!0)},f=()=>{s(!1)},p=c=>{var b;c.preventDefault();const d=c.dataTransfer.getData("taskId"),m=r.find(w=>w.id===d);if(!m||m.stage===e){s(!1);return}if(e==="Done"&&(((b=m.subtaskIds)==null?void 0:b.length)||0)>0){const w=(m.subtaskIds||[]).map(_=>r.find(g=>g.id===_)).filter(_=>!!_&&_.stage!=="Done");if(w.length>0)if(window.confirm(`This task has ${w.length} incomplete subtask(s). Do you want to mark them as complete as well?`)){const g=[d,...w.map(v=>v.id)];o(g,"Done")}else i(d,e);else i(d,e)}else i(d,e);s(!1)};return h.jsxs("div",{onDragOver:u,onDragLeave:f,onDrop:p,className:`flex-1 flex flex-col bg-background/50 border border-outline rounded-xl min-w-[300px] h-[400px] transition-colors ${l?"bg-accent/10":""}`,children:[h.jsxs("header",{className:"p-4 border-b border-outline-dark flex items-center gap-2 flex-shrink-0",children:[h.jsx("h3",{className:"font-bold font-heading text-text-primary",children:e}),h.jsx("span",{className:"text-sm font-mono bg-surface px-2 py-0.5 rounded-full text-text-secondary",children:n.length})]}),h.jsx("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto custom-scrollbar",children:n.map(c=>{var d;return h.jsx(_N,{task:c,onSelectTask:a,subtaskCount:((d=c.subtaskIds)==null?void 0:d.length)||0},c.id)})})]})},kN=he.memo(wN),Cs=["To Do","In Progress","Done"],jN=({tasks:e,allTasks:n,onUpdateTaskStage:r,onUpdateMultipleTaskStages:i,onSelectTask:o})=>{const a=Cs.reduce((s,u)=>(s[u]=e.filter(f=>f.stage===u),s),{}),l=e.filter(s=>!Cs.includes(s.stage));return l.length>0&&(a["To Do"]=[...a["To Do"],...l]),h.jsx("div",{className:"flex gap-6 overflow-x-auto custom-scrollbar pb-4 -mx-4 px-4",children:Cs.map(s=>h.jsx(kN,{stage:s,tasks:a[s],allTasks:n,onUpdateTaskStage:r,onUpdateMultipleTaskStages:i,onSelectTask:o},s))})},NN=he.memo(jN),Wl=({items:e,onReorder:n,onReparent:r,onPromote:i,isReorderAllowed:o=()=>!0,isReparentAllowed:a=()=>!0,isPromotable:l=()=>!1})=>{const[s,u]=G.useState(null),[f,p]=G.useState(null),c=G.useMemo(()=>new Map(e.map(v=>[v.id,v])),[e]),d=G.useCallback((v,x)=>{v.dataTransfer.setData("text/plain",x),v.dataTransfer.effectAllowed="move",u(x)},[]),m=G.useCallback(()=>{u(null),p(null)},[]),b=G.useCallback((v,x)=>{if(!s||s===x)return;const y=c.get(s),k=c.get(x);if(!(!y||!k)){if(v.preventDefault(),r&&a(y,k)){const N=v.currentTarget.getBoundingClientRect(),j=N.height*.25;if(v.clientY>N.top+j&&v.clientY<N.bottom-j){p({type:"REPARENT",targetId:x});return}}o(y,k)?p({type:"REORDER",targetId:x}):p(null)}},[s,r,c,o,a]),w=G.useCallback(v=>{v.preventDefault(),v.stopPropagation(),s&&f&&(f.type==="REORDER"?n(s,f.targetId):f.type==="REPARENT"&&r&&r(s,f.targetId)),m()},[s,f,n,r,m]),_=G.useCallback(v=>({draggable:!0,onDragStart:x=>d(x,v),onDragEnd:m,onDragOver:x=>b(x,v),onDrop:w}),[d,m,b,w]),g=G.useCallback(()=>({onDragOver:v=>{if(!s||!i)return;const x=c.get(s);x&&l(x)&&(v.preventDefault(),v.dataTransfer.dropEffect="move",p({type:"PROMOTE_TO_ROOT"}))},onDrop:v=>{v.preventDefault(),v.stopPropagation(),s&&i&&(f==null?void 0:f.type)==="PROMOTE_TO_ROOT"&&i(s),m()},onDragLeave:v=>{v.currentTarget.contains(v.relatedTarget)||p(null)}}),[s,i,l,c,f,m]);return{draggedId:s,dropAction:f,getDragAndDropProps:_,getContainerProps:g}},Oe=new Date,cv=new Date(Oe.getTime()-7*24*60*60*1e3),EN=[{id:"area-1",title:"Personal Growth",description:"Focusing on self-improvement, learning, and well-being.",projectIds:["proj-1","proj-2"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",lastReviewed:cv.toISOString(),tags:["self-improvement","learning","well-being"],icon:"brain",color:"#FF9F0A"}],SN=[{id:"proj-1",title:"Learn Advanced TypeScript",description:"Complete a course and build a project to master advanced TS features.",areaId:"area-1",taskIds:["task-1","task-2","task-5"],noteIds:["note-1"],resourceIds:["res-1"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",lastReviewed:cv.toISOString(),tags:["coding","typescript","learning-sprint"]},{id:"proj-2",title:"Fitness Journey",description:"Improve overall health through consistent exercise and diet.",areaId:"area-1",taskIds:["task-3"],noteIds:[],resourceIds:[],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["health","exercise"]}],TN=[{id:"task-1",title:"Finish Generics chapter",projectId:"proj-1",stage:"To Do",priority:"High",description:"Read and take notes on the Generics chapter in the Advanced TypeScript book. Focus on conditional types and mapped types.",subtaskIds:["task-5"],parentId:null,noteIds:["note-1"],resourceIds:[],dueDate:new Date(Oe.getTime()+3*24*60*60*1e3).toISOString(),createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["reading","deep-work"]},{id:"task-2",title:"Refactor project with mapped types",projectId:"proj-1",stage:"To Do",priority:"Medium",description:"",subtaskIds:[],parentId:null,noteIds:[],resourceIds:[],dueDate:new Date(Oe.getTime()+7*24*60*60*1e3).toISOString(),createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["coding","refactoring"]},{id:"task-3",title:"Go for a 3-mile run",projectId:"proj-2",stage:"Done",priority:"Low",description:"",subtaskIds:[],parentId:null,noteIds:[],resourceIds:[],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",completedAt:Oe.toISOString(),tags:["cardio"]},{id:"task-4",title:"Review PKM book draft",projectId:null,stage:"To Do",priority:"Medium",description:"First pass for structure and flow.",subtaskIds:[],parentId:null,noteIds:[],resourceIds:[],createdAt:new Date(Oe.getTime()-1*24*60*60*1e3).toISOString(),updatedAt:new Date(Oe.getTime()-1*24*60*60*1e3).toISOString(),status:"active",isMyDay:!0,tags:["writing","review"]},{id:"task-5",title:"Take notes on conditional types",projectId:"proj-1",stage:"To Do",priority:"High",description:"",subtaskIds:[],parentId:"task-1",noteIds:[],resourceIds:[],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["reading"]}],ON=[{id:"note-1",title:"Key Takeaways on Utility Types",content:"<p><code>Partial</code>, <code>Pick</code>, and <code>Omit</code> are powerful for creating new types from existing ones. Remember to use them to keep code DRY.</p>",parentIds:["proj-1"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["typescript","key-concepts"]}],AN=[{id:"res-1",title:"Official TypeScript Docs",url:"https://www.typescriptlang.org/docs/",content:"The official documentation is the best place to start. Check the Utility Types section.",parentIds:["proj-1"],createdAt:Oe.toISOString(),updatedAt:Oe.toISOString(),status:"active",tags:["documentation","official-source"]}],CN={areas:EN,projects:SN,tasks:TN,notes:ON,resources:AN},Dn=(e,n)=>({id:`${e}-${Date.now()}`,...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"active",tags:n.tags||[]}),IN=(e,n)=>{switch(n.type){case"REPLACE_STATE":return n.payload;case"ADD_ITEM":{const{itemData:r,itemType:i,parentId:o}=n.payload;switch(i){case"note":{const a=Dn("note",{...r,parentIds:o?[o]:[]}),l=o!=null&&o.startsWith("proj-")?e.projects.map(s=>s.id===o?{...s,noteIds:[...s.noteIds,a.id]}:s):e.projects;return{...e,notes:[...e.notes,a],projects:l}}case"task":{const a=Dn("task",{...r,projectId:o,stage:"To Do",description:r.description||"",subtaskIds:[],parentId:null,noteIds:r.noteIds||[],resourceIds:r.resourceIds||[]}),l=o!=null&&o.startsWith("proj-")?e.projects.map(s=>s.id===o?{...s,taskIds:[a.id,...s.taskIds]}:s):e.projects;return{...e,tasks:[a,...e.tasks],projects:l}}case"resource":{const a=Dn("res",{...r,parentIds:o?[o]:[]}),l=o!=null&&o.startsWith("proj-")?e.projects.map(s=>s.id===o?{...s,resourceIds:[...s.resourceIds,a.id]}:s):e.projects;return{...e,resources:[...e.resources,a],projects:l}}case"project":{const a=Dn("proj",{...r,areaId:o,taskIds:[],noteIds:[],resourceIds:[]}),l=o!=null&&o.startsWith("area-")?e.areas.map(s=>s.id===o?{...s,projectIds:[...s.projectIds,a.id]}:s):e.areas;return{...e,projects:[...e.projects,a],areas:l}}case"area":{const a=Dn("area",{...r,projectIds:[],icon:"area",color:"#94A3B8"});return{...e,areas:[...e.areas,a]}}default:return e}}case"ADD_SUBTASK":{const{parentTaskId:r,subtaskData:i}=n.payload,o=e.tasks.find(u=>u.id===r);if(!o)return e;const a=Dn("task",{...i,projectId:o.projectId,stage:"To Do",description:i.description||"",subtaskIds:[],parentId:r,noteIds:[],resourceIds:[]}),l=e.tasks.map(u=>u.id===r?{...u,subtaskIds:[...u.subtaskIds,a.id]}:u).concat(a),s=o.projectId?e.projects.map(u=>u.id===o.projectId?{...u,taskIds:[...u.taskIds,a.id]}:u):e.projects;return{...e,tasks:l,projects:s}}case"ADD_INBOX_ITEM":{const{content:r,type:i}=n.payload;let o=r.length>50?r.substring(0,50)+"...":r;if(i==="note"){const a=Dn("note",{title:o,content:r,parentIds:[]});return{...e,notes:[...e.notes,a]}}else if(i==="resource"){const a={};if(jx(r)){try{let u=new URL(r.startsWith("http")?r:`https://${r}`).hostname.replace("www.","");const f=u.lastIndexOf(".");f>0&&(u=u.substring(0,f)),o=u.replace(/-/g," ").replace(/\b\w/g,p=>p.toUpperCase())}catch{o="Link Resource"}a.url=r}else o="Text Snippet",a.content=r;const l=Dn("res",{title:o,...a,parentIds:[]});return{...e,resources:[...e.resources,l]}}return e}case"TOGGLE_TASK":{const{taskId:r}=n.payload;return{...e,tasks:e.tasks.map(i=>i.id===r?{...i,stage:i.stage==="Done"?"To Do":"Done",updatedAt:new Date().toISOString(),completedAt:i.stage!=="Done"?new Date().toISOString():void 0}:i)}}case"REORDER_LIST":{const{listKey:r,sourceId:i,targetId:o}=n.payload,a=e[r],l=a.findIndex(p=>p.id===i),s=a.findIndex(p=>p.id===o);if(l===-1||s===-1)return e;const u=[...a],[f]=u.splice(l,1);return u.splice(s,0,f),{...e,[r]:u}}case"REORDER_CHILD_LIST":{const{parentListKey:r,parentId:i,childIdListKey:o,sourceId:a,targetId:l}=n.payload,s=e[r].map(u=>{if(u.id===i){const f=[...u[o]||[]],p=f.indexOf(a),c=f.indexOf(l);if(p===-1||c===-1)return u;const[d]=f.splice(p,1);return f.splice(c,0,d),{...u,[o]:f}}return u});return{...e,[r]:s}}case"REPARENT_TASK":{const{taskId:r,newParentId:i}=n.payload,o=e.tasks.find(f=>f.id===r),a=e.tasks.find(f=>f.id===i);if(!o||!a)return e;const l=o.parentId;let s=[...e.tasks];l&&(s=s.map(f=>f.id===l?{...f,subtaskIds:f.subtaskIds.filter(p=>p!==r)}:f)),s=s.map(f=>f.id===i?{...f,subtaskIds:[...f.subtaskIds,r]}:f),s=s.map(f=>f.id===r?{...f,parentId:i,projectId:a.projectId,updatedAt:new Date().toISOString()}:f);const u=e.projects.map(f=>f.taskIds.includes(r)?{...f,taskIds:f.taskIds.filter(p=>p!==r)}:f);return{...e,tasks:s,projects:u}}case"PROMOTE_SUBTASK":{const{taskId:r}=n.payload,i=e.tasks.find(u=>u.id===r);if(!i||!i.parentId||!i.projectId)return e;const{parentId:o,projectId:a}=i,l=e.tasks.map(u=>u.id===o?{...u,subtaskIds:u.subtaskIds.filter(f=>f!==r)}:u.id===r?{...u,parentId:null,updatedAt:new Date().toISOString()}:u),s=e.projects.map(u=>u.id===a?u.taskIds.includes(r)?u:{...u,taskIds:[r,...u.taskIds]}:u);return{...e,tasks:l,projects:s}}case"UPDATE_TASK":{const{taskId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,tasks:e.tasks.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"UPDATE_TASK_STAGE":{const{taskId:r,newStage:i}=n.payload,o=new Date().toISOString();return{...e,tasks:e.tasks.map(a=>a.id===r?{...a,stage:i,updatedAt:o,completedAt:i==="Done"?o:void 0}:a)}}case"UPDATE_MULTIPLE_TASK_STAGES":{const{taskIds:r,newStage:i}=n.payload,o=new Date().toISOString(),a=new Set(r);return{...e,tasks:e.tasks.map(l=>a.has(l.id)?{...l,stage:i,updatedAt:o,completedAt:i==="Done"?o:void 0}:l)}}case"UPDATE_ITEM_STATUS":{const{itemId:r,status:i}=n.payload,o=new Date().toISOString(),a=s=>s.id===r?{...s,status:i,updatedAt:o}:s;switch(Hn(r)){case"area":return{...e,areas:e.areas.map(a)};case"project":return{...e,projects:e.projects.map(a)};case"task":return{...e,tasks:e.tasks.map(a)};case"note":return{...e,notes:e.notes.map(a)};case"resource":return{...e,resources:e.resources.map(a)};default:return e}}case"DELETE_ITEM":{const{itemId:r}=n.payload;switch(Hn(r)){case"area":return{...e,areas:e.areas.filter(o=>o.id!==r)};case"project":return{...e,projects:e.projects.filter(o=>o.id!==r)};case"task":return{...e,tasks:e.tasks.filter(o=>o.id!==r)};case"note":return{...e,notes:e.notes.filter(o=>o.id!==r)};case"resource":return{...e,resources:e.resources.filter(o=>o.id!==r)};default:return e}}case"UPDATE_NOTE":{const{noteId:r,title:i,content:o,tags:a}=n.payload,l=new Date().toISOString();return{...e,notes:e.notes.map(s=>s.id===r?{...s,title:i,content:o,tags:a,updatedAt:l}:s)}}case"DRAFT_FROM_NOTE":{const{sourceNoteId:r,newNoteId:i}=n.payload,o=e.notes.find(u=>u.id===r);if(!o)return e;const a=`<a href="#" data-link-id="${o.id}" class="internal-link">${o.title}</a>`,l=`<blockquote>${o.content}</blockquote><p><br></p><p><em>Inspired by: ${a}</em></p>`,s={id:i,title:`Draft: ${o.title}`,content:l,parentIds:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"active",tags:o.tags?[...o.tags]:[]};return{...e,notes:[...e.notes,s]}}case"UPDATE_RESOURCE":{const{resourceId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,resources:e.resources.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"UPDATE_PROJECT":{const{projectId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,projects:e.projects.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"UPDATE_AREA":{const{areaId:r,updates:i}=n.payload,o=new Date().toISOString();return{...e,areas:e.areas.map(a=>a.id===r?{...a,...i,updatedAt:o}:a)}}case"ORGANIZE_ITEM":{const{itemId:r,newParentIds:i}=n.payload,o=new Date().toISOString(),a=Hn(r);if(a==="task"){const f=i[0]||null,p=e.tasks.map(d=>d.id===r?{...d,projectId:f,isMyDay:!1,updatedAt:o}:d);let c=e.projects.map(d=>({...d,taskIds:d.taskIds.filter(m=>m!==r)}));return f&&(c=c.map(d=>d.id===f?{...d,taskIds:[r,...d.taskIds]}:d)),{...e,tasks:p,projects:c}}let l=e.notes,s=e.resources,u=[...e.projects];return u=u.map(f=>{const p=f.noteIds.indexOf(r);p>-1&&f.noteIds.splice(p,1);const c=f.resourceIds.indexOf(r);return c>-1&&f.resourceIds.splice(c,1),f}),a==="note"?l=e.notes.map(f=>f.id===r?{...f,parentIds:i,updatedAt:o}:f):a==="resource"&&(s=e.resources.map(f=>f.id===r?{...f,parentIds:i,updatedAt:o}:f)),i.forEach(f=>{f.startsWith("proj-")&&(u=u.map(p=>{if(p.id===f){const c=a==="note"?"noteIds":"resourceIds",d=p[c];if(Array.isArray(d)&&!d.includes(r))return{...p,[c]:[...d,r]}}return p}))}),{...e,notes:l,resources:s,projects:u}}case"MARK_REVIEWED":{const{itemIds:r,type:i}=n.payload,o=new Date().toISOString();return i==="project"?{...e,projects:e.projects.map(a=>r.includes(a.id)?{...a,lastReviewed:o,updatedAt:o}:a)}:{...e,areas:e.areas.map(a=>r.includes(a.id)?{...a,lastReviewed:o,updatedAt:o}:a)}}case"UPDATE_ITEM_TAGS":{const{itemId:r,tags:i}=n.payload,o=new Date().toISOString(),a=s=>s.id===r?{...s,tags:i,updatedAt:o}:s;switch(Hn(r)){case"area":return{...e,areas:e.areas.map(a)};case"project":return{...e,projects:e.projects.map(a)};case"task":return{...e,tasks:e.tasks.map(a)};case"note":return{...e,notes:e.notes.map(a)};case"resource":return{...e,resources:e.resources.map(a)};default:return e}}default:return e}},fv=G.createContext(void 0),PN=({children:e})=>{const[n,r]=G.useReducer(IN,CN,i=>{try{const o=window.localStorage.getItem("sb-data");return o!==null?JSON.parse(o):i}catch(o){return console.error("Error reading localStorage key sb-data:",o),i}});return G.useEffect(()=>{window.localStorage.setItem("sb-data",JSON.stringify(n))},[n]),h.jsx(fv.Provider,{value:{state:n,dispatch:r},children:e})},xi=()=>{const e=G.useContext(fv);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e},DN=({project:e,allTasks:n,tasks:r,notes:i,resources:o,onToggleTask:a,onArchive:l,onDelete:s,onSelectNote:u,onSelectTask:f,onUpdateProject:p,onOpenCaptureModal:c,onSaveNewItem:d,onAddSubtask:m,onReparentTask:b,onUpdateTask:w,onUpdateTaskStage:_,onUpdateMultipleTaskStages:g})=>{const[v,x]=G.useState(!1),[y,k]=G.useState(""),[N,j]=G.useState(null),[E,C]=G.useState(""),[S,T]=G.useState(e.tags||[]),[O,P]=G.useState("list"),[A,L]=G.useState(new Set),[U,z]=G.useState("active"),[H,D]=G.useState(!1),{dispatch:M}=xi(),I=G.useRef(null),F=jo(e.title,()=>{}),R=jo(e.description,()=>{});G.useEffect(()=>{T(e.tags||[]),j(null),x(!1)},[e]);const W=F.isEditing||R.isEditing,{activeTasks:B,doneTasks:$}=G.useMemo(()=>{const q=r.filter(pe=>pe.stage!=="Done"),ae=r.filter(pe=>pe.stage==="Done").sort((pe,$e)=>new Date($e.completedAt||0).getTime()-new Date(pe.completedAt||0).getTime());return{activeTasks:q,doneTasks:ae}},[r]),V=G.useMemo(()=>new Map(n.map(q=>[q.id,q])),[n]),Y=G.useMemo(()=>{const q=new Map(n.filter(fe=>fe.projectId===e.id&&fe.status==="active"&&fe.stage!=="Done").map(fe=>[fe.id,fe])),ae=e.taskIds.map(fe=>q.get(fe)).filter(fe=>!!fe),pe=new Set(ae.map(fe=>fe.id));q.forEach(fe=>{!pe.has(fe.id)&&(!fe.parentId||!q.has(fe.parentId))&&(ae.push(fe),pe.add(fe.id))});const $e=[],xe=new Set,In=(fe,Ft)=>{xe.has(fe.id)||(xe.add(fe.id),$e.push({task:fe,level:Ft}),fe.subtaskIds&&fe.subtaskIds.length>0&&fe.subtaskIds.map(_i=>q.get(_i)).filter(_i=>!!_i).forEach(_i=>In(_i,Ft+1)))};return ae.forEach(fe=>In(fe,0)),$e},[e,n]),Q=(q,ae)=>{if(q.id===ae.id)return!1;const pe=($e,xe)=>{const In=V.get(xe);if(!In)return!1;if((In.subtaskIds||[]).includes($e))return!0;for(const fe of In.subtaskIds||[])if(pe($e,fe))return!0;return!1};return!pe(ae.id,q.id)},{draggedId:J,dropAction:te,getDragAndDropProps:ce,getContainerProps:de}=Wl({items:n,onReorder:(q,ae)=>{const pe=V.get(q);pe&&(pe.parentId?M({type:"REORDER_CHILD_LIST",payload:{parentListKey:"tasks",parentId:pe.parentId,childIdListKey:"subtaskIds",sourceId:q,targetId:ae}}):M({type:"REORDER_CHILD_LIST",payload:{parentListKey:"projects",parentId:e.id,childIdListKey:"taskIds",sourceId:q,targetId:ae}}))},onReparent:(q,ae)=>b(q,ae),isReorderAllowed:(q,ae)=>q.parentId===ae.parentId,isReparentAllowed:Q,isPromotable:q=>!!q.parentId,onPromote:q=>{M({type:"PROMOTE_SUBTASK",payload:{taskId:q}})}}),ge=q=>{L(ae=>{const pe=new Set(ae);return pe.has(q)?pe.delete(q):pe.add(q),pe})},ve=q=>{let ae=q;for(;ae.parentId;){if(A.has(ae.parentId))return!1;const pe=V.get(ae.parentId);if(!pe)break;ae=pe}return!0},Be=G.useMemo(()=>Y.filter(({task:q})=>ve(q)),[Y,A,V]),je=()=>{F.handleEdit(),R.handleEdit()},X=()=>{const q={};F.value!==e.title&&(q.title=F.value),R.value!==e.description&&(q.description=R.value),JSON.stringify(S)!==JSON.stringify(e.tags||[])&&(q.tags=S),Object.keys(q).length>0&&p(e.id,q),F.handleSave(),R.handleSave()},ee=()=>{F.handleCancel(),R.handleCancel(),T(e.tags||[])},oe=q=>{var ae;q.preventDefault(),y.trim()&&(d({title:y},"task",e.id),k(""),(ae=I.current)==null||ae.focus())},le=q=>{q.preventDefault(),E.trim()&&N&&(m(N,{title:E.trim()}),C(""),j(null))},ne=q=>{q.currentTarget.contains(q.relatedTarget)||x(!1)},Z=q=>{q.currentTarget.contains(q.relatedTarget)||j(null)};return h.jsxs("div",{children:[h.jsx("header",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-start",children:[W?h.jsxs("div",{className:"flex-1 mr-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"project-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"project-title",type:"text",value:F.value,onChange:q=>F.setValue(q.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-4xl font-bold text-text-primary focus:outline-none focus:ring-1 focus:ring-accent font-heading tracking-tight"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"project-description",className:"sr-only",children:"Description"}),h.jsx("textarea",{id:"project-description",value:R.value,onChange:q=>R.setValue(q.target.value),rows:3,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-secondary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar max-w-prose"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:S,onTagsChange:T})]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("button",{onClick:X,className:"px-3 py-1.5 text-sm bg-accent hover:bg-accent-hover text-accent-content transition-all rounded-lg active:scale-95",children:"Save"}),h.jsx("button",{onClick:ee,className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-lg active:scale-95",children:"Cancel"})]})]}):h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold mb-2 font-heading tracking-tight",children:e.title}),h.jsx("p",{className:"text-text-secondary max-w-prose mb-4",children:e.description}),h.jsx(ct,{tags:e.tags})]}),h.jsx("div",{className:"flex-shrink-0 ml-4",children:h.jsx($l,{isOpen:H,onToggle:()=>D(!H),onEdit:je,onArchive:()=>l(e.id),onDelete:()=>s(e.id)})})]})}),h.jsx("div",{className:"border-b border-outline-dark mb-6",children:h.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[h.jsxs("button",{onClick:()=>z("active"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-semibold text-sm transition-colors ${U==="active"?"border-accent text-accent":"border-transparent text-text-secondary hover:text-text-primary hover:border-text-tertiary"}`,children:["Active ",h.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${U==="active"?"bg-accent/20 text-accent":"bg-surface text-text-secondary"}`,children:B.length})]}),h.jsxs("button",{onClick:()=>z("done"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-semibold text-sm transition-colors ${U==="done"?"border-accent text-accent":"border-transparent text-text-secondary hover:text-text-primary hover:border-text-tertiary"}`,children:["Done ",h.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${U==="done"?"bg-accent/20 text-accent":"bg-surface text-text-secondary"}`,children:$.length})]})]})}),U==="active"?h.jsx("div",{className:"animate-pop-in",children:h.jsxs(It,{icon:h.jsx(Jn,{className:"w-6 h-6"}),title:"Tasks",className:"mb-6",isCollapsible:!0,defaultOpen:!0,onAdd:()=>x(!0),headerPadding:"p-0",bodyPadding:"p-4",children:[h.jsxs("div",{slot:"header-content",className:"flex items-center justify-between p-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-accent",children:h.jsx(Jn,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-bold text-lg font-heading tracking-tight text-text-primary",children:"Tasks"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center bg-background/50 border border-outline-dark rounded-lg p-1",children:[h.jsx("button",{onClick:q=>{q.stopPropagation(),P("list")},title:"List View",className:`p-1.5 rounded-md transition-colors ${O==="list"?"bg-accent text-accent-content":"text-text-secondary hover:bg-neutral"}`,children:h.jsx(Zt,{className:"w-5 h-5"})}),h.jsx("button",{onClick:q=>{q.stopPropagation(),P("board")},title:"Board View",className:`p-1.5 rounded-md transition-colors ${O==="board"?"bg-accent text-accent-content":"text-text-secondary hover:bg-neutral"}`,children:h.jsx(cx,{className:"w-5 h-5"})})]}),h.jsx("button",{onClick:q=>{q.stopPropagation(),x(!0)},className:"p-1.5 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:h.jsx(We,{className:"w-5 h-5"})})]})]}),O==="list"?h.jsxs(h.Fragment,{children:[v&&h.jsxs("form",{onSubmit:oe,onBlur:ne,className:"flex gap-2 mb-4 p-2 bg-background/50 rounded-lg border border-outline-dark animate-pop-in",children:[h.jsx("input",{ref:I,type:"text",value:y,onChange:q=>k(q.target.value),onKeyDown:q=>q.key==="Escape"&&x(!1),placeholder:"What needs to be done?",autoFocus:!0,className:"flex-1 bg-transparent border-none px-2 py-1 text-sm text-text-primary focus:outline-none"}),h.jsx("button",{type:"submit",className:"px-3 py-1 text-xs font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-md active:scale-95",children:"Add Task"})]}),B.length>0?h.jsx("ul",{className:`space-y-1 transition-all duration-200 ${(te==null?void 0:te.type)==="PROMOTE_TO_ROOT"?"bg-accent/20 outline-dashed outline-2 outline-offset-2 outline-accent rounded-lg p-2":""}`,...de(),children:Be.map(({task:q,level:ae},pe)=>{var $e;return h.jsxs(he.Fragment,{children:[h.jsxs("li",{...ce(q.id),className:`relative transition-all duration-200 ${J===q.id?"opacity-30":"opacity-100"} ${pe===0&&!v?"animate-pop-in":""} ${(te==null?void 0:te.type)==="REPARENT"&&te.targetId===q.id?"bg-accent/20 rounded-lg ring-2 ring-inset ring-accent":""}`,children:[(te==null?void 0:te.type)==="REORDER"&&te.targetId===q.id&&h.jsx("div",{className:"absolute -top-4 left-0 right-0 h-8 bg-accent/20 rounded-lg border border-dashed border-accent"}),h.jsx("div",{style:{paddingLeft:`${ae*12}px`},children:h.jsx(rl,{task:q,allTasks:n,notes:i,resources:o,onToggleTask:a,onUpdateTask:w,onSelectTask:f,hasSubtasks:((($e=q.subtaskIds)==null?void 0:$e.length)||0)>0,isCollapsed:A.has(q.id),onToggleCollapse:()=>ge(q.id),onArchive:l,onDelete:s,onAddSubtaskClick:()=>{j(q.id),C("")},showHierarchy:!0})})]}),N===q.id&&h.jsx("li",{style:{paddingLeft:`${(ae+1)*24}px`},className:"py-1 animate-pop-in",children:h.jsx("form",{onSubmit:le,onBlur:Z,className:"flex gap-2",children:h.jsx("input",{type:"text",value:E,onChange:xe=>C(xe.target.value),onKeyDown:xe=>xe.key==="Escape"&&j(null),placeholder:"Add subtask...",autoFocus:!0,className:"flex-1 bg-background/50 border border-outline px-2 py-1 text-sm rounded-md focus:ring-1 focus:ring-accent focus:outline-none"})})})]},q.id)})}):h.jsx(pr,{children:"Every great project starts with a single step. Add your first task."})]}):h.jsx(NN,{tasks:B,allTasks:n,onUpdateTaskStage:_,onSelectTask:f,onUpdateMultipleTaskStages:g})]})}):h.jsx("div",{className:"animate-pop-in",children:h.jsx(It,{icon:h.jsx(Jn,{className:"w-6 h-6 text-accent"}),title:"Completed Tasks",className:"mb-6",children:$.length>0?h.jsx("ul",{className:"space-y-1",children:$.map(q=>h.jsx("li",{children:h.jsx(rl,{task:q,allTasks:n,onToggleTask:a,onUpdateTask:w,onSelectTask:f})},q.id))}):h.jsx(pr,{children:"No completed tasks in this project yet."})})}),h.jsx(It,{icon:h.jsx(tt,{className:"w-6 h-6"}),title:"Notes",onAdd:()=>c({parentId:e.id,itemType:"note"}),isCollapsible:!0,defaultOpen:!0,className:"mb-6",children:i.length>0?h.jsx("ul",{className:"space-y-2",children:i.map(q=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>u(q.id),className:"w-full text-left p-3 hover:bg-neutral rounded-lg transition-colors",children:[h.jsx("p",{className:"font-semibold",children:q.title}),h.jsx("p",{className:"text-sm text-text-secondary truncate mt-1",children:Km(q.content)}),h.jsx(ct,{tags:q.tags,className:"mt-2"})]})},q.id))}):h.jsx(pr,{children:"Jot down ideas, meeting minutes, or inspiration."})}),h.jsx(It,{icon:h.jsx(vt,{className:"w-6 h-6"}),title:"Resources",onAdd:()=>c({parentId:e.id,itemType:"resource"}),isCollapsible:!0,defaultOpen:!0,children:o.length>0?h.jsx("ul",{className:"space-y-1",children:o.map(q=>h.jsx("li",{className:"p-3 hover:bg-neutral rounded-lg transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[q.url?h.jsx(nr,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}):h.jsx(vt,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("a",{href:q.url?q.url.startsWith("http")?q.url:`https://${q.url}`:void 0,target:"_blank",rel:"noopener noreferrer",className:"hover:underline hover:text-accent",children:q.title}),h.jsx(ct,{tags:q.tags,className:"mt-1"})]})]})},q.id))}):h.jsx(pr,{children:"Collect links, files, and snippets related to this project."})})]})},MN=he.memo(DN),RN=({total:e,completed:n,size:r=20,strokeWidth:i=3})=>{if(e===0)return null;const o=(r-i)/2,a=2*Math.PI*o,l=n/e,s=a*(1-l);return h.jsxs("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,className:"-rotate-90",children:[h.jsx("circle",{cx:r/2,cy:r/2,r:o,stroke:"rgba(139, 148, 158, 0.2)",strokeWidth:i,fill:"transparent"}),h.jsx("circle",{cx:r/2,cy:r/2,r:o,stroke:"currentColor",strokeWidth:i,fill:"transparent",strokeDasharray:a,strokeDashoffset:s,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.3s ease-out"}})]})},dv=he.memo(RN),bi=({icon:e,title:n,description:r,actionButton:i})=>h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-text-tertiary text-center p-8 bg-surface/80 backdrop-blur-xl border-2 border-dashed border-outline-dark rounded-2xl",children:[he.cloneElement(e,{className:"w-16 h-16 mb-4"}),h.jsx("h2",{className:"text-xl font-semibold font-heading text-text-primary mb-2",children:n}),h.jsx("p",{className:"max-w-sm mb-4",children:r}),i&&h.jsx("div",{className:"mt-2",children:i})]}),LN=({projects:e,activeProjectId:n,onSelectProject:r,allTasks:i,tasks:o,notes:a,resources:l,onToggleTask:s,onArchive:u,onDelete:f,onSelectNote:p,onSelectTask:c,onUpdateProject:d,onOpenCaptureModal:m,onSaveNewItem:b,onAddSubtask:w,onReparentTask:_,onUpdateTask:g,onUpdateTaskStage:v,onUpdateMultipleTaskStages:x})=>{const{dispatch:y}=xi(),{draggedId:k,dropAction:N,getDragAndDropProps:j,getContainerProps:E}=Wl({items:e,onReorder:(O,P)=>{y({type:"REORDER_LIST",payload:{listKey:"projects",sourceId:O,targetId:P}})}});G.useEffect(()=>{e.length>0&&(!n||!e.some(O=>O.id===n))?r(e[0].id):e.length===0&&r(null)},[e,n,r]);const C=e.find(O=>O.id===n)||null,S=()=>{m({parentId:null,itemType:"project"})},T=O=>{const P=o.filter(L=>O.taskIds.includes(L.id));return{completed:P.filter(L=>L.stage==="Done").length,total:P.length}};return h.jsxs("div",{className:"flex h-full gap-8",children:[h.jsxs("aside",{className:"w-1/3 max-w-sm h-full flex flex-col bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md",children:[h.jsxs("header",{className:"p-4 border-b border-outline-dark flex-shrink-0 flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-bold font-heading tracking-tight",children:"Projects"}),h.jsx("button",{onClick:S,"aria-label":"Add new project",className:"p-1.5 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors active:scale-95",children:h.jsx(We,{className:"w-5 h-5"})})]}),h.jsx("ul",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",...E(),children:e.map(O=>{const{completed:P,total:A}=T(O);return h.jsxs("li",{...j(O.id),className:`relative cursor-grab rounded-xl ${k===O.id?"opacity-30":""}`,children:[(N==null?void 0:N.type)==="REORDER"&&N.targetId===O.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-0.5 bg-accent rounded-full"}),h.jsxs("button",{onClick:()=>r(O.id),className:`w-full text-left p-3 mb-1 transition-all duration-200 rounded-xl ${n===O.id?"bg-accent/10 text-accent":"hover:bg-neutral"}`,children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"font-semibold text-text-primary truncate",children:O.title}),A>0&&h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsxs("span",{className:"text-xs font-mono text-text-tertiary",children:[P,"/",A]}),h.jsx(dv,{completed:P,total:A})]})]}),h.jsx("p",{className:"text-xs text-text-secondary truncate mt-1",children:O.description||"No description"}),h.jsx(ct,{tags:O.tags,className:"mt-2"})]})]},O.id)})})]}),h.jsx("section",{className:"flex-1 overflow-y-auto custom-scrollbar",children:C?h.jsx(MN,{project:C,allTasks:i,tasks:o.filter(O=>O.projectId===C.id),notes:a.filter(O=>C.noteIds.includes(O.id)||O.parentIds.includes(C.id)),resources:l.filter(O=>C.resourceIds.includes(O.id)||O.parentIds.includes(C.id)),onToggleTask:s,onArchive:u,onDelete:f,onSelectNote:p,onSelectTask:c,onUpdateProject:d,onOpenCaptureModal:m,onSaveNewItem:b,onAddSubtask:w,onReparentTask:_,onUpdateTask:g,onUpdateTaskStage:v,onUpdateMultipleTaskStages:x}):h.jsx(bi,{icon:h.jsx(gt,{}),title:"Start Your First Project",description:"A project has a clear goal and a finish line, like 'Plan Vacation' or 'Launch New Website'. What will you accomplish next?",actionButton:h.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(We,{className:"w-5 h-5"}),"Create New Project"]})})})]})},$N=he.memo(LN),zN=(e,n)=>{switch(e){case"briefcase":return h.jsx(lf,{className:n});case"heart":return h.jsx(sf,{className:n});case"book":return h.jsx(uf,{className:n});case"finance":return h.jsx(cf,{className:n});case"social":return h.jsx(ff,{className:n});case"brain":return h.jsx(af,{className:n});default:return h.jsx(mt,{className:n})}},FN=[{name:"default",component:h.jsx(mt,{className:"w-6 h-6"})},{name:"brain",component:h.jsx(af,{className:"w-6 h-6"})},{name:"briefcase",component:h.jsx(lf,{className:"w-6 h-6"})},{name:"heart",component:h.jsx(sf,{className:"w-6 h-6"})},{name:"book",component:h.jsx(uf,{className:"w-6 h-6"})},{name:"finance",component:h.jsx(cf,{className:"w-6 h-6"})},{name:"social",component:h.jsx(ff,{className:"w-6 h-6"})}],UN=["#F43F5E","#F97316","#FBBF24","#4ADE80","#FF9F0A","#3B82F6","#A855F7","#EC4899"],la=({icon:e,value:n,label:r})=>h.jsxs("div",{className:"bg-background/50 p-4 rounded-xl border border-outline flex items-center gap-4",children:[h.jsx("div",{className:"text-accent",children:e}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:n}),h.jsx("p",{className:"text-sm text-text-secondary",children:r})]})]}),BN=({area:e,projects:n,tasks:r,notes:i,resources:o,onArchive:a,onDelete:l,onSelectNote:s,onUpdateArea:u,onOpenCaptureModal:f,onNavigate:p,isFocusMode:c,onToggleFocusMode:d})=>{const m=jo(e.title,D=>u(e.id,{title:D})),b=jo(e.description,D=>u(e.id,{description:D})),[w,_]=G.useState(e.tags||[]),[g,v]=G.useState(e.color),[x,y]=G.useState(e.icon),{dispatch:k}=xi(),[N,j]=G.useState(!1),{draggedId:E,dropAction:C,getDragAndDropProps:S,getContainerProps:T}=Wl({items:n,onReorder:(D,M)=>{k({type:"REORDER_CHILD_LIST",payload:{parentListKey:"areas",parentId:e.id,childIdListKey:"projectIds",sourceId:D,targetId:M}})}});G.useEffect(()=>{_(e.tags||[]),v(e.color),y(e.icon)},[e]);const O=m.isEditing||b.isEditing,P=G.useMemo(()=>{const D=new Set(n.flatMap(M=>M.taskIds));return r.filter(M=>D.has(M.id))},[n,r]),A=G.useMemo(()=>{const D=P.filter(M=>M.stage!=="Done"&&M.dueDate&&new Date(M.dueDate)>new Date);return{projects:n.length,tasks:P.length,notes:i.length,upcoming:D.length}},[n,P,i]),L=()=>{m.handleEdit(),b.handleEdit(),j(!1)},U=()=>{const D={};m.value!==e.title&&(D.title=m.value),b.value!==e.description&&(D.description=b.value),JSON.stringify(w)!==JSON.stringify(e.tags||[])&&(D.tags=w),x!==e.icon&&(D.icon=x),g!==e.color&&(D.color=g),Object.keys(D).length>0&&u(e.id,D),m.handleSave(),b.handleSave()},z=()=>{m.handleCancel(),b.handleCancel(),_(e.tags||[]),v(e.color),y(e.icon)},H=D=>{const M=r.filter(F=>D.taskIds.includes(F.id));return{completed:M.filter(F=>F.stage==="Done").length,total:M.length}};return h.jsxs("div",{children:[h.jsx("header",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-start",children:[O?h.jsxs("div",{className:"flex-1 mr-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"area-title",className:"sr-only",children:"Title"}),h.jsx("input",{id:"area-title",type:"text",value:m.value,onChange:D=>m.setValue(D.target.value),className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-4xl font-bold text-text-primary focus:outline-none focus:ring-1 focus:ring-accent font-heading tracking-tight"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"area-description",className:"sr-only",children:"Description"}),h.jsx("textarea",{id:"area-description",value:b.value,onChange:D=>b.setValue(D.target.value),rows:3,className:"w-full bg-background/50 border border-outline rounded-lg px-3 py-2 text-text-secondary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar max-w-prose"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Color"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:UN.map(D=>h.jsx("button",{type:"button",style:{backgroundColor:D},onClick:()=>v(D),className:`w-8 h-8 rounded-full transition-all ${g===D?"ring-2 ring-offset-2 ring-offset-background ring-white":""}`,"aria-label":`Color ${D}`},D))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Icon"}),h.jsx("div",{className:"grid grid-cols-8 gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:FN.map(D=>h.jsx("button",{type:"button",onClick:()=>y(D.name),className:`p-2 rounded-lg transition-colors ${x===D.name?"bg-accent text-accent-content":"hover:bg-neutral"}`,"aria-label":`Icon ${D.name}`,children:D.component},D.name))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:w,onTagsChange:_})]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("button",{onClick:U,className:"px-3 py-1.5 text-sm bg-accent hover:bg-accent-hover text-accent-content transition-all rounded-lg active:scale-95",children:"Save"}),h.jsx("button",{onClick:z,className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-lg active:scale-95",children:"Cancel"})]})]}):h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{style:{color:e.color||"currentColor",backgroundColor:`${e.color}1A`},className:"p-3 rounded-xl flex-shrink-0",children:zN(e.icon||"default","w-8 h-8")}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold font-heading tracking-tight",children:e.title}),h.jsx("p",{className:"text-text-secondary max-w-prose mt-1",children:e.description}),h.jsx(ct,{tags:e.tags,className:"mt-4"})]})]}),h.jsxs("div",{className:"flex-shrink-0 ml-4 flex items-center",children:[h.jsx("button",{onClick:d,"aria-label":c?"Exit focus mode":"Enter focus mode",className:"p-2 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors",children:c?h.jsx(Hm,{className:"w-5 h-5"}):h.jsx(qm,{className:"w-5 h-5"})}),h.jsx($l,{isOpen:N,onToggle:()=>j(!N),onEdit:L,onArchive:()=>a(e.id),onDelete:()=>l(e.id)})]})]})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx(la,{icon:h.jsx(gt,{className:"w-6 h-6"}),value:A.projects,label:"Active Projects"}),h.jsx(la,{icon:h.jsx(Zt,{className:"w-6 h-6"}),value:A.tasks,label:"Total Tasks"}),h.jsx(la,{icon:h.jsx(Or,{className:"w-6 h-6"}),value:A.upcoming,label:"Upcoming"}),h.jsx(la,{icon:h.jsx(tt,{className:"w-6 h-6"}),value:A.notes,label:"Notes"})]}),h.jsx(It,{icon:h.jsx(gt,{className:"w-6 h-6 text-accent"}),title:"Projects",onAdd:()=>f({parentId:e.id,itemType:"project"}),isCollapsible:!0,defaultOpen:!0,children:n.length>0?h.jsx("ul",{className:"space-y-2",...T(),children:n.map(D=>{const{completed:M,total:I}=H(D);return h.jsxs("li",{...S(D.id),className:`relative cursor-grab rounded-lg ${E===D.id?"opacity-30":""}`,children:[(C==null?void 0:C.type)==="REORDER"&&C.targetId===D.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-0.5 bg-accent rounded-full"}),h.jsxs("button",{onClick:()=>p("projects",D.id),className:"w-full text-left p-3 hover:bg-neutral rounded-lg transition-colors flex justify-between items-center gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-semibold truncate",children:D.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate mb-2",children:D.description}),h.jsx(ct,{tags:D.tags})]}),I>0&&h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsxs("span",{className:"text-xs font-mono text-text-tertiary",children:[M,"/",I]}),h.jsx(dv,{completed:M,total:I})]})]})]},D.id)})}):h.jsx(pr,{children:"No projects in this area yet. Add one to get started!"})}),h.jsx(It,{icon:h.jsx(tt,{className:"w-6 h-6 text-accent"}),title:"Notes",onAdd:()=>f({parentId:e.id,itemType:"note"}),isCollapsible:!0,defaultOpen:!0,children:i.length>0?h.jsx("ul",{className:"space-y-2",children:i.map(D=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>s(D.id),className:"w-full text-left p-3 hover:bg-neutral rounded-lg transition-colors",children:[h.jsx("p",{className:"font-semibold",children:D.title}),h.jsx("p",{className:"text-sm text-text-secondary truncate mt-1",children:Km(D.content)}),h.jsx(ct,{tags:D.tags,className:"mt-2"})]})},D.id))}):h.jsx(pr,{children:"Capture notes related to this area of your life."})}),h.jsx(It,{icon:h.jsx(vt,{className:"w-6 h-6 text-accent"}),title:"Resources",onAdd:()=>f({parentId:e.id,itemType:"resource"}),isCollapsible:!0,defaultOpen:!0,children:o.length>0?h.jsx("ul",{className:"space-y-1",children:o.map(D=>h.jsx("li",{className:"p-3 hover:bg-neutral rounded-lg transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[D.url?h.jsx(nr,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}):h.jsx(vt,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("a",{href:D.url?D.url.startsWith("http")?D.url:`https://${D.url}`:void 0,target:"_blank",rel:"noopener noreferrer",className:"hover:underline hover:text-accent",children:D.title}),h.jsx(ct,{tags:D.tags,className:"mt-1"})]})]})},D.id))}):h.jsx(pr,{children:"Add resources that support this long-term responsibility."})})]})},qN=he.memo(BN),HN=(e,n)=>{switch(e){case"briefcase":return h.jsx(lf,{className:n});case"heart":return h.jsx(sf,{className:n});case"book":return h.jsx(uf,{className:n});case"finance":return h.jsx(cf,{className:n});case"social":return h.jsx(ff,{className:n});case"brain":return h.jsx(af,{className:n});default:return h.jsx(mt,{className:n})}},VN=({areas:e,activeAreaId:n,onSelectArea:r,projects:i,tasks:o,notes:a,resources:l,onArchive:s,onDelete:u,onSelectNote:f,onUpdateArea:p,onOpenCaptureModal:c,onNavigate:d,onDirectOrganizeItem:m,isFocusMode:b,onToggleFocusMode:w})=>{const{dispatch:_}=xi(),{state:g}=Ll(),{draggedItemId:v,draggedItemType:x}=g,[y,k]=G.useState(null),{draggedId:N,dropAction:j,getDragAndDropProps:E,getContainerProps:C}=Wl({items:e,onReorder:(z,H)=>{_({type:"REORDER_LIST",payload:{listKey:"areas",sourceId:z,targetId:H}})}});G.useEffect(()=>{e.length>0&&(!n||!e.some(z=>z.id===n))?r(e[0].id):e.length===0&&r(null)},[e,n,r]);const S=e.find(z=>z.id===n)||null,T=G.useMemo(()=>S?S.projectIds.map(z=>i.find(H=>H.id===z)).filter(z=>!!z&&z.status==="active"):[],[S,i]),O=()=>{c({parentId:null,itemType:"area"})},P=(z,H)=>{z.stopPropagation(),c({parentId:H,itemType:"project"})},A=(z,H)=>{(x==="note"||x==="resource")&&(z.preventDefault(),z.dataTransfer.dropEffect="move",k(H))},L=z=>{z.currentTarget.contains(z.relatedTarget)||k(null)},U=(z,H)=>{z.preventDefault(),z.stopPropagation(),v&&m(v,[H]),k(null)};return h.jsxs("div",{className:"flex h-full gap-8",children:[!b&&h.jsxs("aside",{className:"w-1/3 max-w-sm h-full flex flex-col bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md",children:[h.jsxs("header",{className:"p-4 border-b border-outline-dark flex-shrink-0 flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-bold font-heading tracking-tight",children:"Areas"}),h.jsx("button",{onClick:O,"aria-label":"Add new area",className:"p-1.5 text-text-secondary hover:bg-neutral hover:text-text-primary rounded-full transition-colors active:scale-95",children:h.jsx(We,{className:"w-5 h-5"})})]}),h.jsx("ul",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",...C(),children:e.map(z=>h.jsxs("li",{...E(z.id),onDragOver:H=>A(H,z.id),onDragLeave:L,onDrop:H=>U(H,z.id),className:`relative cursor-grab rounded-xl transition-all duration-300 group ${N===z.id?"opacity-30":""} ${y===z.id?"ring-2 ring-accent ring-inset":""}`,children:[(j==null?void 0:j.type)==="REORDER"&&j.targetId===z.id&&h.jsx("div",{className:"absolute -top-1 left-2 right-2 h-0.5 bg-accent rounded-full"}),h.jsx("button",{onClick:()=>r(z.id),className:`w-full text-left p-3 mb-1 transition-all duration-200 rounded-xl border-l-4 ${n===z.id?"bg-neutral":"border-transparent hover:bg-neutral"}`,style:{borderColor:n===z.id?z.color:"transparent"},children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{style:{color:z.color||"currentColor"},children:HN(z.icon||"default","w-5 h-5 flex-shrink-0")}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-text-primary truncate",children:z.title}),h.jsx("p",{className:"text-xs text-text-secondary truncate",children:z.description}),h.jsx(ct,{tags:z.tags,className:"mt-2"})]})]})}),h.jsx("button",{onClick:H=>P(H,z.id),"aria-label":`Quick add to ${z.title}`,className:"absolute top-1/2 -translate-y-1/2 right-2 p-1.5 bg-secondary hover:bg-secondary-hover rounded-full text-secondary-content opacity-0 group-hover:opacity-100 focus:opacity-100 transition-all duration-200",children:h.jsx(We,{className:"w-4 h-4"})})]},z.id))})]}),h.jsx("section",{className:"flex-1 overflow-y-auto custom-scrollbar",children:S?h.jsx(qN,{area:S,projects:T,tasks:o,notes:a.filter(z=>z.parentIds.includes(S.id)),resources:l.filter(z=>z.parentIds.includes(S.id)),onArchive:s,onDelete:u,onSelectNote:f,onUpdateArea:p,onOpenCaptureModal:c,onNavigate:d,isFocusMode:b,onToggleFocusMode:w}):h.jsx(bi,{icon:h.jsx(mt,{}),title:"Create Your First Area of Life",description:"Areas are the broad, ongoing responsibilities that shape your life, like 'Personal Growth' or 'Career'. What's a major part of your life you want to focus on?",actionButton:h.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(We,{className:"w-5 h-5"}),"Create New Area"]})})})]})},WN=he.memo(VN),GN={area:{label:"Areas",icon:h.jsx(mt,{className:"w-6 h-6 text-accent"})},project:{label:"Projects",icon:h.jsx(gt,{className:"w-6 h-6 text-accent"})},task:{label:"Tasks",icon:h.jsx(Zt,{className:"w-6 h-6 text-accent"})},note:{label:"Notes",icon:h.jsx(tt,{className:"w-6 h-6 text-accent"})},resource:{label:"Resources",icon:h.jsx(vt,{className:"w-6 h-6 text-accent"})}},KN=({items:e,onRestore:n,onDelete:r})=>{const i=e.filter(l=>l.status==="archived"),o=i.reduce((l,s)=>{const u=Hn(s.id);return u&&(l[u]||(l[u]=[]),l[u].push(s)),l},{}),a=["area","project","task","note","resource"];return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Archives"}),h.jsx("p",{className:"text-text-secondary",children:"View, restore, or permanently delete archived items."})]}),i.length===0?h.jsx(bi,{icon:h.jsx(rf,{}),title:"A Clean Slate",description:"The archives are currently empty. When you complete a project or an area is no longer active, archive it to keep your workspace tidy."}):a.map(l=>{const s=o[l];if(!s||s.length===0)return null;const u=GN[l];return h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md mb-6",children:[h.jsxs("header",{className:"flex items-center gap-3 p-4 border-b border-outline-dark",children:[u.icon,h.jsx("h3",{className:"font-bold text-lg font-heading",children:u.label})]}),h.jsx("div",{className:"p-2",children:h.jsx("ul",{children:s.map(f=>h.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-neutral",children:[h.jsx("span",{className:"font-medium",children:f.title}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>n(f.id),"aria-label":`Restore ${f.title}`,className:"p-2 text-text-secondary hover:text-accent transition-colors rounded-full",children:h.jsx(tx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>r(f.id),"aria-label":`Delete ${f.title}`,className:"p-2 text-text-secondary hover:text-destructive transition-colors rounded-full",children:h.jsx(Lo,{className:"w-5 h-5"})})]})]},f.id))})})]},l)})]})},YN=he.memo(KN),vh=({buttonContent:e,children:n})=>{const[r,i]=G.useState(!1),o=G.useRef(null);return G.useEffect(()=>{const a=l=>{o.current&&!o.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),h.jsxs("div",{className:"relative",ref:o,children:[h.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-surface/80 border border-outline rounded-lg hover:bg-neutral transition-colors",children:[e,h.jsx(of,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),r&&h.jsx("div",{onClick:()=>i(!1),className:"absolute right-0 mt-2 w-56 bg-surface/95 backdrop-blur-xl border border-outline rounded-lg shadow-lg z-20",children:n})]})},QN=({tags:e,sortOptions:n,tagFilter:r,onTagFilterChange:i,sortOption:o,onSortChange:a})=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vh,{buttonContent:h.jsxs(h.Fragment,{children:[h.jsx(sx,{className:"w-4 h-4"}),h.jsx("span",{children:"Filter"}),r&&h.jsx("span",{className:"w-1.5 h-1.5 bg-accent rounded-full"})]}),children:h.jsxs("ul",{className:"p-1 max-h-60 overflow-y-auto custom-scrollbar",children:[r&&h.jsx("li",{className:"border-b border-outline-dark mb-1 pb-1",children:h.jsxs("button",{onClick:()=>i(null),className:"w-full text-left flex items-center justify-between px-2 py-1.5 text-sm rounded-md hover:bg-neutral text-destructive",children:["Clear Filter",h.jsx(Lt,{className:"w-4 h-4"})]})}),e.map(l=>h.jsx("li",{children:h.jsx("button",{onClick:()=>i(l),className:`w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-neutral ${r===l?"bg-accent/20 font-semibold":""}`,children:l})},l))]})}),h.jsx(vh,{buttonContent:h.jsxs(h.Fragment,{children:[h.jsx(ux,{className:"w-4 h-4"}),h.jsx("span",{children:"Sort"})]}),children:h.jsx("ul",{className:"p-1",children:n.map(l=>h.jsx("li",{children:h.jsx("button",{onClick:()=>a(l),className:`w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-neutral ${o===l?"bg-accent/20 font-semibold":""}`,children:l})},l))})})]}),hv=he.memo(QN),ZN=e=>{try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.replace(/^www\./,"")}catch{return null}},XN=({resource:e,getParentName:n,onNavigate:r,onEditResource:i,onArchive:o,onDelete:a})=>{const[l,s]=G.useState(!1),[u,f]=G.useState(!1);G.useEffect(()=>{s(!1)},[e.id]);const p=!!e.url,c=p?ZN(e.url):null,d=p?e.url.startsWith("http")?e.url:`https://${e.url}`:"#",m=p&&!l&&/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(e.url),b=c?`https://www.google.com/s2/favicons?sz=64&domain_url=${c}`:null,w=e.parentIds.map(v=>{const x=n(v);return x?h.jsxs("button",{onClick:y=>{y.stopPropagation(),r(x.type==="project"?"projects":"areas",v)},className:"flex items-center gap-1 bg-background/50 px-2 py-0.5 border border-outline rounded-md hover:bg-neutral transition-colors","aria-label":`Navigate to ${x.type} ${x.name}`,children:[x.type==="project"?h.jsx(gt,{className:"w-3 h-3"}):h.jsx(mt,{className:"w-3 h-3"}),x.name]},v):null}).filter(Boolean),_=h.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[h.jsxs("div",{className:"flex justify-between items-start gap-2",children:[h.jsx("h4",{className:"font-semibold flex-1 clamp-2-lines",children:e.title}),h.jsx("div",{className:"-mr-2 -mt-2",onClick:v=>v.stopPropagation(),children:h.jsx($l,{isOpen:u,onToggle:()=>f(!u),onEdit:()=>i(e.id),onArchive:()=>o(e.id),onDelete:()=>a(e.id)})})]}),c&&h.jsx("p",{className:"text-xs text-text-tertiary mt-1 truncate",children:c}),e.content&&h.jsx("p",{className:"text-sm text-text-secondary mt-2 clamp-3-lines",children:e.content}),h.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[w.length>0&&h.jsx("div",{className:"flex items-center flex-wrap gap-2 text-xs text-text-secondary",children:w}),h.jsx(ct,{tags:e.tags})]})]}),g=m?h.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"block aspect-video bg-background/50 rounded-t-xl overflow-hidden border-b border-outline group",children:h.jsx("img",{src:d,alt:e.title,onError:()=>s(!0),className:"w-full h-full object-cover"})}):p?h.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"block aspect-video bg-background/50 flex items-center justify-center rounded-t-xl overflow-hidden border-b border-outline group",children:b?h.jsx("img",{src:b,alt:`${c} favicon`,className:"w-12 h-12"}):h.jsx(nr,{className:"w-12 h-12 text-text-tertiary group-hover:text-accent transition-colors"})}):h.jsx("div",{className:"block aspect-video bg-background/50 flex items-center justify-center rounded-t-xl overflow-hidden border-b border-outline group cursor-pointer",onClick:()=>i(e.id),children:h.jsx(vt,{className:"w-12 h-12 text-text-tertiary group-hover:text-accent transition-colors"})});return h.jsxs("div",{className:"flex flex-col h-full bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md transition-all duration-300 ease-soft hover:shadow-lg hover:-translate-y-1",children:[g,h.jsx("div",{onClick:()=>i(e.id),className:"flex flex-col flex-grow cursor-pointer",children:_})]})},JN=({resources:e,projects:n,areas:r,onArchive:i,onDelete:o,onOpenCaptureModal:a,onEditResource:l,onNavigate:s})=>{const[u,f]=G.useState(null),[p,c]=G.useState("Creation Date (Newest First)"),d=G.useMemo(()=>{const v=new Set;return e.forEach(x=>{var y;return(y=x.tags)==null?void 0:y.forEach(k=>v.add(k))}),Array.from(v).sort()},[e]),m=G.useMemo(()=>{let v=[...e];switch(u&&(v=v.filter(x=>{var y;return(y=x.tags)==null?void 0:y.includes(u)})),p){case"Title (A-Z)":v.sort((x,y)=>x.title.localeCompare(y.title));break;case"Updated Date (Newest First)":v.sort((x,y)=>new Date(y.updatedAt).getTime()-new Date(x.updatedAt).getTime());break;case"Creation Date (Newest First)":default:v.sort((x,y)=>new Date(y.createdAt).getTime()-new Date(x.createdAt).getTime());break}return v},[e,u,p]),b=v=>{const x=n.find(k=>k.id===v);if(x)return{name:x.title,type:"project"};const y=r.find(k=>k.id===v);return y?{name:y.title,type:"area"}:null},w=()=>{a({parentId:null,itemType:"resource"})},_=["Creation Date (Newest First)","Updated Date (Newest First)","Title (A-Z)"];return h.jsxs("div",{children:[h.jsx("style",{children:`
        .clamp-2-lines {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        .clamp-3-lines {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
    `}),h.jsxs("header",{className:"mb-8 flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Resources"}),h.jsx("p",{className:"text-text-secondary",children:"Your personal library of links, files, and text snippets."})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(hv,{tags:d,sortOptions:_,tagFilter:u,onTagFilterChange:f,sortOption:p,onSortChange:c}),h.jsxs("button",{onClick:w,className:"flex items-center gap-2 bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(We,{className:"w-5 h-5"}),"Add Resource"]})]})]}),m.length===0?h.jsx(bi,{icon:h.jsx(vt,{}),title:u?"No Matching Resources":"Build Your Personal Library",description:u?`No resources found with the tag "${u}".`:"Resources are topics of interest or useful information, like articles, links, or code snippets. Start capturing knowledge."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(v=>h.jsx("div",{children:h.jsx(XN,{resource:v,getParentName:b,onNavigate:s,onEditResource:l,onArchive:i,onDelete:o})},v.id))})]})},eE=he.memo(JN),tE={areas:{label:"Areas",icon:h.jsx(mt,{className:"w-5 h-5 text-accent"})},projects:{label:"Projects",icon:h.jsx(gt,{className:"w-5 h-5 text-accent"})},tasks:{label:"Tasks",icon:h.jsx(Zt,{className:"w-5 h-5 text-accent"})},notes:{label:"Notes",icon:h.jsx(tt,{className:"w-5 h-5 text-accent"})},resources:{label:"Resources",icon:h.jsx(vt,{className:"w-5 h-5 text-accent"})}},nE=({query:e,areas:n,projects:r,tasks:i,notes:o,resources:a,onNavigate:l})=>{const s=G.useMemo(()=>{const p=e.toLowerCase();if(!p)return null;const c=d=>d.filter(m=>m.title.toLowerCase().includes(p)&&m.status==="active");return{areas:c(n),projects:c(r),tasks:c(i),notes:c(o),resources:c(a)}},[e,n,r,i,o,a]),u=(p,c)=>{switch(c){case"areas":l("areas",p.id);break;case"projects":l("projects",p.id);break;case"tasks":p.projectId&&l("projects",p.projectId);break;case"notes":case"resources":const d=p.parentIds.find(m=>m.startsWith("proj-"));if(d)l("projects",d);else{const m=p.parentIds.find(b=>b.startsWith("area-"));m&&l("areas",m)}break}},f=s?Object.values(s).reduce((p,c)=>p+c.length,0):0;return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Search Results"}),h.jsxs("p",{className:"text-text-secondary",children:["Found ",f,' results for "',h.jsx("span",{className:"text-accent font-semibold",children:e}),'"']})]}),f===0?h.jsx(bi,{icon:h.jsx(ai,{}),title:"No Results Found",description:"Try a different search term or check for typos."}):Object.entries(s||{}).map(([p,c])=>{const d=c;if(d.length===0)return null;const m=tE[p];return h.jsxs("div",{className:"mb-6",children:[h.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2 mb-3 font-heading",children:[m.icon,h.jsx("span",{children:m.label})]}),h.jsx("ul",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md divide-y divide-outline-dark",children:d.map(b=>h.jsx("li",{children:h.jsx("button",{onClick:()=>u(b,p),className:"w-full text-left p-3 hover:bg-neutral",children:b.title})},b.id))})]},p)})]})},rE=he.memo(nE),iE=({isOpen:e,onClose:n,onSave:r,item:i,projects:o,areas:a})=>{const[l,s]=G.useState(i.parentIds||[]);G.useEffect(()=>{s(i.parentIds||[])},[i]);const u=c=>{s(d=>d.includes(c)?d.filter(m=>m!==c):[...d,c])},f=c=>{c.preventDefault(),r(i.id,l)};if(!e)return null;const p=[...a.map(c=>({id:c.id,title:c.title,type:"Area"})),...o.map(c=>({id:c.id,title:c.title,type:"Project"}))];return h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"organize-modal-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-outline rounded-xl shadow-lg",onClick:c=>c.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"organize-modal-title",className:"text-xl font-bold font-heading",children:"Organize Item"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:f,className:"flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar",children:[h.jsx("p",{className:"text-text-secondary mb-2",children:"Assigning:"}),h.jsx("p",{className:"font-bold text-lg text-text-primary mb-4",children:i.title}),h.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Select one or more Projects/Areas to link this item to:"}),h.jsx("div",{className:"space-y-2 border border-outline-dark p-2 rounded-lg max-h-64 overflow-y-auto custom-scrollbar bg-background/30",children:p.map(c=>h.jsxs("div",{className:"flex items-center p-1",children:[h.jsx("input",{type:"checkbox",id:`parent-${c.id}`,checked:l.includes(c.id),onChange:()=>u(c.id),className:"h-4 w-4 rounded border-outline bg-surface text-accent focus:ring-accent"}),h.jsxs("label",{htmlFor:`parent-${c.id}`,className:"ml-3 block text-sm text-text-primary",children:[c.title," ",h.jsxs("span",{className:"text-xs text-text-tertiary",children:["(",c.type,")"]})]})]},c.id))})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save Organization"})]})})]})]})})},oE=he.memo(iE),sa={High:1,Medium:2,Low:3},Is={High:{text:"text-priority-high",bg:"bg-priority-high-bg"},Medium:{text:"text-priority-medium",bg:"bg-priority-medium-bg"},Low:{text:"text-priority-low",bg:"bg-priority-low-bg"}},aE=({tasks:e,projects:n,onToggleTask:r,onSelectTask:i})=>{const[o,a]=G.useState("project"),[l,s]=G.useState(null),[u,f]=G.useState("Priority (High to Low)"),p=G.useMemo(()=>{const g=new Set;return e.forEach(v=>{var x;return(x=v.tags)==null?void 0:x.forEach(y=>g.add(y))}),Array.from(g).sort()},[e]),c=G.useMemo(()=>e.filter(g=>g.status==="active"),[e]),d=G.useMemo(()=>{let g=[...c];switch(l&&(g=g.filter(v=>{var x;return(x=v.tags)==null?void 0:x.includes(l)})),u){case"Priority (High to Low)":g.sort((v,x)=>(sa[v.priority||""]||4)-(sa[x.priority||""]||4));break;case"Due Date (Soonest First)":g.sort((v,x)=>!v.dueDate&&!x.dueDate?0:v.dueDate?x.dueDate?new Date(v.dueDate).getTime()-new Date(x.dueDate).getTime():-1:1);break;case"Title (A-Z)":g.sort((v,x)=>v.title.localeCompare(x.title));break;case"Creation Date (Newest First)":default:g.sort((v,x)=>new Date(x.createdAt).getTime()-new Date(v.createdAt).getTime());break}return g},[c,l,u]),m=G.useMemo(()=>o==="project"?d.reduce((g,v)=>{const x=n.find(k=>k.id===v.projectId),y=x?x.title:"No Project";return g[y]||(g[y]=[]),g[y].push(v),g},{}):o==="priority"?d.reduce((g,v)=>{const x=v.priority||"No Priority";return g[x]||(g[x]=[]),g[x].push(v),g},{}):o==="dueDate"?d.reduce((g,v)=>{const x=v.dueDate?new Date(v.dueDate).toDateString():"No Due Date";return g[x]||(g[x]=[]),g[x].push(v),g},{}):{},[d,n,o]),w=(g=>{const v=Object.keys(g);return o==="priority"?v.sort((x,y)=>(sa[x]||4)-(sa[y]||4)):o==="dueDate"?v.sort((x,y)=>x==="No Due Date"?1:y==="No Due Date"?-1:new Date(x).getTime()-new Date(y).getTime()):o==="project"?v.sort((x,y)=>x==="No Project"?1:y==="No Project"?-1:x.localeCompare(y)):v.sort()})(m),_=["Priority (High to Low)","Due Date (Soonest First)","Creation Date (Newest First)","Title (A-Z)"];return h.jsxs("div",{className:"custom-scrollbar h-full",children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"All Tasks"}),h.jsx("p",{className:"text-text-secondary",children:"A complete list of all your active tasks."})]}),h.jsxs("div",{className:"mb-6 flex items-center justify-between sticky top-0 bg-background/80 backdrop-blur-sm py-4 z-10",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Group by:"}),h.jsx("div",{className:"flex gap-2",children:["project","priority","dueDate"].map(g=>h.jsx("button",{onClick:()=>a(g),className:`px-3 py-1 text-sm transition-colors border rounded-lg ${o===g?"bg-accent text-accent-content border-accent":"bg-surface/80 border-outline-dark hover:bg-neutral"}`,children:g==="dueDate"?"Due Date":g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),h.jsx(hv,{tags:p,sortOptions:_,tagFilter:l,onTagFilterChange:s,sortOption:u,onSortChange:f})]}),d.length===0?h.jsx(bi,{icon:h.jsx(Zt,{}),title:l?"No Matching Tasks":"All Clear!",description:l?`No tasks found with the tag "${l}".`:"You have no active tasks. Enjoy the peace, or capture a new task to get things moving."}):h.jsx("div",{className:"space-y-6",children:w.map(g=>h.jsxs("section",{children:[h.jsx("h2",{className:"text-lg font-bold text-text-primary mb-3 font-heading",children:g}),h.jsx("ul",{className:"space-y-2",children:m[g].map(v=>{var x;return h.jsx("li",{className:"p-3 bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-sm",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>r(v.id),"aria-label":v.stage==="Done"?"Mark as incomplete":"Mark as complete",children:v.stage==="Done"?h.jsx(Jn,{className:"w-5 h-5 text-accent"}):h.jsx(Mu,{className:"w-5 h-5 text-text-tertiary"})}),h.jsxs("div",{className:"flex-1",role:"button",onClick:()=>i(v.id),children:[h.jsx("p",{className:`${v.stage==="Done"?"line-through text-text-tertiary":""}`,children:v.title}),h.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[o!=="project"&&h.jsx("p",{className:"text-xs text-text-tertiary",children:((x=n.find(y=>y.id===v.projectId))==null?void 0:x.title)||"No Project"}),h.jsx(ct,{tags:v.tags})]})]}),v.dueDate&&o!=="dueDate"&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[h.jsx(Or,{className:"w-4 h-4"}),new Date(v.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),v.priority&&o!=="priority"&&Is[v.priority]&&h.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full ${Is[v.priority].bg} ${Is[v.priority].text}`,children:[h.jsx(Rl,{className:"w-3 h-3"}),v.priority]})]})},v.id)})})]},g))})]})},lE=he.memo(aE),yh=new Date(Date.now()-7*24*60*60*1e3),sE=({inboxCount:e,projects:n,areas:r,tasks:i,onNavigate:o,onMarkReviewed:a})=>{const[l,s]=G.useState("inbox"),u=G.useMemo(()=>n.filter(_=>!_.lastReviewed||new Date(_.lastReviewed)<yh),[n]),f=G.useMemo(()=>r.filter(_=>!_.lastReviewed||new Date(_.lastReviewed)<yh),[r]),p=G.useMemo(()=>{const _=new Date(Date.now()+6048e5);return i.filter(g=>g.dueDate&&new Date(g.dueDate)<=_)},[i]),c=[{id:"inbox",title:"Process Your Inbox",count:e},{id:"projects",title:"Review Active Projects",count:u.length},{id:"areas",title:"Review Active Areas",count:f.length},{id:"tasks",title:"Look at Upcoming Tasks",count:p.length}],d=_=>{_==="project"?a(u.map(g=>g.id),"project"):a(f.map(g=>g.id),"area")},m=()=>{switch(l){case"inbox":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",e," ",e===1?"item":"items"," in your inbox to process."]}),h.jsx("button",{onClick:()=>o("dashboard"),className:"bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm",children:"Go to Home"})]});case"projects":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",u.length," ",u.length===1?"project":"projects"," that haven't been reviewed in the last week."]}),h.jsx("ul",{className:"space-y-2 mb-4",children:u.map(_=>h.jsx("li",{children:h.jsx("button",{onClick:()=>o("projects",_.id),className:"text-accent hover:underline font-semibold",children:_.title})},_.id))}),h.jsx("button",{onClick:()=>d("project"),className:"bg-secondary hover:bg-secondary-hover text-secondary-content font-semibold px-4 py-2 transition-all rounded-lg shadow-sm",children:"Mark all as reviewed"})]});case"areas":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",f.length," ",f.length===1?"area":"areas"," that haven't been reviewed in the last week."]}),h.jsx("ul",{className:"space-y-2 mb-4",children:f.map(_=>h.jsx("li",{children:h.jsx("button",{onClick:()=>o("areas",_.id),className:"text-accent hover:underline font-semibold",children:_.title})},_.id))}),h.jsx("button",{onClick:()=>d("area"),className:"bg-secondary hover:bg-secondary-hover text-secondary-content font-semibold px-4 py-2 transition-all rounded-lg shadow-sm",children:"Mark all as reviewed"})]});case"tasks":return h.jsxs("div",{children:[h.jsxs("p",{className:"mb-4",children:["You have ",p.length," ",p.length===1?"task":"tasks"," due in the next 7 days."]}),h.jsx("button",{onClick:()=>o("dashboard"),className:"bg-accent hover:bg-accent-hover text-accent-content font-semibold px-4 py-2 transition-all rounded-lg shadow-sm",children:"Go to Home"})]});case"complete":return h.jsxs("div",{className:"text-center",children:[h.jsx(Jn,{className:"w-16 h-16 text-accent mx-auto mb-4"}),h.jsx("h3",{className:"text-2xl font-bold font-heading",children:"Review Complete!"}),h.jsx("p",{className:"text-text-secondary",children:"Your digital garden is tended to and ready for the week ahead."})]})}},b=c.findIndex(_=>_.id===l),w=()=>{b<c.length-1?s(c[b+1].id):s("complete")};return h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("header",{className:"mb-12 text-center",children:[h.jsx("h1",{className:"text-4xl font-bold font-heading",children:"Weekly Review"}),h.jsx("p",{className:"text-text-secondary mt-2",children:"A guided tour to keep your digital mind clear and focused."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsx("div",{className:"w-full md:w-1/3",children:h.jsx("ol",{className:"space-y-4",children:c.map((_,g)=>{const v=g<b,x=g===b;return h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx("span",{className:`w-8 h-8 flex items-center justify-center font-bold text-sm rounded-full transition-colors ${x?"bg-accent text-accent-content":v?"bg-surface text-text-primary border border-outline-dark":"bg-surface text-text-secondary border border-outline-dark"}`,children:v?"":g+1}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-text-primary",children:_.title}),h.jsxs("p",{className:"text-xs text-text-secondary",children:[_.count," ",_.count===1?"item":"items"]})]})]},_.id)})})}),h.jsxs("div",{className:"w-full md:w-2/3 bg-surface/80 backdrop-blur-xl p-6 border border-outline rounded-xl shadow-md",children:[m(),l!=="complete"&&h.jsx("div",{className:"mt-6 pt-6 border-t border-outline-dark text-right",children:h.jsx("button",{onClick:w,className:"bg-neutral hover:bg-neutral-hover text-neutral-content font-semibold px-4 py-2 rounded-lg transition-colors",children:"Next Step "})})]})]})]})},uE=he.memo(sE);function cE(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function fE(e,n,r){return n=xE(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function xh(e,n){return pE(e)||cE(e,n)||pv(e,n)||vE()}function dE(e){return hE(e)||gE(e)||pv(e)||mE()}function hE(e){if(Array.isArray(e))return Uu(e)}function pE(e){if(Array.isArray(e))return e}function gE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pv(e,n){if(e){if(typeof e=="string")return Uu(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uu(e,n)}}function Uu(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function mE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yE(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function xE(e){var n=yE(e,"string");return typeof n=="symbol"?n:String(n)}var bE=function(n,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(dE(Object.entries(n).filter(function(o){var a=xh(o,1),l=a[0];return!i.has(l)}).map(function(o){var a=xh(o,2),l=a[0],s=a[1];return fE({},l,s)}))))};function Bu(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function _E(e){if(Array.isArray(e))return e}function wE(e){if(Array.isArray(e))return Bu(e)}function kE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jE(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function NE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SE(e,n){return _E(e)||jE(e,n)||gv(e,n)||NE()}function bh(e){return wE(e)||kE(e)||gv(e)||EE()}function gv(e,n){if(e){if(typeof e=="string")return Bu(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bu(e,n):void 0}}function TE(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,i=r===void 0?"div":r,o=n.nodeMapper,a=o===void 0?function(p){return p}:o,l=n.methodNames,s=l===void 0?[]:l,u=n.initPropNames,f=u===void 0?[]:u;return G.forwardRef(function(p,c){var d=G.useRef(),m=G.useMemo(function(){var _=Object.fromEntries(f.filter(function(g){return p.hasOwnProperty(g)}).map(function(g){return[g,p[g]]}));return e(_)},[]);_h(function(){m(a(d.current))},G.useLayoutEffect),_h(function(){return m._destructor instanceof Function?m._destructor:void 0});var b=G.useCallback(function(_){for(var g=arguments.length,v=new Array(g>1?g-1:0),x=1;x<g;x++)v[x-1]=arguments[x];return m[_]instanceof Function?m[_].apply(m,v):void 0},[m]),w=G.useRef({});return Object.keys(bE(p,[].concat(bh(s),bh(f)))).filter(function(_){return w.current[_]!==p[_]}).forEach(function(_){return b(_,p[_])}),w.current=p,G.useImperativeHandle(c,function(){return Object.fromEntries(s.map(function(_){return[_,function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];return b.apply(void 0,[_].concat(v))}]}))},[b]),he.createElement(i,{ref:d})})}function _h(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G.useEffect,r=G.useRef(),i=G.useRef(!1),o=G.useRef(!1),a=G.useState(0),l=SE(a,2);l[0];var s=l[1];i.current&&(o.current=!0),n(function(){return i.current||(r.current=e(),i.current=!0),s(function(u){return u+1}),function(){o.current&&r.current&&r.current()}},[])}var qu="http://www.w3.org/1999/xhtml";const wh={svg:"http://www.w3.org/2000/svg",xhtml:qu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gl(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),wh.hasOwnProperty(n)?{space:wh[n],local:e}:e}function OE(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===qu&&n.documentElement.namespaceURI===qu?n.createElement(e):n.createElementNS(r,e)}}function AE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mv(e){var n=Gl(e);return(n.local?AE:OE)(n)}function CE(){}function gf(e){return e==null?CE:function(){return this.querySelector(e)}}function IE(e){typeof e!="function"&&(e=gf(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f,p=0;p<l;++p)(u=a[p])&&(f=e.call(u,u.__data__,p,a))&&("__data__"in u&&(f.__data__=u.__data__),s[p]=f);return new Nt(i,this._parents)}function PE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function DE(){return[]}function vv(e){return e==null?DE:function(){return this.querySelectorAll(e)}}function ME(e){return function(){return PE(e.apply(this,arguments))}}function RE(e){typeof e=="function"?e=ME(e):e=vv(e);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var l=n[a],s=l.length,u,f=0;f<s;++f)(u=l[f])&&(i.push(e.call(u,u.__data__,f,l)),o.push(u));return new Nt(i,o)}function yv(e){return function(){return this.matches(e)}}function xv(e){return function(n){return n.matches(e)}}var LE=Array.prototype.find;function $E(e){return function(){return LE.call(this.children,e)}}function zE(){return this.firstElementChild}function FE(e){return this.select(e==null?zE:$E(typeof e=="function"?e:xv(e)))}var UE=Array.prototype.filter;function BE(){return Array.from(this.children)}function qE(e){return function(){return UE.call(this.children,e)}}function HE(e){return this.selectAll(e==null?BE:qE(typeof e=="function"?e:xv(e)))}function VE(e){typeof e!="function"&&(e=yv(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,s=i[o]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&s.push(u);return new Nt(i,this._parents)}function bv(e){return new Array(e.length)}function WE(){return new Nt(this._enter||this._groups.map(bv),this._parents)}function sl(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}sl.prototype={constructor:sl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GE(e){return function(){return e}}function KE(e,n,r,i,o,a){for(var l=0,s,u=n.length,f=a.length;l<f;++l)(s=n[l])?(s.__data__=a[l],i[l]=s):r[l]=new sl(e,a[l]);for(;l<u;++l)(s=n[l])&&(o[l]=s)}function YE(e,n,r,i,o,a,l){var s,u,f=new Map,p=n.length,c=a.length,d=new Array(p),m;for(s=0;s<p;++s)(u=n[s])&&(d[s]=m=l.call(u,u.__data__,s,n)+"",f.has(m)?o[s]=u:f.set(m,u));for(s=0;s<c;++s)m=l.call(e,a[s],s,a)+"",(u=f.get(m))?(i[s]=u,u.__data__=a[s],f.delete(m)):r[s]=new sl(e,a[s]);for(s=0;s<p;++s)(u=n[s])&&f.get(d[s])===u&&(o[s]=u)}function QE(e){return e.__data__}function ZE(e,n){if(!arguments.length)return Array.from(this,QE);var r=n?YE:KE,i=this._parents,o=this._groups;typeof e!="function"&&(e=GE(e));for(var a=o.length,l=new Array(a),s=new Array(a),u=new Array(a),f=0;f<a;++f){var p=i[f],c=o[f],d=c.length,m=XE(e.call(p,p&&p.__data__,f,i)),b=m.length,w=s[f]=new Array(b),_=l[f]=new Array(b),g=u[f]=new Array(d);r(p,c,w,_,g,m,n);for(var v=0,x=0,y,k;v<b;++v)if(y=w[v]){for(v>=x&&(x=v+1);!(k=_[x])&&++x<b;);y._next=k||null}}return l=new Nt(l,i),l._enter=s,l._exit=u,l}function XE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JE(){return new Nt(this._exit||this._groups.map(bv),this._parents)}function eS(e,n,r){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function tS(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,o=r.length,a=i.length,l=Math.min(o,a),s=new Array(o),u=0;u<l;++u)for(var f=r[u],p=i[u],c=f.length,d=s[u]=new Array(c),m,b=0;b<c;++b)(m=f[b]||p[b])&&(d[b]=m);for(;u<o;++u)s[u]=r[u];return new Nt(s,this._parents)}function nS(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],o=i.length-1,a=i[o],l;--o>=0;)(l=i[o])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function rS(e){e||(e=iS);function n(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,p=0;p<s;++p)(f=l[p])&&(u[p]=f);u.sort(n)}return new Nt(o,this._parents).order()}function iS(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function oS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function aS(){return Array.from(this)}function lS(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){var l=i[o];if(l)return l}return null}function sS(){let e=0;for(const n of this)++e;return e}function uS(){return!this.node()}function cS(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,l=o.length,s;a<l;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function fS(e){return function(){this.removeAttribute(e)}}function dS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hS(e,n){return function(){this.setAttribute(e,n)}}function pS(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function gS(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function mS(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function vS(e,n){var r=Gl(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?dS:fS:typeof n=="function"?r.local?mS:gS:r.local?pS:hS)(r,n))}function _v(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yS(e){return function(){this.style.removeProperty(e)}}function xS(e,n,r){return function(){this.style.setProperty(e,n,r)}}function bS(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function _S(e,n,r){return arguments.length>1?this.each((n==null?yS:typeof n=="function"?bS:xS)(e,n,r??"")):li(this.node(),e)}function li(e,n){return e.style.getPropertyValue(n)||_v(e).getComputedStyle(e,null).getPropertyValue(n)}function wS(e){return function(){delete this[e]}}function kS(e,n){return function(){this[e]=n}}function jS(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function NS(e,n){return arguments.length>1?this.each((n==null?wS:typeof n=="function"?jS:kS)(e,n)):this.node()[e]}function wv(e){return e.trim().split(/^|\s+/)}function mf(e){return e.classList||new kv(e)}function kv(e){this._node=e,this._names=wv(e.getAttribute("class")||"")}kv.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jv(e,n){for(var r=mf(e),i=-1,o=n.length;++i<o;)r.add(n[i])}function Nv(e,n){for(var r=mf(e),i=-1,o=n.length;++i<o;)r.remove(n[i])}function ES(e){return function(){jv(this,e)}}function SS(e){return function(){Nv(this,e)}}function TS(e,n){return function(){(n.apply(this,arguments)?jv:Nv)(this,e)}}function OS(e,n){var r=wv(e+"");if(arguments.length<2){for(var i=mf(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof n=="function"?TS:n?ES:SS)(r,n))}function AS(){this.textContent=""}function CS(e){return function(){this.textContent=e}}function IS(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function PS(e){return arguments.length?this.each(e==null?AS:(typeof e=="function"?IS:CS)(e)):this.node().textContent}function DS(){this.innerHTML=""}function MS(e){return function(){this.innerHTML=e}}function RS(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function LS(e){return arguments.length?this.each(e==null?DS:(typeof e=="function"?RS:MS)(e)):this.node().innerHTML}function $S(){this.nextSibling&&this.parentNode.appendChild(this)}function zS(){return this.each($S)}function FS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function US(){return this.each(FS)}function BS(e){var n=typeof e=="function"?e:mv(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function qS(){return null}function HS(e,n){var r=typeof e=="function"?e:mv(e),i=n==null?qS:typeof n=="function"?n:gf(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function VS(){var e=this.parentNode;e&&e.removeChild(this)}function WS(){return this.each(VS)}function GS(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function KS(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function YS(e){return this.select(e?KS:GS)}function QS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ZS(e){return function(n){e.call(this,n,this.__data__)}}function XS(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function JS(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,o=n.length,a;r<o;++r)a=n[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function eT(e,n,r){return function(){var i=this.__on,o,a=ZS(n);if(i){for(var l=0,s=i.length;l<s;++l)if((o=i[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=n;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:n,listener:a,options:r},i?i.push(o):this.__on=[o]}}function tT(e,n,r){var i=XS(e+""),o,a=i.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,f=s.length,p;u<f;++u)for(o=0,p=s[u];o<a;++o)if((l=i[o]).type===p.type&&l.name===p.name)return p.value}return}for(s=n?eT:JS,o=0;o<a;++o)this.each(s(i[o],n,r));return this}function Ev(e,n,r){var i=_v(e),o=i.CustomEvent;typeof o=="function"?o=new o(n,r):(o=i.document.createEvent("Event"),r?(o.initEvent(n,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function nT(e,n){return function(){return Ev(this,e,n)}}function rT(e,n){return function(){return Ev(this,e,n.apply(this,arguments))}}function iT(e,n){return this.each((typeof n=="function"?rT:nT)(e,n))}function*oT(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&(yield l)}var Sv=[null];function Nt(e,n){this._groups=e,this._parents=n}function zo(){return new Nt([[document.documentElement]],Sv)}function aT(){return this}Nt.prototype=zo.prototype={constructor:Nt,select:IE,selectAll:RE,selectChild:FE,selectChildren:HE,filter:VE,data:ZE,enter:WE,exit:JE,join:eS,merge:tS,selection:aT,order:nS,sort:rS,call:oS,nodes:aS,node:lS,size:sS,empty:uS,each:cS,attr:vS,style:_S,property:NS,classed:OS,text:PS,html:LS,raise:zS,lower:US,append:BS,insert:HS,remove:WS,clone:YS,datum:QS,on:tT,dispatch:iT,[Symbol.iterator]:oT};function Pt(e){return typeof e=="string"?new Nt([[document.querySelector(e)]],[document.documentElement]):new Nt([[e]],Sv)}function lT(e){let n;for(;n=e.sourceEvent;)e=n;return e}function rn(e,n){if(e=lT(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}var sT={value:()=>{}};function Fo(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Ta(r)}function Ta(e){this._=e}function uT(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Ta.prototype=Fo.prototype={constructor:Ta,on:function(e,n){var r=this._,i=uT(e+"",r),o,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((o=(e=i[a]).type)&&(o=cT(r[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<l;)if(o=(e=i[a]).type)r[o]=kh(r[o],e.name,n);else if(n==null)for(o in r)r[o]=kh(r[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Ta(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(n,r)}};function cT(e,n){for(var r=0,i=e.length,o;r<i;++r)if((o=e[r]).name===n)return o.value}function kh(e,n,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===n){e[i]=sT,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const fT={passive:!1},No={capture:!0,passive:!1};function Ps(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function Tv(e){var n=e.document.documentElement,r=Pt(e).on("dragstart.drag",Zr,No);"onselectstart"in n?r.on("selectstart.drag",Zr,No):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ov(e,n){var r=e.document.documentElement,i=Pt(e).on("dragstart.drag",null);n&&(i.on("click.drag",Zr,No),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const ua=e=>()=>e;function Hu(e,{sourceEvent:n,subject:r,target:i,identifier:o,active:a,x:l,y:s,dx:u,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}Hu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function dT(e){return!e.ctrlKey&&!e.button}function hT(){return this.parentNode}function pT(e,n){return n??{x:e.x,y:e.y}}function gT(){return navigator.maxTouchPoints||"ontouchstart"in this}function mT(){var e=dT,n=hT,r=pT,i=gT,o={},a=Fo("start","drag","end"),l=0,s,u,f,p,c=0;function d(y){y.on("mousedown.drag",m).filter(i).on("touchstart.drag",_).on("touchmove.drag",g,fT).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(y,k){if(!(p||!e.call(this,y,k))){var N=x(this,n.call(this,y,k),y,k,"mouse");N&&(Pt(y.view).on("mousemove.drag",b,No).on("mouseup.drag",w,No),Tv(y.view),Ps(y),f=!1,s=y.clientX,u=y.clientY,N("start",y))}}function b(y){if(Zr(y),!f){var k=y.clientX-s,N=y.clientY-u;f=k*k+N*N>c}o.mouse("drag",y)}function w(y){Pt(y.view).on("mousemove.drag mouseup.drag",null),Ov(y.view,f),Zr(y),o.mouse("end",y)}function _(y,k){if(e.call(this,y,k)){var N=y.changedTouches,j=n.call(this,y,k),E=N.length,C,S;for(C=0;C<E;++C)(S=x(this,j,y,k,N[C].identifier,N[C]))&&(Ps(y),S("start",y,N[C]))}}function g(y){var k=y.changedTouches,N=k.length,j,E;for(j=0;j<N;++j)(E=o[k[j].identifier])&&(Zr(y),E("drag",y,k[j]))}function v(y){var k=y.changedTouches,N=k.length,j,E;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),j=0;j<N;++j)(E=o[k[j].identifier])&&(Ps(y),E("end",y,k[j]))}function x(y,k,N,j,E,C){var S=a.copy(),T=rn(C||N,k),O,P,A;if((A=r.call(y,new Hu("beforestart",{sourceEvent:N,target:d,identifier:E,active:l,x:T[0],y:T[1],dx:0,dy:0,dispatch:S}),j))!=null)return O=A.x-T[0]||0,P=A.y-T[1]||0,function L(U,z,H){var D=T,M;switch(U){case"start":o[E]=L,M=l++;break;case"end":delete o[E],--l;case"drag":T=rn(H||z,k),M=l;break}S.call(U,y,new Hu(U,{sourceEvent:z,subject:A,target:d,identifier:E,active:M,x:T[0]+O,y:T[1]+P,dx:T[0]-D[0],dy:T[1]-D[1],dispatch:S}),j)}}return d.filter=function(y){return arguments.length?(e=typeof y=="function"?y:ua(!!y),d):e},d.container=function(y){return arguments.length?(n=typeof y=="function"?y:ua(y),d):n},d.subject=function(y){return arguments.length?(r=typeof y=="function"?y:ua(y),d):r},d.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:ua(!!y),d):i},d.on=function(){var y=a.on.apply(a,arguments);return y===a?d:y},d.clickDistance=function(y){return arguments.length?(c=(y=+y)*y,d):Math.sqrt(c)},d}function vf(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Av(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function Uo(){}var Eo=.7,ul=1/Eo,Xr="\\s*([+-]?\\d+)\\s*",So="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vT=/^#([0-9a-f]{3,8})$/,yT=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),xT=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),bT=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${So}\\)$`),_T=new RegExp(`^rgba\\(${un},${un},${un},${So}\\)$`),wT=new RegExp(`^hsl\\(${So},${un},${un}\\)$`),kT=new RegExp(`^hsla\\(${So},${un},${un},${So}\\)$`),jh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vf(Uo,To,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Nh,formatHex:Nh,formatHex8:jT,formatHsl:NT,formatRgb:Eh,toString:Eh});function Nh(){return this.rgb().formatHex()}function jT(){return this.rgb().formatHex8()}function NT(){return Cv(this).formatHsl()}function Eh(){return this.rgb().formatRgb()}function To(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=vT.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Sh(n):r===3?new ft(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?ca(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?ca(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=yT.exec(e))?new ft(n[1],n[2],n[3],1):(n=xT.exec(e))?new ft(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=bT.exec(e))?ca(n[1],n[2],n[3],n[4]):(n=_T.exec(e))?ca(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=wT.exec(e))?Ah(n[1],n[2]/100,n[3]/100,1):(n=kT.exec(e))?Ah(n[1],n[2]/100,n[3]/100,n[4]):jh.hasOwnProperty(e)?Sh(jh[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function Sh(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function ca(e,n,r,i){return i<=0&&(e=n=r=NaN),new ft(e,n,r,i)}function ET(e){return e instanceof Uo||(e=To(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function Vu(e,n,r,i){return arguments.length===1?ET(e):new ft(e,n,r,i??1)}function ft(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}vf(ft,Vu,Av(Uo,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(yr(this.r),yr(this.g),yr(this.b),cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Th,formatHex:Th,formatHex8:ST,formatRgb:Oh,toString:Oh}));function Th(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function ST(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oh(){const e=cl(this.opacity);return`${e===1?"rgb(":"rgba("}${yr(this.r)}, ${yr(this.g)}, ${yr(this.b)}${e===1?")":`, ${e})`}`}function cl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=yr(e),(e<16?"0":"")+e.toString(16)}function Ah(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Wt(e,n,r,i)}function Cv(e){if(e instanceof Wt)return new Wt(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=To(e)),!e)return new Wt;if(e instanceof Wt)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),l=NaN,s=a-o,u=(a+o)/2;return s?(n===a?l=(r-i)/s+(r<i)*6:r===a?l=(i-n)/s+2:l=(n-r)/s+4,s/=u<.5?a+o:2-a-o,l*=60):s=u>0&&u<1?0:l,new Wt(l,s,u,e.opacity)}function TT(e,n,r,i){return arguments.length===1?Cv(e):new Wt(e,n,r,i??1)}function Wt(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}vf(Wt,TT,Av(Uo,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new Wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new Wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,o=2*r-i;return new ft(Ds(e>=240?e-240:e+120,o,i),Ds(e,o,i),Ds(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Wt(Ch(this.h),fa(this.s),fa(this.l),cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cl(this.opacity);return`${e===1?"hsl(":"hsla("}${Ch(this.h)}, ${fa(this.s)*100}%, ${fa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ch(e){return e=(e||0)%360,e<0?e+360:e}function fa(e){return Math.max(0,Math.min(1,e||0))}function Ds(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const Iv=e=>()=>e;function OT(e,n){return function(r){return e+r*n}}function AT(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function CT(e){return(e=+e)==1?Pv:function(n,r){return r-n?AT(n,r,e):Iv(isNaN(n)?r:n)}}function Pv(e,n){var r=n-e;return r?OT(e,r):Iv(isNaN(e)?n:e)}const Ih=function e(n){var r=CT(n);function i(o,a){var l=r((o=Vu(o)).r,(a=Vu(a)).r),s=r(o.g,a.g),u=r(o.b,a.b),f=Pv(o.opacity,a.opacity);return function(p){return o.r=l(p),o.g=s(p),o.b=u(p),o.opacity=f(p),o+""}}return i.gamma=e,i}(1);function zn(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var Wu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ms=new RegExp(Wu.source,"g");function IT(e){return function(){return e}}function PT(e){return function(n){return e(n)+""}}function DT(e,n){var r=Wu.lastIndex=Ms.lastIndex=0,i,o,a,l=-1,s=[],u=[];for(e=e+"",n=n+"";(i=Wu.exec(e))&&(o=Ms.exec(n));)(a=o.index)>r&&(a=n.slice(r,a),s[l]?s[l]+=a:s[++l]=a),(i=i[0])===(o=o[0])?s[l]?s[l]+=o:s[++l]=o:(s[++l]=null,u.push({i:l,x:zn(i,o)})),r=Ms.lastIndex;return r<n.length&&(a=n.slice(r),s[l]?s[l]+=a:s[++l]=a),s.length<2?u[0]?PT(u[0].x):IT(n):(n=u.length,function(f){for(var p=0,c;p<n;++p)s[(c=u[p]).i]=c.x(f);return s.join("")})}var Ph=180/Math.PI,Gu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dv(e,n,r,i,o,a){var l,s,u;return(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l),(u=e*r+n*i)&&(r-=e*u,i-=n*u),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,u/=s),e*i<n*r&&(e=-e,n=-n,u=-u,l=-l),{translateX:o,translateY:a,rotate:Math.atan2(n,e)*Ph,skewX:Math.atan(u)*Ph,scaleX:l,scaleY:s}}var da;function MT(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Gu:Dv(n.a,n.b,n.c,n.d,n.e,n.f)}function RT(e){return e==null||(da||(da=document.createElementNS("http://www.w3.org/2000/svg","g")),da.setAttribute("transform",e),!(e=da.transform.baseVal.consolidate()))?Gu:(e=e.matrix,Dv(e.a,e.b,e.c,e.d,e.e,e.f))}function Mv(e,n,r,i){function o(f){return f.length?f.pop()+" ":""}function a(f,p,c,d,m,b){if(f!==c||p!==d){var w=m.push("translate(",null,n,null,r);b.push({i:w-4,x:zn(f,c)},{i:w-2,x:zn(p,d)})}else(c||d)&&m.push("translate("+c+n+d+r)}function l(f,p,c,d){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:zn(f,p)})):p&&c.push(o(c)+"rotate("+p+i)}function s(f,p,c,d){f!==p?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:zn(f,p)}):p&&c.push(o(c)+"skewX("+p+i)}function u(f,p,c,d,m,b){if(f!==c||p!==d){var w=m.push(o(m)+"scale(",null,",",null,")");b.push({i:w-4,x:zn(f,c)},{i:w-2,x:zn(p,d)})}else(c!==1||d!==1)&&m.push(o(m)+"scale("+c+","+d+")")}return function(f,p){var c=[],d=[];return f=e(f),p=e(p),a(f.translateX,f.translateY,p.translateX,p.translateY,c,d),l(f.rotate,p.rotate,c,d),s(f.skewX,p.skewX,c,d),u(f.scaleX,f.scaleY,p.scaleX,p.scaleY,c,d),f=p=null,function(m){for(var b=-1,w=d.length,_;++b<w;)c[(_=d[b]).i]=_.x(m);return c.join("")}}}var LT=Mv(MT,"px, ","px)","deg)"),$T=Mv(RT,", ",")",")"),zT=1e-12;function Dh(e){return((e=Math.exp(e))+1/e)/2}function FT(e){return((e=Math.exp(e))-1/e)/2}function UT(e){return((e=Math.exp(2*e))-1)/(e+1)}const BT=function e(n,r,i){function o(a,l){var s=a[0],u=a[1],f=a[2],p=l[0],c=l[1],d=l[2],m=p-s,b=c-u,w=m*m+b*b,_,g;if(w<zT)g=Math.log(d/f)/n,_=function(j){return[s+j*m,u+j*b,f*Math.exp(n*j*g)]};else{var v=Math.sqrt(w),x=(d*d-f*f+i*w)/(2*f*r*v),y=(d*d-f*f-i*w)/(2*d*r*v),k=Math.log(Math.sqrt(x*x+1)-x),N=Math.log(Math.sqrt(y*y+1)-y);g=(N-k)/n,_=function(j){var E=j*g,C=Dh(k),S=f/(r*v)*(C*UT(n*E+k)-FT(k));return[s+S*m,u+S*b,f*C/Dh(n*E+k)]}}return _.duration=g*1e3*n/Math.SQRT2,_}return o.rho=function(a){var l=Math.max(.001,+a),s=l*l,u=s*s;return e(l,s,u)},o}(Math.SQRT2,2,4);var si=0,Hi=0,Ii=0,Rv=1e3,fl,Vi,dl=0,Er=0,Kl=0,Oo=typeof performance=="object"&&performance.now?performance:Date,Lv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yf(){return Er||(Lv(qT),Er=Oo.now()+Kl)}function qT(){Er=0}function hl(){this._call=this._time=this._next=null}hl.prototype=xf.prototype={constructor:hl,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?yf():+r)+(n==null?0:+n),!this._next&&Vi!==this&&(Vi?Vi._next=this:fl=this,Vi=this),this._call=e,this._time=r,Ku()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ku())}};function xf(e,n,r){var i=new hl;return i.restart(e,n,r),i}function HT(){yf(),++si;for(var e=fl,n;e;)(n=Er-e._time)>=0&&e._call.call(void 0,n),e=e._next;--si}function Mh(){Er=(dl=Oo.now())+Kl,si=Hi=0;try{HT()}finally{si=0,WT(),Er=0}}function VT(){var e=Oo.now(),n=e-dl;n>Rv&&(Kl-=n,dl=e)}function WT(){for(var e,n=fl,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:fl=r);Vi=e,Ku(i)}function Ku(e){if(!si){Hi&&(Hi=clearTimeout(Hi));var n=e-Er;n>24?(e<1/0&&(Hi=setTimeout(Mh,e-Oo.now()-Kl)),Ii&&(Ii=clearInterval(Ii))):(Ii||(dl=Oo.now(),Ii=setInterval(VT,Rv)),si=1,Lv(Mh))}}function Rh(e,n,r){var i=new hl;return n=n==null?0:+n,i.restart(o=>{i.stop(),e(o+n)},n,r),i}var GT=Fo("start","end","cancel","interrupt"),KT=[],$v=0,Lh=1,Yu=2,Oa=3,$h=4,Qu=5,Aa=6;function Yl(e,n,r,i,o,a){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;YT(e,r,{name:n,index:i,group:o,on:GT,tween:KT,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:$v})}function bf(e,n){var r=Xt(e,n);if(r.state>$v)throw new Error("too late; already scheduled");return r}function fn(e,n){var r=Xt(e,n);if(r.state>Oa)throw new Error("too late; already running");return r}function Xt(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function YT(e,n,r){var i=e.__transition,o;i[n]=r,r.timer=xf(a,0,r.time);function a(f){r.state=Lh,r.timer.restart(l,r.delay,r.time),r.delay<=f&&l(f-r.delay)}function l(f){var p,c,d,m;if(r.state!==Lh)return u();for(p in i)if(m=i[p],m.name===r.name){if(m.state===Oa)return Rh(l);m.state===$h?(m.state=Aa,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete i[p]):+p<n&&(m.state=Aa,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete i[p])}if(Rh(function(){r.state===Oa&&(r.state=$h,r.timer.restart(s,r.delay,r.time),s(f))}),r.state=Yu,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Yu){for(r.state=Oa,o=new Array(d=r.tween.length),p=0,c=-1;p<d;++p)(m=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(o[++c]=m);o.length=c+1}}function s(f){for(var p=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(u),r.state=Qu,1),c=-1,d=o.length;++c<d;)o[c].call(e,p);r.state===Qu&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Aa,r.timer.stop(),delete i[n];for(var f in i)return;delete e.__transition}}function Ca(e,n){var r=e.__transition,i,o,a=!0,l;if(r){n=n==null?null:n+"";for(l in r){if((i=r[l]).name!==n){a=!1;continue}o=i.state>Yu&&i.state<Qu,i.state=Aa,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[l]}a&&delete e.__transition}}function QT(e){return this.each(function(){Ca(this,e)})}function ZT(e,n){var r,i;return function(){var o=fn(this,e),a=o.tween;if(a!==r){i=r=a;for(var l=0,s=i.length;l<s;++l)if(i[l].name===n){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function XT(e,n,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=fn(this,e),l=a.tween;if(l!==i){o=(i=l).slice();for(var s={name:n,value:r},u=0,f=o.length;u<f;++u)if(o[u].name===n){o[u]=s;break}u===f&&o.push(s)}a.tween=o}}function JT(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=Xt(this.node(),r).tween,o=0,a=i.length,l;o<a;++o)if((l=i[o]).name===e)return l.value;return null}return this.each((n==null?ZT:XT)(r,e,n))}function _f(e,n,r){var i=e._id;return e.each(function(){var o=fn(this,i);(o.value||(o.value={}))[n]=r.apply(this,arguments)}),function(o){return Xt(o,i).value[n]}}function zv(e,n){var r;return(typeof n=="number"?zn:n instanceof To?Ih:(r=To(n))?(n=r,Ih):DT)(e,n)}function eO(e){return function(){this.removeAttribute(e)}}function tO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nO(e,n,r){var i,o=r+"",a;return function(){var l=this.getAttribute(e);return l===o?null:l===i?a:a=n(i=l,r)}}function rO(e,n,r){var i,o=r+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===i?a:a=n(i=l,r)}}function iO(e,n,r){var i,o,a;return function(){var l,s=r(this),u;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=s+"",l===u?null:l===i&&u===o?a:(o=u,a=n(i=l,s)))}}function oO(e,n,r){var i,o,a;return function(){var l,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=s+"",l===u?null:l===i&&u===o?a:(o=u,a=n(i=l,s)))}}function aO(e,n){var r=Gl(e),i=r==="transform"?$T:zv;return this.attrTween(e,typeof n=="function"?(r.local?oO:iO)(r,i,_f(this,"attr."+e,n)):n==null?(r.local?tO:eO)(r):(r.local?rO:nO)(r,i,n))}function lO(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function sO(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function uO(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&sO(e,a)),r}return o._value=n,o}function cO(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&lO(e,a)),r}return o._value=n,o}function fO(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=Gl(e);return this.tween(r,(i.local?uO:cO)(i,n))}function dO(e,n){return function(){bf(this,e).delay=+n.apply(this,arguments)}}function hO(e,n){return n=+n,function(){bf(this,e).delay=n}}function pO(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?dO:hO)(n,e)):Xt(this.node(),n).delay}function gO(e,n){return function(){fn(this,e).duration=+n.apply(this,arguments)}}function mO(e,n){return n=+n,function(){fn(this,e).duration=n}}function vO(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?gO:mO)(n,e)):Xt(this.node(),n).duration}function yO(e,n){if(typeof n!="function")throw new Error;return function(){fn(this,e).ease=n}}function xO(e){var n=this._id;return arguments.length?this.each(yO(n,e)):Xt(this.node(),n).ease}function bO(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;fn(this,e).ease=r}}function _O(e){if(typeof e!="function")throw new Error;return this.each(bO(this._id,e))}function wO(e){typeof e!="function"&&(e=yv(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],l=a.length,s=i[o]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&s.push(u);return new On(i,this._parents,this._name,this._id)}function kO(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],p=u.length,c=l[s]=new Array(p),d,m=0;m<p;++m)(d=u[m]||f[m])&&(c[m]=d);for(;s<i;++s)l[s]=n[s];return new On(l,this._parents,this._name,this._id)}function jO(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function NO(e,n,r){var i,o,a=jO(n)?bf:fn;return function(){var l=a(this,e),s=l.on;s!==i&&(o=(i=s).copy()).on(n,r),l.on=o}}function EO(e,n){var r=this._id;return arguments.length<2?Xt(this.node(),r).on.on(e):this.each(NO(r,e,n))}function SO(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function TO(){return this.on("end.remove",SO(this._id))}function OO(e){var n=this._name,r=this._id;typeof e!="function"&&(e=gf(e));for(var i=this._groups,o=i.length,a=new Array(o),l=0;l<o;++l)for(var s=i[l],u=s.length,f=a[l]=new Array(u),p,c,d=0;d<u;++d)(p=s[d])&&(c=e.call(p,p.__data__,d,s))&&("__data__"in p&&(c.__data__=p.__data__),f[d]=c,Yl(f[d],n,r,d,f,Xt(p,r)));return new On(a,this._parents,n,r)}function AO(e){var n=this._name,r=this._id;typeof e!="function"&&(e=vv(e));for(var i=this._groups,o=i.length,a=[],l=[],s=0;s<o;++s)for(var u=i[s],f=u.length,p,c=0;c<f;++c)if(p=u[c]){for(var d=e.call(p,p.__data__,c,u),m,b=Xt(p,r),w=0,_=d.length;w<_;++w)(m=d[w])&&Yl(m,n,r,w,d,b);a.push(d),l.push(p)}return new On(a,l,n,r)}var CO=zo.prototype.constructor;function IO(){return new CO(this._groups,this._parents)}function PO(e,n){var r,i,o;return function(){var a=li(this,e),l=(this.style.removeProperty(e),li(this,e));return a===l?null:a===r&&l===i?o:o=n(r=a,i=l)}}function Fv(e){return function(){this.style.removeProperty(e)}}function DO(e,n,r){var i,o=r+"",a;return function(){var l=li(this,e);return l===o?null:l===i?a:a=n(i=l,r)}}function MO(e,n,r){var i,o,a;return function(){var l=li(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),li(this,e))),l===u?null:l===i&&u===o?a:(o=u,a=n(i=l,s))}}function RO(e,n){var r,i,o,a="style."+n,l="end."+a,s;return function(){var u=fn(this,e),f=u.on,p=u.value[a]==null?s||(s=Fv(n)):void 0;(f!==r||o!==p)&&(i=(r=f).copy()).on(l,o=p),u.on=i}}function LO(e,n,r){var i=(e+="")=="transform"?LT:zv;return n==null?this.styleTween(e,PO(e,i)).on("end.style."+e,Fv(e)):typeof n=="function"?this.styleTween(e,MO(e,i,_f(this,"style."+e,n))).each(RO(this._id,e)):this.styleTween(e,DO(e,i,n),r).on("end.style."+e,null)}function $O(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function zO(e,n,r){var i,o;function a(){var l=n.apply(this,arguments);return l!==o&&(i=(o=l)&&$O(e,l,r)),i}return a._value=n,a}function FO(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,zO(e,n,r??""))}function UO(e){return function(){this.textContent=e}}function BO(e){return function(){var n=e(this);this.textContent=n??""}}function qO(e){return this.tween("text",typeof e=="function"?BO(_f(this,"text",e)):UO(e==null?"":e+""))}function HO(e){return function(n){this.textContent=e.call(this,n)}}function VO(e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&HO(o)),n}return i._value=e,i}function WO(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,VO(e))}function GO(){for(var e=this._name,n=this._id,r=Uv(),i=this._groups,o=i.length,a=0;a<o;++a)for(var l=i[a],s=l.length,u,f=0;f<s;++f)if(u=l[f]){var p=Xt(u,n);Yl(u,e,r,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new On(i,this._parents,e,r)}function KO(){var e,n,r=this,i=r._id,o=r.size();return new Promise(function(a,l){var s={value:l},u={value:function(){--o===0&&a()}};r.each(function(){var f=fn(this,i),p=f.on;p!==e&&(n=(e=p).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),f.on=n}),o===0&&a()})}var YO=0;function On(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function Uv(){return++YO}var dn=zo.prototype;On.prototype={constructor:On,select:OO,selectAll:AO,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:wO,merge:kO,selection:IO,transition:GO,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:EO,attr:aO,attrTween:fO,style:LO,styleTween:FO,text:qO,textTween:WO,remove:TO,tween:JT,delay:pO,duration:vO,ease:xO,easeVarying:_O,end:KO,[Symbol.iterator]:dn[Symbol.iterator]};function QO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZO={time:null,delay:0,duration:250,ease:QO};function XO(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function JO(e){var n,r;e instanceof On?(n=e._id,e=e._name):(n=Uv(),(r=ZO).time=yf(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var l=i[a],s=l.length,u,f=0;f<s;++f)(u=l[f])&&Yl(u,e,n,f,l,r||XO(u,n));return new On(i,this._parents,e,n)}zo.prototype.interrupt=QT;zo.prototype.transition=JO;const ha=e=>()=>e;function e4(e,{sourceEvent:n,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function _n(e,n,r){this.k=e,this.x=n,this.y=r}_n.prototype={constructor:_n,scale:function(e){return e===1?this:new _n(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new _n(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wf=new _n(1,0,0);nn.prototype=_n.prototype;function nn(e){for(;!e.__zoom;)if(!(e=e.parentNode))return wf;return e.__zoom}function Rs(e){e.stopImmediatePropagation()}function Pi(e){e.preventDefault(),e.stopImmediatePropagation()}function t4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function n4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function zh(){return this.__zoom||wf}function r4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function i4(){return navigator.maxTouchPoints||"ontouchstart"in this}function o4(e,n,r){var i=e.invertX(n[0][0])-r[0][0],o=e.invertX(n[1][0])-r[1][0],a=e.invertY(n[0][1])-r[0][1],l=e.invertY(n[1][1])-r[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function a4(){var e=t4,n=n4,r=o4,i=r4,o=i4,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,u=BT,f=Fo("start","zoom","end"),p,c,d,m=500,b=150,w=0,_=10;function g(A){A.property("__zoom",zh).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",S).filter(o).on("touchstart.zoom",T).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(A,L,U,z){var H=A.selection?A.selection():A;H.property("__zoom",zh),A!==H?k(A,L,U,z):H.interrupt().each(function(){N(this,arguments).event(z).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},g.scaleBy=function(A,L,U,z){g.scaleTo(A,function(){var H=this.__zoom.k,D=typeof L=="function"?L.apply(this,arguments):L;return H*D},U,z)},g.scaleTo=function(A,L,U,z){g.transform(A,function(){var H=n.apply(this,arguments),D=this.__zoom,M=U==null?y(H):typeof U=="function"?U.apply(this,arguments):U,I=D.invert(M),F=typeof L=="function"?L.apply(this,arguments):L;return r(x(v(D,F),M,I),H,l)},U,z)},g.translateBy=function(A,L,U,z){g.transform(A,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof U=="function"?U.apply(this,arguments):U),n.apply(this,arguments),l)},null,z)},g.translateTo=function(A,L,U,z,H){g.transform(A,function(){var D=n.apply(this,arguments),M=this.__zoom,I=z==null?y(D):typeof z=="function"?z.apply(this,arguments):z;return r(wf.translate(I[0],I[1]).scale(M.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof U=="function"?-U.apply(this,arguments):-U),D,l)},z,H)};function v(A,L){return L=Math.max(a[0],Math.min(a[1],L)),L===A.k?A:new _n(L,A.x,A.y)}function x(A,L,U){var z=L[0]-U[0]*A.k,H=L[1]-U[1]*A.k;return z===A.x&&H===A.y?A:new _n(A.k,z,H)}function y(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function k(A,L,U,z){A.on("start.zoom",function(){N(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(z).end()}).tween("zoom",function(){var H=this,D=arguments,M=N(H,D).event(z),I=n.apply(H,D),F=U==null?y(I):typeof U=="function"?U.apply(H,D):U,R=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),W=H.__zoom,B=typeof L=="function"?L.apply(H,D):L,$=u(W.invert(F).concat(R/W.k),B.invert(F).concat(R/B.k));return function(V){if(V===1)V=B;else{var Y=$(V),Q=R/Y[2];V=new _n(Q,F[0]-Y[0]*Q,F[1]-Y[1]*Q)}M.zoom(null,V)}})}function N(A,L,U){return!U&&A.__zooming||new j(A,L)}function j(A,L){this.that=A,this.args=L,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,L),this.taps=0}j.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,L){return this.mouse&&A!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var L=Pt(this.that).datum();f.call(A,this.that,new e4(A,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:f}),L)}};function E(A,...L){if(!e.apply(this,arguments))return;var U=N(this,L).event(A),z=this.__zoom,H=Math.max(a[0],Math.min(a[1],z.k*Math.pow(2,i.apply(this,arguments)))),D=rn(A);if(U.wheel)(U.mouse[0][0]!==D[0]||U.mouse[0][1]!==D[1])&&(U.mouse[1]=z.invert(U.mouse[0]=D)),clearTimeout(U.wheel);else{if(z.k===H)return;U.mouse=[D,z.invert(D)],Ca(this),U.start()}Pi(A),U.wheel=setTimeout(M,b),U.zoom("mouse",r(x(v(z,H),U.mouse[0],U.mouse[1]),U.extent,l));function M(){U.wheel=null,U.end()}}function C(A,...L){if(d||!e.apply(this,arguments))return;var U=A.currentTarget,z=N(this,L,!0).event(A),H=Pt(A.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",R,!0),D=rn(A,U),M=A.clientX,I=A.clientY;Tv(A.view),Rs(A),z.mouse=[D,this.__zoom.invert(D)],Ca(this),z.start();function F(W){if(Pi(W),!z.moved){var B=W.clientX-M,$=W.clientY-I;z.moved=B*B+$*$>w}z.event(W).zoom("mouse",r(x(z.that.__zoom,z.mouse[0]=rn(W,U),z.mouse[1]),z.extent,l))}function R(W){H.on("mousemove.zoom mouseup.zoom",null),Ov(W.view,z.moved),Pi(W),z.event(W).end()}}function S(A,...L){if(e.apply(this,arguments)){var U=this.__zoom,z=rn(A.changedTouches?A.changedTouches[0]:A,this),H=U.invert(z),D=U.k*(A.shiftKey?.5:2),M=r(x(v(U,D),z,H),n.apply(this,L),l);Pi(A),s>0?Pt(this).transition().duration(s).call(k,M,z,A):Pt(this).call(g.transform,M,z,A)}}function T(A,...L){if(e.apply(this,arguments)){var U=A.touches,z=U.length,H=N(this,L,A.changedTouches.length===z).event(A),D,M,I,F;for(Rs(A),M=0;M<z;++M)I=U[M],F=rn(I,this),F=[F,this.__zoom.invert(F),I.identifier],H.touch0?!H.touch1&&H.touch0[2]!==F[2]&&(H.touch1=F,H.taps=0):(H.touch0=F,D=!0,H.taps=1+!!p);p&&(p=clearTimeout(p)),D&&(H.taps<2&&(c=F[0],p=setTimeout(function(){p=null},m)),Ca(this),H.start())}}function O(A,...L){if(this.__zooming){var U=N(this,L).event(A),z=A.changedTouches,H=z.length,D,M,I,F;for(Pi(A),D=0;D<H;++D)M=z[D],I=rn(M,this),U.touch0&&U.touch0[2]===M.identifier?U.touch0[0]=I:U.touch1&&U.touch1[2]===M.identifier&&(U.touch1[0]=I);if(M=U.that.__zoom,U.touch1){var R=U.touch0[0],W=U.touch0[1],B=U.touch1[0],$=U.touch1[1],V=(V=B[0]-R[0])*V+(V=B[1]-R[1])*V,Y=(Y=$[0]-W[0])*Y+(Y=$[1]-W[1])*Y;M=v(M,Math.sqrt(V/Y)),I=[(R[0]+B[0])/2,(R[1]+B[1])/2],F=[(W[0]+$[0])/2,(W[1]+$[1])/2]}else if(U.touch0)I=U.touch0[0],F=U.touch0[1];else return;U.zoom("touch",r(x(M,I,F),U.extent,l))}}function P(A,...L){if(this.__zooming){var U=N(this,L).event(A),z=A.changedTouches,H=z.length,D,M;for(Rs(A),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),D=0;D<H;++D)M=z[D],U.touch0&&U.touch0[2]===M.identifier?delete U.touch0:U.touch1&&U.touch1[2]===M.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(M=rn(M,this),Math.hypot(c[0]-M[0],c[1]-M[1])<_)){var I=Pt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return g.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:ha(+A),g):i},g.filter=function(A){return arguments.length?(e=typeof A=="function"?A:ha(!!A),g):e},g.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:ha(!!A),g):o},g.extent=function(A){return arguments.length?(n=typeof A=="function"?A:ha([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),g):n},g.scaleExtent=function(A){return arguments.length?(a[0]=+A[0],a[1]=+A[1],g):[a[0],a[1]]},g.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(A){return arguments.length?(r=A,g):r},g.duration=function(A){return arguments.length?(s=+A,g):s},g.interpolate=function(A){return arguments.length?(u=A,g):u},g.on=function(){var A=f.on.apply(f,arguments);return A===f?g:A},g.clickDistance=function(A){return arguments.length?(w=(A=+A)*A,g):Math.sqrt(w)},g.tapDistance=function(A){return arguments.length?(_=+A,g):_},g}class Fh extends Map{constructor(n,r=u4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[i,o]of n)this.set(i,o)}get(n){return super.get(Uh(this,n))}has(n){return super.has(Uh(this,n))}set(n,r){return super.set(l4(this,n),r)}delete(n){return super.delete(s4(this,n))}}function Uh({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):r}function l4({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function s4({_intern:e,_key:n},r){const i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function u4(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bh(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function qh(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function c4(e,n){let r=0;for(let i of e)(i=+i)&&(r+=i);return r}var f4=typeof global=="object"&&global&&global.Object===Object&&global,d4=typeof self=="object"&&self&&self.Object===Object&&self,Bv=f4||d4||Function("return this")(),pl=Bv.Symbol,qv=Object.prototype,h4=qv.hasOwnProperty,p4=qv.toString,Di=pl?pl.toStringTag:void 0;function g4(e){var n=h4.call(e,Di),r=e[Di];try{e[Di]=void 0;var i=!0}catch{}var o=p4.call(e);return i&&(n?e[Di]=r:delete e[Di]),o}var m4=Object.prototype,v4=m4.toString;function y4(e){return v4.call(e)}var x4="[object Null]",b4="[object Undefined]",Hh=pl?pl.toStringTag:void 0;function _4(e){return e==null?e===void 0?b4:x4:Hh&&Hh in Object(e)?g4(e):y4(e)}function w4(e){return e!=null&&typeof e=="object"}var k4="[object Symbol]";function j4(e){return typeof e=="symbol"||w4(e)&&_4(e)==k4}var N4=/\s/;function E4(e){for(var n=e.length;n--&&N4.test(e.charAt(n)););return n}var S4=/^\s+/;function T4(e){return e&&e.slice(0,E4(e)+1).replace(S4,"")}function gl(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Vh=NaN,O4=/^[-+]0x[0-9a-f]+$/i,A4=/^0b[01]+$/i,C4=/^0o[0-7]+$/i,I4=parseInt;function Wh(e){if(typeof e=="number")return e;if(j4(e))return Vh;if(gl(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=gl(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=T4(e);var r=A4.test(e);return r||C4.test(e)?I4(e.slice(2),r?2:8):O4.test(e)?Vh:+e}var Ls=function(){return Bv.Date.now()},P4="Expected a function",D4=Math.max,M4=Math.min;function Hv(e,n,r){var i,o,a,l,s,u,f=0,p=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError(P4);n=Wh(n)||0,gl(r)&&(p=!!r.leading,c="maxWait"in r,a=c?D4(Wh(r.maxWait)||0,n):a,d="trailing"in r?!!r.trailing:d);function m(N){var j=i,E=o;return i=o=void 0,f=N,l=e.apply(E,j),l}function b(N){return f=N,s=setTimeout(g,n),p?m(N):l}function w(N){var j=N-u,E=N-f,C=n-j;return c?M4(C,a-E):C}function _(N){var j=N-u,E=N-f;return u===void 0||j>=n||j<0||c&&E>=a}function g(){var N=Ls();if(_(N))return v(N);s=setTimeout(g,w(N))}function v(N){return s=void 0,d&&i?m(N):(i=o=void 0,l)}function x(){s!==void 0&&clearTimeout(s),f=0,i=u=o=s=void 0}function y(){return s===void 0?l:v(Ls())}function k(){var N=Ls(),j=_(N);if(i=arguments,o=this,u=N,j){if(s===void 0)return b(u);if(c)return clearTimeout(s),s=setTimeout(g,n),m(u)}return s===void 0&&(s=setTimeout(g,n)),l}return k.cancel=x,k.flush=y,k}var R4="Expected a function";function L4(e,n,r){var i=!0,o=!0;if(typeof e!="function")throw new TypeError(R4);return gl(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Hv(e,n,{leading:i,maxWait:n,trailing:o})}var xr=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-xr.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?xr.Bounce.In(e*2)*.5:xr.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),Wi=function(){return performance.now()},Vv=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var l=a[o];(n=l._group)===null||n===void 0||n.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=Wi()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],l=!r;a&&a.update(n,l)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},e}(),Zu={Linear:function(e,n){var r=e.length-1,i=r*n,o=Math.floor(i),a=Zu.Utils.Linear;return n<0?a(e[0],e[1],i):n>1?a(e[r],e[r-1],r-i):a(e[o],e[o+1>r?r:o+1],i-o)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},Wv=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Xu=new Vv,Gh=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=xr.Linear.None,this._interpolationFunction=Zu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Wv.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Xu,Xu.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=Wi()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var a in this._valuesEnd)o[a]=this._valuesEnd[a];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,i,o,a){for(var l in i){var s=n[l],u=Array.isArray(s),f=u?"array":typeof s,p=!u&&Array.isArray(i[l]);if(!(f==="undefined"||f==="function")){if(p){var c=i[l];if(c.length===0)continue;for(var d=[s],m=0,b=c.length;m<b;m+=1){var w=this._handleRelativeValue(s,c[m]);if(isNaN(w)){p=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(w)}p&&(i[l]=d)}if((f==="object"||u)&&s&&!p){r[l]=u?[]:{};var _=s;for(var g in _)r[l][g]=_[g];o[l]=u?[]:{};var c=i[l];if(!this._isDynamic){var v={};for(var g in c)v[g]=c[g];i[l]=c=v}this._setupProperties(_,r[l],c,o[l],a)}else(typeof r[l]>"u"||a)&&(r[l]=s),u||(r[l]*=1),p?o[l]=i[l].slice().reverse():o[l]=r[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=Wi()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=Wi()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=xr.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=Zu.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var i=this,o;if(n===void 0&&(n=Wi()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=n-this._startTime,s=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),u=this._duration+this._repeat*s,f=function(){if(i._duration===0||l>u)return 1;var w=Math.trunc(l/s),_=l-w*s,g=Math.min(_/i._duration,1);return g===0&&l===i._duration?1:g},p=f(),c=this._easingFunction(p);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,c),this._onUpdateCallback&&this._onUpdateCallback(this._object,p),this._duration===0||l>=this._duration)if(this._repeat>0){var d=Math.min(Math.trunc((l-this._duration)/s)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=d);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*d,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var m=0,b=this._chainedTweens.length;m<b;m++)this._chainedTweens[m].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,o){for(var a in i)if(r[a]!==void 0){var l=r[a]||0,s=i[a],u=Array.isArray(n[a]),f=Array.isArray(s),p=!u&&f;p?n[a]=this._interpolationFunction(s,o):typeof s=="object"&&s?this._updateProperties(n[a],l,s,o):(s=this._handleRelativeValue(l,s),typeof s=="number"&&(n[a]=l+(s-l)*o))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}();Wv.nextId;var cn=Xu;cn.getAll.bind(cn);cn.removeAll.bind(cn);cn.add.bind(cn);cn.remove.bind(cn);cn.update.bind(cn);function Kh(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function $4(e){if(Array.isArray(e))return e}function z4(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function F4(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function U4(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function B4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4(e,n){return $4(e)||U4(e,n)||H4(e,n)||B4()}function H4(e,n){if(e){if(typeof e=="string")return Kh(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kh(e,n):void 0}}var V4=F4(function e(n,r){var i=r.default,o=i===void 0?null:i,a=r.triggerUpdate,l=a===void 0?!0:a,s=r.onChange,u=s===void 0?function(f,p){}:s;z4(this,e),this.name=n,this.defaultVal=o,this.triggerUpdate=l,this.onChange=u});function kf(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,o=i===void 0?{}:i,a=e.methods,l=a===void 0?{}:a,s=e.aliases,u=s===void 0?{}:s,f=e.init,p=f===void 0?function(){}:f,c=e.update,d=c===void 0?function(){}:c,m=Object.keys(o).map(function(b){return new V4(b,o[b])});return function b(){for(var w=arguments.length,_=new Array(w),g=0;g<w;g++)_[g]=arguments[g];var v=!!(this instanceof b&&this.constructor),x=v?_.shift():void 0,y=_[0],k=y===void 0?{}:y,N=Object.assign({},r instanceof Function?r(k):r,{initialised:!1}),j={};function E(T){return C(T,k),S(),E}var C=function(O,P){p.call(E,O,N,P),N.initialised=!0},S=Hv(function(){N.initialised&&(d.call(E,N,j),j={})},1);return m.forEach(function(T){E[T.name]=O(T);function O(P){var A=P.name,L=P.triggerUpdate,U=L===void 0?!1:L,z=P.onChange,H=z===void 0?function(I,F){}:z,D=P.defaultVal,M=D===void 0?null:D;return function(I){var F=N[A];if(!arguments.length)return F;var R=I===void 0?M:I;return N[A]=R,H.call(E,R,N,F),!j.hasOwnProperty(A)&&(j[A]=F),U&&S(),E}}}),Object.keys(l).forEach(function(T){E[T]=function(){for(var O,P=arguments.length,A=new Array(P),L=0;L<P;L++)A[L]=arguments[L];return(O=l[T]).call.apply(O,[E,N].concat(A))}}),Object.entries(u).forEach(function(T){var O=q4(T,2),P=O[0],A=O[1];return E[P]=E[A]}),E.resetProps=function(){return m.forEach(function(T){E[T.name](T.defaultVal)}),E},E.resetProps(),N._rerender=S,v&&x&&E(x),E}}var be=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ml(e)}var W4=/^\s+/,G4=/\s+$/;function ue(e,n){if(e=e||"",n=n||{},e instanceof ue)return e;if(!(this instanceof ue))return new ue(e,n);var r=K4(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,o,a,l,s;return r=n.r/255,i=n.g/255,o=n.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*l+.0722*s},setAlpha:function(n){return this._a=Gv(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=Qh(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=Qh(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var n=Yh(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=Yh(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(n){return Zh(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return X4(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ae(this._r,255)*100)+"%",g:Math.round(Ae(this._g,255)*100)+"%",b:Math.round(Ae(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ae(this._r,255)*100)+"%, "+Math.round(Ae(this._g,255)*100)+"%, "+Math.round(Ae(this._b,255)*100)+"%)":"rgba("+Math.round(Ae(this._r,255)*100)+"%, "+Math.round(Ae(this._g,255)*100)+"%, "+Math.round(Ae(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:c3[Zh(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+Xh(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(n){var a=ue(n);i="#"+Xh(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!r&&o&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return a?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ue(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(n3,arguments)},brighten:function(){return this._applyModification(r3,arguments)},darken:function(){return this._applyModification(i3,arguments)},desaturate:function(){return this._applyModification(J4,arguments)},saturate:function(){return this._applyModification(e3,arguments)},greyscale:function(){return this._applyModification(t3,arguments)},spin:function(){return this._applyModification(o3,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(s3,arguments)},complement:function(){return this._applyCombination(a3,arguments)},monochromatic:function(){return this._applyCombination(u3,arguments)},splitcomplement:function(){return this._applyCombination(l3,arguments)},triad:function(){return this._applyCombination(Jh,[3])},tetrad:function(){return this._applyCombination(Jh,[4])}};ue.fromRatio=function(e,n){if(ml(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=Gi(e[i]));e=r}return ue(e,n)};function K4(e){var n={r:0,g:0,b:0},r=1,i=null,o=null,a=null,l=!1,s=!1;return typeof e=="string"&&(e=p3(e)),ml(e)=="object"&&(hn(e.r)&&hn(e.g)&&hn(e.b)?(n=Y4(e.r,e.g,e.b),l=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):hn(e.h)&&hn(e.s)&&hn(e.v)?(i=Gi(e.s),o=Gi(e.v),n=Z4(e.h,i,o),l=!0,s="hsv"):hn(e.h)&&hn(e.s)&&hn(e.l)&&(i=Gi(e.s),a=Gi(e.l),n=Q4(e.h,i,a),l=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Gv(r),{ok:l,format:e.format||s,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function Y4(e,n,r){return{r:Ae(e,255)*255,g:Ae(n,255)*255,b:Ae(r,255)*255}}function Yh(e,n,r){e=Ae(e,255),n=Ae(n,255),r=Ae(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,l,s=(i+o)/2;if(i==o)a=l=0;else{var u=i-o;switch(l=s>.5?u/(2-i-o):u/(i+o),i){case e:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-e)/u+2;break;case r:a=(e-n)/u+4;break}a/=6}return{h:a,s:l,l:s}}function Q4(e,n,r){var i,o,a;e=Ae(e,360),n=Ae(n,100),r=Ae(r,100);function l(f,p,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?f+(p-f)*6*c:c<1/2?p:c<2/3?f+(p-f)*(2/3-c)*6:f}if(n===0)i=o=a=r;else{var s=r<.5?r*(1+n):r+n-r*n,u=2*r-s;i=l(u,s,e+1/3),o=l(u,s,e),a=l(u,s,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function Qh(e,n,r){e=Ae(e,255),n=Ae(n,255),r=Ae(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,l,s=i,u=i-o;if(l=i===0?0:u/i,i==o)a=0;else{switch(i){case e:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-e)/u+2;break;case r:a=(e-n)/u+4;break}a/=6}return{h:a,s:l,v:s}}function Z4(e,n,r){e=Ae(e,360)*6,n=Ae(n,100),r=Ae(r,100);var i=Math.floor(e),o=e-i,a=r*(1-n),l=r*(1-o*n),s=r*(1-(1-o)*n),u=i%6,f=[r,l,a,a,s,r][u],p=[s,r,r,l,a,a][u],c=[a,a,s,r,r,l][u];return{r:f*255,g:p*255,b:c*255}}function Zh(e,n,r,i){var o=[Gt(Math.round(e).toString(16)),Gt(Math.round(n).toString(16)),Gt(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function X4(e,n,r,i,o){var a=[Gt(Math.round(e).toString(16)),Gt(Math.round(n).toString(16)),Gt(Math.round(r).toString(16)),Gt(Kv(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Xh(e,n,r,i){var o=[Gt(Kv(i)),Gt(Math.round(e).toString(16)),Gt(Math.round(n).toString(16)),Gt(Math.round(r).toString(16))];return o.join("")}ue.equals=function(e,n){return!e||!n?!1:ue(e).toRgbString()==ue(n).toRgbString()};ue.random=function(){return ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function J4(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.s-=n/100,r.s=Ql(r.s),ue(r)}function e3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.s+=n/100,r.s=Ql(r.s),ue(r)}function t3(e){return ue(e).desaturate(100)}function n3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.l+=n/100,r.l=Ql(r.l),ue(r)}function r3(e,n){n=n===0?0:n||10;var r=ue(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),ue(r)}function i3(e,n){n=n===0?0:n||10;var r=ue(e).toHsl();return r.l-=n/100,r.l=Ql(r.l),ue(r)}function o3(e,n){var r=ue(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,ue(r)}function a3(e){var n=ue(e).toHsl();return n.h=(n.h+180)%360,ue(n)}function Jh(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ue(e).toHsl(),i=[ue(e)],o=360/n,a=1;a<n;a++)i.push(ue({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function l3(e){var n=ue(e).toHsl(),r=n.h;return[ue(e),ue({h:(r+72)%360,s:n.s,l:n.l}),ue({h:(r+216)%360,s:n.s,l:n.l})]}function s3(e,n,r){n=n||6,r=r||30;var i=ue(e).toHsl(),o=360/r,a=[ue(e)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,a.push(ue(i));return a}function u3(e,n){n=n||6;for(var r=ue(e).toHsv(),i=r.h,o=r.s,a=r.v,l=[],s=1/n;n--;)l.push(ue({h:i,s:o,v:a})),a=(a+s)%1;return l}ue.mix=function(e,n,r){r=r===0?0:r||50;var i=ue(e).toRgb(),o=ue(n).toRgb(),a=r/100,l={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return ue(l)};ue.readability=function(e,n){var r=ue(e),i=ue(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};ue.isReadable=function(e,n,r){var i=ue.readability(e,n),o,a;switch(a=!1,o=g3(r),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};ue.mostReadable=function(e,n,r){var i=null,o=0,a,l,s,u;r=r||{},l=r.includeFallbackColors,s=r.level,u=r.size;for(var f=0;f<n.length;f++)a=ue.readability(e,n[f]),a>o&&(o=a,i=ue(n[f]));return ue.isReadable(e,i,{level:s,size:u})||!l?i:(r.includeFallbackColors=!1,ue.mostReadable(e,["#fff","#000"],r))};var Ju=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},c3=ue.hexNames=f3(Ju);function f3(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function Gv(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ae(e,n){d3(e)&&(e="100%");var r=h3(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Ql(e){return Math.min(1,Math.max(0,e))}function xt(e){return parseInt(e,16)}function d3(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function h3(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Gt(e){return e.length==1?"0"+e:""+e}function Gi(e){return e<=1&&(e=e*100+"%"),e}function Kv(e){return Math.round(parseFloat(e)*255).toString(16)}function ep(e){return xt(e)/255}var Bt=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function hn(e){return!!Bt.CSS_UNIT.exec(e)}function p3(e){e=e.replace(W4,"").replace(G4,"").toLowerCase();var n=!1;if(Ju[e])e=Ju[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Bt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Bt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Bt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Bt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Bt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Bt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Bt.hex8.exec(e))?{r:xt(r[1]),g:xt(r[2]),b:xt(r[3]),a:ep(r[4]),format:n?"name":"hex8"}:(r=Bt.hex6.exec(e))?{r:xt(r[1]),g:xt(r[2]),b:xt(r[3]),format:n?"name":"hex"}:(r=Bt.hex4.exec(e))?{r:xt(r[1]+""+r[1]),g:xt(r[2]+""+r[2]),b:xt(r[3]+""+r[3]),a:ep(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Bt.hex3.exec(e))?{r:xt(r[1]+""+r[1]),g:xt(r[2]+""+r[2]),b:xt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function g3(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function ec(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function m3(e){if(Array.isArray(e))return ec(e)}function Yv(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function v3(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y3(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Tt(e,n){return e.get(Yv(e,n))}function tp(e,n,r){v3(e,n),n.set(e,r)}function np(e,n,r){return e.set(Yv(e,n),r),r}function x3(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,N3(i.key),i)}}function b3(e,n,r){return n&&x3(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3(e){return m3(e)||_3(e)||E3(e)||w3()}function j3(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function N3(e){var n=j3(e,"string");return typeof n=="symbol"?n:n+""}function E3(e,n){if(e){if(typeof e=="string")return ec(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ec(e,n):void 0}}var S3=123,T3=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Qv=function(n,r,i){return(n<<16)+(r<<8)+i},O3=function(n){var r=ue(n).toRgb(),i=r.r,o=r.g,a=r.b;return Qv(i,o,a)},rp=function(n,r){return n*S3%Math.pow(2,r)},ar=new WeakMap,pn=new WeakMap,A3=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;y3(this,e),tp(this,ar,void 0),tp(this,pn,void 0),np(pn,this,n),this.reset()}return b3(e,[{key:"reset",value:function(){np(ar,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Tt(ar,this).length>=Math.pow(2,24-Tt(pn,this)))return null;var i=Tt(ar,this).length,o=rp(i,Tt(pn,this)),a=T3(i+(o<<24-Tt(pn,this)));return Tt(ar,this).push(r),a}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?O3(r):Qv.apply(void 0,k3(r));if(!i)return null;var o=i&Math.pow(2,24-Tt(pn,this))-1,a=i>>24-Tt(pn,this)&Math.pow(2,Tt(pn,this))-1;return rp(o,Tt(pn,this))!==a||o>=Tt(ar,this).length?null:Tt(ar,this)[o]}}])}(),Bo,Ie,Zv,Xv,cr,ip,Jv,ey,ty,jf,tc,nc,Ao={},ny=[],C3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Zl=Array.isArray;function an(e,n){for(var r in n)e[r]=n[r];return e}function Nf(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function I3(e,n,r){var i,o,a,l={};for(a in n)a=="key"?i=n[a]:a=="ref"?o=n[a]:l[a]=n[a];if(arguments.length>2&&(l.children=arguments.length>3?Bo.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)l[a]===void 0&&(l[a]=e.defaultProps[a]);return ro(e,l,i,o,null)}function ro(e,n,r,i,o){var a={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Zv,__i:-1,__u:0};return o==null&&Ie.vnode!=null&&Ie.vnode(a),a}function Xl(e){return e.children}function Ia(e,n){this.props=e,this.context=n}function ui(e,n){if(n==null)return e.__?ui(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?ui(e):null}function ry(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ry(e)}}function op(e){(!e.__d&&(e.__d=!0)&&cr.push(e)&&!vl.__r++||ip!=Ie.debounceRendering)&&((ip=Ie.debounceRendering)||Jv)(vl)}function vl(){for(var e,n,r,i,o,a,l,s=1;cr.length;)cr.length>s&&cr.sort(ey),e=cr.shift(),s=cr.length,e.__d&&(r=void 0,i=void 0,o=(i=(n=e).__v).__e,a=[],l=[],n.__P&&((r=an({},i)).__v=i.__v+1,Ie.vnode&&Ie.vnode(r),Ef(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??ui(i),!!(32&i.__u),l),r.__v=i.__v,r.__.__k[r.__i]=r,ay(a,r,l),i.__e=i.__=null,r.__e!=o&&ry(r)));vl.__r=0}function iy(e,n,r,i,o,a,l,s,u,f,p){var c,d,m,b,w,_,g,v=i&&i.__k||ny,x=n.length;for(u=P3(r,n,v,u,x),c=0;c<x;c++)(m=r.__k[c])!=null&&(d=m.__i==-1?Ao:v[m.__i]||Ao,m.__i=c,_=Ef(e,m,d,o,a,l,s,u,f,p),b=m.__e,m.ref&&d.ref!=m.ref&&(d.ref&&Sf(d.ref,null,m),p.push(m.ref,m.__c||b,m)),w==null&&b!=null&&(w=b),(g=!!(4&m.__u))||d.__k===m.__k?u=oy(m,u,e,g):typeof m.type=="function"&&_!==void 0?u=_:b&&(u=b.nextSibling),m.__u&=-7);return r.__e=w,u}function P3(e,n,r,i,o){var a,l,s,u,f,p=r.length,c=p,d=0;for(e.__k=new Array(o),a=0;a<o;a++)(l=n[a])!=null&&typeof l!="boolean"&&typeof l!="function"?(u=a+d,(l=e.__k[a]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?ro(null,l,null,null,null):Zl(l)?ro(Xl,{children:l},null,null,null):l.constructor==null&&l.__b>0?ro(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,s=null,(f=l.__i=D3(l,r,u,c))!=-1&&(c--,(s=r[f])&&(s.__u|=2)),s==null||s.__v==null?(f==-1&&(o>p?d--:o<p&&d++),typeof l.type!="function"&&(l.__u|=4)):f!=u&&(f==u-1?d--:f==u+1?d++:(f>u?d--:d++,l.__u|=4))):e.__k[a]=null;if(c)for(a=0;a<p;a++)(s=r[a])!=null&&!(2&s.__u)&&(s.__e==i&&(i=ui(s)),sy(s,s));return i}function oy(e,n,r,i){var o,a;if(typeof e.type=="function"){for(o=e.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=e,n=oy(o[a],n,r,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=ui(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function D3(e,n,r,i){var o,a,l,s=e.key,u=e.type,f=n[r],p=f!=null&&(2&f.__u)==0;if(f===null&&e.key==null||p&&s==f.key&&u==f.type)return r;if(i>(p?1:0)){for(o=r-1,a=r+1;o>=0||a<n.length;)if((f=n[l=o>=0?o--:a++])!=null&&!(2&f.__u)&&s==f.key&&u==f.type)return l}return-1}function ap(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||C3.test(n)?r:r+"px"}function pa(e,n,r,i,o){var a,l;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)r&&n in r||ap(e.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||ap(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(ty,"$1")),l=n.toLowerCase(),n=l in e||n=="onFocusOut"||n=="onFocusIn"?l.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+a]=r,r?i?r.u=i.u:(r.u=jf,e.addEventListener(n,a?nc:tc,a)):e.removeEventListener(n,a?nc:tc,a);else{if(o=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function lp(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=jf++;else if(n.t<r.u)return;return r(Ie.event?Ie.event(n):n)}}}function Ef(e,n,r,i,o,a,l,s,u,f){var p,c,d,m,b,w,_,g,v,x,y,k,N,j,E,C,S,T=n.type;if(n.constructor!=null)return null;128&r.__u&&(u=!!(32&r.__u),a=[s=n.__e=r.__e]),(p=Ie.__b)&&p(n);e:if(typeof T=="function")try{if(g=n.props,v="prototype"in T&&T.prototype.render,x=(p=T.contextType)&&i[p.__c],y=p?x?x.props.value:p.__:i,r.__c?_=(c=n.__c=r.__c).__=c.__E:(v?n.__c=c=new T(g,y):(n.__c=c=new Ia(g,y),c.constructor=T,c.render=R3),x&&x.sub(c),c.props=g,c.state||(c.state={}),c.context=y,c.__n=i,d=c.__d=!0,c.__h=[],c._sb=[]),v&&c.__s==null&&(c.__s=c.state),v&&T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=an({},c.__s)),an(c.__s,T.getDerivedStateFromProps(g,c.__s))),m=c.props,b=c.state,c.__v=n,d)v&&T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),v&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(v&&T.getDerivedStateFromProps==null&&g!==m&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,y),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,y)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(c.props=g,c.state=c.__s,c.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(O){O&&(O.__=n)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&l.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,y),v&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(m,b,w)})}if(c.context=y,c.props=g,c.__P=e,c.__e=!1,N=Ie.__r,j=0,v){for(c.state=c.__s,c.__d=!1,N&&N(n),p=c.render(c.props,c.state,c.context),E=0;E<c._sb.length;E++)c.__h.push(c._sb[E]);c._sb=[]}else do c.__d=!1,N&&N(n),p=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++j<25);c.state=c.__s,c.getChildContext!=null&&(i=an(an({},i),c.getChildContext())),v&&!d&&c.getSnapshotBeforeUpdate!=null&&(w=c.getSnapshotBeforeUpdate(m,b)),C=p,p!=null&&p.type===Xl&&p.key==null&&(C=ly(p.props.children)),s=iy(e,Zl(C)?C:[C],n,r,i,o,a,l,s,u,f),c.base=n.__e,n.__u&=-161,c.__h.length&&l.push(c),_&&(c.__E=c.__=null)}catch(O){if(n.__v=null,u||a!=null)if(O.then){for(n.__u|=u?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,n.__e=s}else{for(S=a.length;S--;)Nf(a[S]);rc(n)}else n.__e=r.__e,n.__k=r.__k,O.then||rc(n);Ie.__e(O,n,r)}else a==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):s=n.__e=M3(r.__e,n,r,i,o,a,l,u,f);return(p=Ie.diffed)&&p(n),128&n.__u?void 0:s}function rc(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(rc)}function ay(e,n,r){for(var i=0;i<r.length;i++)Sf(r[i],r[++i],r[++i]);Ie.__c&&Ie.__c(n,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){Ie.__e(a,o.__v)}})}function ly(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Zl(e)?e.map(ly):an({},e)}function M3(e,n,r,i,o,a,l,s,u){var f,p,c,d,m,b,w,_=r.props,g=n.props,v=n.type;if(v=="svg"?o="http://www.w3.org/2000/svg":v=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(f=0;f<a.length;f++)if((m=a[f])&&"setAttribute"in m==!!v&&(v?m.localName==v:m.nodeType==3)){e=m,a[f]=null;break}}if(e==null){if(v==null)return document.createTextNode(g);e=document.createElementNS(o,v,g.is&&g),s&&(Ie.__m&&Ie.__m(n,a),s=!1),a=null}if(v==null)_===g||s&&e.data==g||(e.data=g);else{if(a=a&&Bo.call(e.childNodes),_=r.props||Ao,!s&&a!=null)for(_={},f=0;f<e.attributes.length;f++)_[(m=e.attributes[f]).name]=m.value;for(f in _)if(m=_[f],f!="children"){if(f=="dangerouslySetInnerHTML")c=m;else if(!(f in g)){if(f=="value"&&"defaultValue"in g||f=="checked"&&"defaultChecked"in g)continue;pa(e,f,null,m,o)}}for(f in g)m=g[f],f=="children"?d=m:f=="dangerouslySetInnerHTML"?p=m:f=="value"?b=m:f=="checked"?w=m:s&&typeof m!="function"||_[f]===m||pa(e,f,m,_[f],o);if(p)s||c&&(p.__html==c.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),n.__k=[];else if(c&&(e.innerHTML=""),iy(n.type=="template"?e.content:e,Zl(d)?d:[d],n,r,i,v=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,l,a?a[0]:r.__k&&ui(r,0),s,u),a!=null)for(f=a.length;f--;)Nf(a[f]);s||(f="value",v=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[f]||v=="progress"&&!b||v=="option"&&b!=_[f])&&pa(e,f,b,_[f],o),f="checked",w!=null&&w!=e[f]&&pa(e,f,w,_[f],o))}return e}function Sf(e,n,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(o){Ie.__e(o,r)}}function sy(e,n,r){var i,o;if(Ie.unmount&&Ie.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Sf(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){Ie.__e(a,n)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&sy(i[o],n,r||typeof e.type!="function");r||Nf(e.__e),e.__c=e.__=e.__e=void 0}function R3(e,n,r){return this.constructor(e,r)}function L3(e,n,r){var i,o,a,l;n==document&&(n=document.documentElement),Ie.__&&Ie.__(e,n),o=(i=!1)?null:n.__k,a=[],l=[],Ef(n,e=n.__k=I3(Xl,null,[e]),o||Ao,Ao,n.namespaceURI,o?null:n.firstChild?Bo.call(n.childNodes):null,a,o?o.__e:n.firstChild,i,l),ay(a,e,l)}function uy(e,n,r){var i,o,a,l,s=an({},e.props);for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),n)a=="key"?i=n[a]:a=="ref"?o=n[a]:s[a]=n[a]===void 0&&l!=null?l[a]:n[a];return arguments.length>2&&(s.children=arguments.length>3?Bo.call(arguments,2):r),ro(e.type,s,i||e.key,o||e.ref,null)}Bo=ny.slice,Ie={__e:function(e,n,r,i){for(var o,a,l;n=n.__;)if((o=n.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),l=o.__d),l)return o.__E=o}catch(s){e=s}throw e}},Zv=0,Xv=function(e){return e!=null&&e.constructor==null},Ia.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=an({},this.state),typeof e=="function"&&(e=e(an({},r),this.props)),e&&an(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),op(this))},Ia.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),op(this))},Ia.prototype.render=Xl,cr=[],Jv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ey=function(e,n){return e.__v.__b-n.__v.__b},vl.__r=0,ty=/(PointerCapture)$|Capture$/i,jf=0,tc=lp(!1),nc=lp(!0);function sp(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function $3(e){if(Array.isArray(e))return e}function z3(e,n,r){return(n=V3(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function F3(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function U3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function up(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function B3(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?up(Object(r),!0).forEach(function(i){z3(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function q3(e,n){return $3(e)||F3(e,n)||W3(e,n)||U3()}function H3(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function V3(e){var n=H3(e,"string");return typeof n=="symbol"?n:n+""}function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yl(e)}function W3(e,n){if(e){if(typeof e=="string")return sp(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sp(e,n):void 0}}var ic=function(n){if(yl(n)!=="object")return n;var r=uy(n);if(r.props){var i;r.props=B3({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(ic):ic(r.props.children))}return r},G3=function(n){return Xv(uy(n))},K3=function(n,r){delete r.__k,L3(ic(n),r)};function Y3(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var Q3=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Y3(Q3);var Z3=kf({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.style,a=o===void 0?{}:o,l=!!n&&yl(n)==="object"&&!!n.node&&typeof n.node=="function",s=Pt(l?n.node():n);s.style("position")==="static"&&s.style("position","relative"),r.tooltipEl=s.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(f){var p=q3(f,2),c=p[0],d=p[1];return r.tooltipEl.style(c,d)}),r.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,s.on("mousemove.".concat(u),function(f){r.mouseInside=!0;var p=rn(f),c=s.node(),d=c.offsetWidth,m=c.offsetHeight,b=[r.offsetX===null||r.offsetX===void 0?"-".concat(p[0]/d*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?m>130&&m-p[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",p[0]+"px").style("top",p[1]+"px").style("transform","translate(".concat(b.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),s.on("mouseover.".concat(u),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),s.on("mouseout.".concat(u),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):G3(n.content)?(n.tooltipEl.text(""),K3(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function X3(e,n,r){var i,o=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function a(){var l,s=i.length,u,f=0,p=0,c=0;for(l=0;l<s;++l)u=i[l],f+=u.x||0,p+=u.y||0,c+=u.z||0;for(f=(f/s-e)*o,p=(p/s-n)*o,c=(c/s-r)*o,l=0;l<s;++l)u=i[l],f&&(u.x-=f),p&&(u.y-=p),c&&(u.z-=c)}return a.initialize=function(l){i=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(n=+l,a):n},a.z=function(l){return arguments.length?(r=+l,a):r},a.strength=function(l){return arguments.length?(o=+l,a):o},a}function J3(e){const n=+this._x.call(null,e);return cy(this.cover(n),n,e)}function cy(e,n,r){if(isNaN(n))return e;var i,o=e._root,a={data:r},l=e._x0,s=e._x1,u,f,p,c,d;if(!o)return e._root=a,e;for(;o.length;)if((p=n>=(u=(l+s)/2))?l=u:s=u,i=o,!(o=o[c=+p]))return i[c]=a,e;if(f=+e._x.call(null,o.data),n===f)return a.next=o,i?i[c]=a:e._root=a,e;do i=i?i[c]=new Array(2):e._root=new Array(2),(p=n>=(u=(l+s)/2))?l=u:s=u;while((c=+p)==(d=+(f>=u)));return i[d]=o,i[c]=a,e}function e5(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,o=-1/0;for(let a=0,l;a<n;++a)isNaN(l=+this._x.call(null,e[a]))||(r[a]=l,l<i&&(i=l),l>o&&(o=l));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<n;++a)cy(this,r[a],e[a]);return this}function t5(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,o=this._root,a,l;n>e||e>=r;)switch(l=+(e<n),a=new Array(2),a[l]=o,o=a,i*=2,l){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._x1=r,this}function n5(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function r5(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function jn(e,n,r){this.node=e,this.x0=n,this.x1=r}function i5(e,n){var r,i=this._x0,o,a,l=this._x1,s=[],u=this._root,f,p;for(u&&s.push(new jn(u,i,l)),n==null?n=1/0:(i=e-n,l=e+n);f=s.pop();)if(!(!(u=f.node)||(o=f.x0)>l||(a=f.x1)<i))if(u.length){var c=(o+a)/2;s.push(new jn(u[1],c,a),new jn(u[0],o,c)),(p=+(e>=c))&&(f=s[s.length-1],s[s.length-1]=s[s.length-1-p],s[s.length-1-p]=f)}else{var d=Math.abs(e-+this._x.call(null,u.data));d<n&&(n=d,i=e-d,l=e+d,r=u.data)}return r}function o5(e){if(isNaN(u=+this._x.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,s=this._x1,u,f,p,c,d;if(!r)return this;if(r.length)for(;;){if((p=u>=(f=(l+s)/2))?l=f:s=f,n=r,!(r=r[c=+p]))return this;if(!r.length)break;n[c+1&1]&&(i=n,d=c)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[c]=a:delete n[c],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[d]=r:this._root=r),this):(this._root=a,this)}function a5(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function l5(){return this._root}function s5(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function u5(e){var n=[],r,i=this._root,o,a,l;for(i&&n.push(new jn(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.x1)&&i.length){var s=(a+l)/2;(o=i[1])&&n.push(new jn(o,s,l)),(o=i[0])&&n.push(new jn(o,a,s))}return this}function c5(e){var n=[],r=[],i;for(this._root&&n.push(new jn(this._root,this._x0,this._x1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,s=i.x1,u=(l+s)/2;(a=o[0])&&n.push(new jn(a,l,u)),(a=o[1])&&n.push(new jn(a,u,s))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function f5(e){return e[0]}function d5(e){return arguments.length?(this._x=e,this):this._x}function fy(e,n){var r=new Tf(n??f5,NaN,NaN);return e==null?r:r.addAll(e)}function Tf(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function cp(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var yt=fy.prototype=Tf.prototype;yt.copy=function(){var e=new Tf(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=cp(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var o=0;o<2;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(2)}):n.target[o]=cp(i));return e};yt.add=J3;yt.addAll=e5;yt.cover=t5;yt.data=n5;yt.extent=r5;yt.find=i5;yt.remove=o5;yt.removeAll=a5;yt.root=l5;yt.size=s5;yt.visit=u5;yt.visitAfter=c5;yt.x=d5;function h5(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return dy(this.cover(n,r),n,r,e)}function dy(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var o,a=e._root,l={data:i},s=e._x0,u=e._y0,f=e._x1,p=e._y1,c,d,m,b,w,_,g,v;if(!a)return e._root=l,e;for(;a.length;)if((w=n>=(c=(s+f)/2))?s=c:f=c,(_=r>=(d=(u+p)/2))?u=d:p=d,o=a,!(a=a[g=_<<1|w]))return o[g]=l,e;if(m=+e._x.call(null,a.data),b=+e._y.call(null,a.data),n===m&&r===b)return l.next=a,o?o[g]=l:e._root=l,e;do o=o?o[g]=new Array(4):e._root=new Array(4),(w=n>=(c=(s+f)/2))?s=c:f=c,(_=r>=(d=(u+p)/2))?u=d:p=d;while((g=_<<1|w)===(v=(b>=d)<<1|m>=c));return o[v]=a,o[g]=l,e}function p5(e){var n,r,i=e.length,o,a,l=new Array(i),s=new Array(i),u=1/0,f=1/0,p=-1/0,c=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,n=e[r]))||isNaN(a=+this._y.call(null,n))||(l[r]=o,s[r]=a,o<u&&(u=o),o>p&&(p=o),a<f&&(f=a),a>c&&(c=a));if(u>p||f>c)return this;for(this.cover(u,f).cover(p,c),r=0;r<i;++r)dy(this,l[r],s[r],e[r]);return this}function g5(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,a=(i=Math.floor(n))+1;else{for(var l=o-r||1,s=this._root,u,f;r>e||e>=o||i>n||n>=a;)switch(f=(n<i)<<1|e<r,u=new Array(4),u[f]=s,s=u,l*=2,f){case 0:o=r+l,a=i+l;break;case 1:r=o-l,a=i+l;break;case 2:o=r+l,i=a-l;break;case 3:r=o-l,i=a-l;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function m5(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function v5(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function rt(e,n,r,i,o){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=o}function y5(e,n,r){var i,o=this._x0,a=this._y0,l,s,u,f,p=this._x1,c=this._y1,d=[],m=this._root,b,w;for(m&&d.push(new rt(m,o,a,p,c)),r==null?r=1/0:(o=e-r,a=n-r,p=e+r,c=n+r,r*=r);b=d.pop();)if(!(!(m=b.node)||(l=b.x0)>p||(s=b.y0)>c||(u=b.x1)<o||(f=b.y1)<a))if(m.length){var _=(l+u)/2,g=(s+f)/2;d.push(new rt(m[3],_,g,u,f),new rt(m[2],l,g,_,f),new rt(m[1],_,s,u,g),new rt(m[0],l,s,_,g)),(w=(n>=g)<<1|e>=_)&&(b=d[d.length-1],d[d.length-1]=d[d.length-1-w],d[d.length-1-w]=b)}else{var v=e-+this._x.call(null,m.data),x=n-+this._y.call(null,m.data),y=v*v+x*x;if(y<r){var k=Math.sqrt(r=y);o=e-k,a=n-k,p=e+k,c=n+k,i=m.data}}return i}function x5(e){if(isNaN(p=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,s=this._y0,u=this._x1,f=this._y1,p,c,d,m,b,w,_,g;if(!r)return this;if(r.length)for(;;){if((b=p>=(d=(l+u)/2))?l=d:u=d,(w=c>=(m=(s+f)/2))?s=m:f=m,n=r,!(r=r[_=w<<1|b]))return this;if(!r.length)break;(n[_+1&3]||n[_+2&3]||n[_+3&3])&&(i=n,g=_)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[_]=a:delete n[_],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=a,this)}function b5(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function _5(){return this._root}function w5(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function k5(e){var n=[],r,i=this._root,o,a,l,s,u;for(i&&n.push(new rt(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.y0,s=r.x1,u=r.y1)&&i.length){var f=(a+s)/2,p=(l+u)/2;(o=i[3])&&n.push(new rt(o,f,p,s,u)),(o=i[2])&&n.push(new rt(o,a,p,f,u)),(o=i[1])&&n.push(new rt(o,f,l,s,p)),(o=i[0])&&n.push(new rt(o,a,l,f,p))}return this}function j5(e){var n=[],r=[],i;for(this._root&&n.push(new rt(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,s=i.y0,u=i.x1,f=i.y1,p=(l+u)/2,c=(s+f)/2;(a=o[0])&&n.push(new rt(a,l,s,p,c)),(a=o[1])&&n.push(new rt(a,p,s,u,c)),(a=o[2])&&n.push(new rt(a,l,c,p,f)),(a=o[3])&&n.push(new rt(a,p,c,u,f))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function N5(e){return e[0]}function E5(e){return arguments.length?(this._x=e,this):this._x}function S5(e){return e[1]}function T5(e){return arguments.length?(this._y=e,this):this._y}function hy(e,n,r){var i=new Of(n??N5,r??S5,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Of(e,n,r,i,o,a){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function fp(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var lt=hy.prototype=Of.prototype;lt.copy=function(){var e=new Of(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=fp(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var o=0;o<4;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(4)}):n.target[o]=fp(i));return e};lt.add=h5;lt.addAll=p5;lt.cover=g5;lt.data=m5;lt.extent=v5;lt.find=y5;lt.remove=x5;lt.removeAll=b5;lt.root=_5;lt.size=w5;lt.visit=k5;lt.visitAfter=j5;lt.x=E5;lt.y=T5;function O5(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return py(this.cover(n,r,i),n,r,i,e)}function py(e,n,r,i,o){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var a,l=e._root,s={data:o},u=e._x0,f=e._y0,p=e._z0,c=e._x1,d=e._y1,m=e._z1,b,w,_,g,v,x,y,k,N,j,E;if(!l)return e._root=s,e;for(;l.length;)if((y=n>=(b=(u+c)/2))?u=b:c=b,(k=r>=(w=(f+d)/2))?f=w:d=w,(N=i>=(_=(p+m)/2))?p=_:m=_,a=l,!(l=l[j=N<<2|k<<1|y]))return a[j]=s,e;if(g=+e._x.call(null,l.data),v=+e._y.call(null,l.data),x=+e._z.call(null,l.data),n===g&&r===v&&i===x)return s.next=l,a?a[j]=s:e._root=s,e;do a=a?a[j]=new Array(8):e._root=new Array(8),(y=n>=(b=(u+c)/2))?u=b:c=b,(k=r>=(w=(f+d)/2))?f=w:d=w,(N=i>=(_=(p+m)/2))?p=_:m=_;while((j=N<<2|k<<1|y)===(E=(x>=_)<<2|(v>=w)<<1|g>=b));return a[E]=l,a[j]=s,e}function A5(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),o=new Float64Array(n);let a=1/0,l=1/0,s=1/0,u=-1/0,f=-1/0,p=-1/0;for(let c=0,d,m,b,w;c<n;++c)isNaN(m=+this._x.call(null,d=e[c]))||isNaN(b=+this._y.call(null,d))||isNaN(w=+this._z.call(null,d))||(r[c]=m,i[c]=b,o[c]=w,m<a&&(a=m),m>u&&(u=m),b<l&&(l=b),b>f&&(f=b),w<s&&(s=w),w>p&&(p=w));if(a>u||l>f||s>p)return this;this.cover(a,l,s).cover(u,f,p);for(let c=0;c<n;++c)py(this,r[c],i[c],o[c],e[c]);return this}function C5(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,l=this._x1,s=this._y1,u=this._z1;if(isNaN(i))l=(i=Math.floor(e))+1,s=(o=Math.floor(n))+1,u=(a=Math.floor(r))+1;else{for(var f=l-i||1,p=this._root,c,d;i>e||e>=l||o>n||n>=s||a>r||r>=u;)switch(d=(r<a)<<2|(n<o)<<1|e<i,c=new Array(8),c[d]=p,p=c,f*=2,d){case 0:l=i+f,s=o+f,u=a+f;break;case 1:i=l-f,s=o+f,u=a+f;break;case 2:l=i+f,o=s-f,u=a+f;break;case 3:i=l-f,o=s-f,u=a+f;break;case 4:l=i+f,s=o+f,a=u-f;break;case 5:i=l-f,s=o+f,a=u-f;break;case 6:l=i+f,o=s-f,a=u-f;break;case 7:i=l-f,o=s-f,a=u-f;break}this._root&&this._root.length&&(this._root=p)}return this._x0=i,this._y0=o,this._z0=a,this._x1=l,this._y1=s,this._z1=u,this}function I5(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function P5(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function we(e,n,r,i,o,a,l){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=l}function D5(e,n,r,i){var o,a=this._x0,l=this._y0,s=this._z0,u,f,p,c,d,m,b=this._x1,w=this._y1,_=this._z1,g=[],v=this._root,x,y;for(v&&g.push(new we(v,a,l,s,b,w,_)),i==null?i=1/0:(a=e-i,l=n-i,s=r-i,b=e+i,w=n+i,_=r+i,i*=i);x=g.pop();)if(!(!(v=x.node)||(u=x.x0)>b||(f=x.y0)>w||(p=x.z0)>_||(c=x.x1)<a||(d=x.y1)<l||(m=x.z1)<s))if(v.length){var k=(u+c)/2,N=(f+d)/2,j=(p+m)/2;g.push(new we(v[7],k,N,j,c,d,m),new we(v[6],u,N,j,k,d,m),new we(v[5],k,f,j,c,N,m),new we(v[4],u,f,j,k,N,m),new we(v[3],k,N,p,c,d,j),new we(v[2],u,N,p,k,d,j),new we(v[1],k,f,p,c,N,j),new we(v[0],u,f,p,k,N,j)),(y=(r>=j)<<2|(n>=N)<<1|e>=k)&&(x=g[g.length-1],g[g.length-1]=g[g.length-1-y],g[g.length-1-y]=x)}else{var E=e-+this._x.call(null,v.data),C=n-+this._y.call(null,v.data),S=r-+this._z.call(null,v.data),T=E*E+C*C+S*S;if(T<i){var O=Math.sqrt(i=T);a=e-O,l=n-O,s=r-O,b=e+O,w=n+O,_=r+O,o=v.data}}return o}const M5=(e,n,r,i,o,a)=>Math.sqrt((e-i)**2+(n-o)**2+(r-a)**2);function R5(e,n,r,i){const o=[],a=e-i,l=n-i,s=r-i,u=e+i,f=n+i,p=r+i;return this.visit((c,d,m,b,w,_,g)=>{if(!c.length)do{const v=c.data;M5(e,n,r,this._x(v),this._y(v),this._z(v))<=i&&o.push(v)}while(c=c.next);return d>u||m>f||b>p||w<a||_<l||g<s}),o}function L5(e){if(isNaN(d=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e))||isNaN(b=+this._z.call(null,e)))return this;var n,r=this._root,i,o,a,l=this._x0,s=this._y0,u=this._z0,f=this._x1,p=this._y1,c=this._z1,d,m,b,w,_,g,v,x,y,k,N;if(!r)return this;if(r.length)for(;;){if((v=d>=(w=(l+f)/2))?l=w:f=w,(x=m>=(_=(s+p)/2))?s=_:p=_,(y=b>=(g=(u+c)/2))?u=g:c=g,n=r,!(r=r[k=y<<2|x<<1|v]))return this;if(!r.length)break;(n[k+1&7]||n[k+2&7]||n[k+3&7]||n[k+4&7]||n[k+5&7]||n[k+6&7]||n[k+7&7])&&(i=n,N=k)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[k]=a:delete n[k],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[N]=r:this._root=r),this):(this._root=a,this)}function $5(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function z5(){return this._root}function F5(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function U5(e){var n=[],r,i=this._root,o,a,l,s,u,f,p;for(i&&n.push(new we(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,a=r.x0,l=r.y0,s=r.z0,u=r.x1,f=r.y1,p=r.z1)&&i.length){var c=(a+u)/2,d=(l+f)/2,m=(s+p)/2;(o=i[7])&&n.push(new we(o,c,d,m,u,f,p)),(o=i[6])&&n.push(new we(o,a,d,m,c,f,p)),(o=i[5])&&n.push(new we(o,c,l,m,u,d,p)),(o=i[4])&&n.push(new we(o,a,l,m,c,d,p)),(o=i[3])&&n.push(new we(o,c,d,s,u,f,m)),(o=i[2])&&n.push(new we(o,a,d,s,c,f,m)),(o=i[1])&&n.push(new we(o,c,l,s,u,d,m)),(o=i[0])&&n.push(new we(o,a,l,s,c,d,m))}return this}function B5(e){var n=[],r=[],i;for(this._root&&n.push(new we(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var o=i.node;if(o.length){var a,l=i.x0,s=i.y0,u=i.z0,f=i.x1,p=i.y1,c=i.z1,d=(l+f)/2,m=(s+p)/2,b=(u+c)/2;(a=o[0])&&n.push(new we(a,l,s,u,d,m,b)),(a=o[1])&&n.push(new we(a,d,s,u,f,m,b)),(a=o[2])&&n.push(new we(a,l,m,u,d,p,b)),(a=o[3])&&n.push(new we(a,d,m,u,f,p,b)),(a=o[4])&&n.push(new we(a,l,s,b,d,m,c)),(a=o[5])&&n.push(new we(a,d,s,b,f,m,c)),(a=o[6])&&n.push(new we(a,l,m,b,d,p,c)),(a=o[7])&&n.push(new we(a,d,m,b,f,p,c))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function q5(e){return e[0]}function H5(e){return arguments.length?(this._x=e,this):this._x}function V5(e){return e[1]}function W5(e){return arguments.length?(this._y=e,this):this._y}function G5(e){return e[2]}function K5(e){return arguments.length?(this._z=e,this):this._z}function gy(e,n,r,i){var o=new Af(n??q5,r??V5,i??G5,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function Af(e,n,r,i,o,a,l,s,u){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=l,this._y1=s,this._z1=u,this._root=void 0}function dp(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Ye=gy.prototype=Af.prototype;Ye.copy=function(){var e=new Af(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=dp(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var o=0;o<8;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(8)}):n.target[o]=dp(i));return e};Ye.add=O5;Ye.addAll=A5;Ye.cover=C5;Ye.data=I5;Ye.extent=P5;Ye.find=D5;Ye.findAllWithinRadius=R5;Ye.remove=L5;Ye.removeAll=$5;Ye.root=z5;Ye.size=F5;Ye.visit=U5;Ye.visitAfter=B5;Ye.x=H5;Ye.y=W5;Ye.z=K5;function wn(e){return function(){return e}}function yn(e){return(e()-.5)*1e-6}function Y5(e){return e.index}function hp(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Q5(e){var n=Y5,r=d,i,o=wn(30),a,l,s,u,f,p,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(u[g.source.index],u[g.target.index])}function m(g){for(var v=0,x=e.length;v<c;++v)for(var y=0,k,N,j,E=0,C=0,S=0,T,O;y<x;++y)k=e[y],N=k.source,j=k.target,E=j.x+j.vx-N.x-N.vx||yn(p),s>1&&(C=j.y+j.vy-N.y-N.vy||yn(p)),s>2&&(S=j.z+j.vz-N.z-N.vz||yn(p)),T=Math.sqrt(E*E+C*C+S*S),T=(T-a[y])/T*g*i[y],E*=T,C*=T,S*=T,j.vx-=E*(O=f[y]),s>1&&(j.vy-=C*O),s>2&&(j.vz-=S*O),N.vx+=E*(O=1-O),s>1&&(N.vy+=C*O),s>2&&(N.vz+=S*O)}function b(){if(l){var g,v=l.length,x=e.length,y=new Map(l.map((N,j)=>[n(N,j,l),N])),k;for(g=0,u=new Array(v);g<x;++g)k=e[g],k.index=g,typeof k.source!="object"&&(k.source=hp(y,k.source)),typeof k.target!="object"&&(k.target=hp(y,k.target)),u[k.source.index]=(u[k.source.index]||0)+1,u[k.target.index]=(u[k.target.index]||0)+1;for(g=0,f=new Array(x);g<x;++g)k=e[g],f[g]=u[k.source.index]/(u[k.source.index]+u[k.target.index]);i=new Array(x),w(),a=new Array(x),_()}}function w(){if(l)for(var g=0,v=e.length;g<v;++g)i[g]=+r(e[g],g,e)}function _(){if(l)for(var g=0,v=e.length;g<v;++g)a[g]=+o(e[g],g,e)}return m.initialize=function(g,...v){l=g,p=v.find(x=>typeof x=="function")||Math.random,s=v.find(x=>[1,2,3].includes(x))||2,b()},m.links=function(g){return arguments.length?(e=g,b(),m):e},m.id=function(g){return arguments.length?(n=g,m):n},m.iterations=function(g){return arguments.length?(c=+g,m):c},m.strength=function(g){return arguments.length?(r=typeof g=="function"?g:wn(+g),w(),m):r},m.distance=function(g){return arguments.length?(o=typeof g=="function"?g:wn(+g),_(),m):o},m}const Z5=1664525,X5=1013904223,pp=4294967296;function J5(){let e=1;return()=>(e=(Z5*e+X5)%pp)/pp}var gp=3;function $s(e){return e.x}function mp(e){return e.y}function eA(e){return e.z}var tA=10,nA=Math.PI*(3-Math.sqrt(5)),rA=Math.PI*20/(9+Math.sqrt(221));function iA(e,n){n=n||2;var r=Math.min(gp,Math.max(1,Math.round(n))),i,o=1,a=.001,l=1-Math.pow(a,1/300),s=0,u=.6,f=new Map,p=xf(m),c=Fo("tick","end"),d=J5();e==null&&(e=[]);function m(){b(),c.call("tick",i),o<a&&(p.stop(),c.call("end",i))}function b(g){var v,x=e.length,y;g===void 0&&(g=1);for(var k=0;k<g;++k)for(o+=(s-o)*l,f.forEach(function(N){N(o)}),v=0;v<x;++v)y=e[v],y.fx==null?y.x+=y.vx*=u:(y.x=y.fx,y.vx=0),r>1&&(y.fy==null?y.y+=y.vy*=u:(y.y=y.fy,y.vy=0)),r>2&&(y.fz==null?y.z+=y.vz*=u:(y.z=y.fz,y.vz=0));return i}function w(){for(var g=0,v=e.length,x;g<v;++g){if(x=e[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),x.fz!=null&&(x.z=x.fz),isNaN(x.x)||r>1&&isNaN(x.y)||r>2&&isNaN(x.z)){var y=tA*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),k=g*nA,N=g*rA;r===1?x.x=y:r===2?(x.x=y*Math.cos(k),x.y=y*Math.sin(k)):(x.x=y*Math.sin(k)*Math.cos(N),x.y=y*Math.cos(k),x.z=y*Math.sin(k)*Math.sin(N))}(isNaN(x.vx)||r>1&&isNaN(x.vy)||r>2&&isNaN(x.vz))&&(x.vx=0,r>1&&(x.vy=0),r>2&&(x.vz=0))}}function _(g){return g.initialize&&g.initialize(e,d,r),g}return w(),i={tick:b,restart:function(){return p.restart(m),i},stop:function(){return p.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(gp,Math.max(1,Math.round(g))),f.forEach(_),i):r},nodes:function(g){return arguments.length?(e=g,w(),f.forEach(_),i):e},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(a=+g,i):a},alphaDecay:function(g){return arguments.length?(l=+g,i):+l},alphaTarget:function(g){return arguments.length?(s=+g,i):s},velocityDecay:function(g){return arguments.length?(u=1-g,i):1-u},randomSource:function(g){return arguments.length?(d=g,f.forEach(_),i):d},force:function(g,v){return arguments.length>1?(v==null?f.delete(g):f.set(g,_(v)),i):f.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),v=g.shift()||0,x=(r>1?g.shift():null)||0,y=(r>2?g.shift():null)||0,k=g.shift()||1/0,N=0,j=e.length,E,C,S,T,O,P;for(k*=k,N=0;N<j;++N)O=e[N],E=v-O.x,C=x-(O.y||0),S=y-(O.z||0),T=E*E+C*C+S*S,T<k&&(P=O,k=T);return P},on:function(g,v){return arguments.length>1?(c.on(g,v),i):c.on(g)}}}function oA(){var e,n,r,i,o,a=wn(-30),l,s=1,u=1/0,f=.81;function p(b){var w,_=e.length,g=(n===1?fy(e,$s):n===2?hy(e,$s,mp):n===3?gy(e,$s,mp,eA):null).visitAfter(d);for(o=b,w=0;w<_;++w)r=e[w],g.visit(m)}function c(){if(e){var b,w=e.length,_;for(l=new Array(w),b=0;b<w;++b)_=e[b],l[_.index]=+a(_,b,e)}}function d(b){var w=0,_,g,v=0,x,y,k,N,j=b.length;if(j){for(x=y=k=N=0;N<j;++N)(_=b[N])&&(g=Math.abs(_.value))&&(w+=_.value,v+=g,x+=g*(_.x||0),y+=g*(_.y||0),k+=g*(_.z||0));w*=Math.sqrt(4/j),b.x=x/v,n>1&&(b.y=y/v),n>2&&(b.z=k/v)}else{_=b,_.x=_.data.x,n>1&&(_.y=_.data.y),n>2&&(_.z=_.data.z);do w+=l[_.data.index];while(_=_.next)}b.value=w}function m(b,w,_,g,v){if(!b.value)return!0;var x=[_,g,v][n-1],y=b.x-r.x,k=n>1?b.y-r.y:0,N=n>2?b.z-r.z:0,j=x-w,E=y*y+k*k+N*N;if(j*j/f<E)return E<u&&(y===0&&(y=yn(i),E+=y*y),n>1&&k===0&&(k=yn(i),E+=k*k),n>2&&N===0&&(N=yn(i),E+=N*N),E<s&&(E=Math.sqrt(s*E)),r.vx+=y*b.value*o/E,n>1&&(r.vy+=k*b.value*o/E),n>2&&(r.vz+=N*b.value*o/E)),!0;if(b.length||E>=u)return;(b.data!==r||b.next)&&(y===0&&(y=yn(i),E+=y*y),n>1&&k===0&&(k=yn(i),E+=k*k),n>2&&N===0&&(N=yn(i),E+=N*N),E<s&&(E=Math.sqrt(s*E)));do b.data!==r&&(j=l[b.data.index]*o/E,r.vx+=y*j,n>1&&(r.vy+=k*j),n>2&&(r.vz+=N*j));while(b=b.next)}return p.initialize=function(b,...w){e=b,i=w.find(_=>typeof _=="function")||Math.random,n=w.find(_=>[1,2,3].includes(_))||2,c()},p.strength=function(b){return arguments.length?(a=typeof b=="function"?b:wn(+b),c(),p):a},p.distanceMin=function(b){return arguments.length?(s=b*b,p):Math.sqrt(s)},p.distanceMax=function(b){return arguments.length?(u=b*b,p):Math.sqrt(u)},p.theta=function(b){return arguments.length?(f=b*b,p):Math.sqrt(f)},p}function aA(e,n,r,i){var o,a,l=wn(.1),s,u;typeof e!="function"&&(e=wn(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function f(c){for(var d=0,m=o.length;d<m;++d){var b=o[d],w=b.x-n||1e-6,_=(b.y||0)-r||1e-6,g=(b.z||0)-i||1e-6,v=Math.sqrt(w*w+_*_+g*g),x=(u[d]-v)*s[d]*c/v;b.vx+=w*x,a>1&&(b.vy+=_*x),a>2&&(b.vz+=g*x)}}function p(){if(o){var c,d=o.length;for(s=new Array(d),u=new Array(d),c=0;c<d;++c)u[c]=+e(o[c],c,o),s[c]=isNaN(u[c])?0:+l(o[c],c,o)}}return f.initialize=function(c,...d){o=c,a=d.find(m=>[1,2,3].includes(m))||2,p()},f.strength=function(c){return arguments.length?(l=typeof c=="function"?c:wn(+c),p(),f):l},f.radius=function(c){return arguments.length?(e=typeof c=="function"?c:wn(+c),p(),f):e},f.x=function(c){return arguments.length?(n=+c,f):n},f.y=function(c){return arguments.length?(r=+c,f):r},f.z=function(c){return arguments.length?(i=+c,f):i},f}const{abs:Mi,cos:gn,sin:Cr,acos:lA,atan2:Ri,sqrt:Mn,pow:Ot}=Math;function Li(e){return e<0?-Ot(-e,1/3):Ot(e,1/3)}const my=Math.PI,ga=2*my,Rn=my/2,sA=1e-6,zs=Number.MAX_SAFE_INTEGER||9007199254740991,Fs=Number.MIN_SAFE_INTEGER||-9007199254740991,uA={x:0,y:0,z:0},ie={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Mn(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const o=1-e;let a=n;if(i===0)return n[0].t=e,n[0];if(i===1){const s={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return r&&(s.z=o*a[0].z+e*a[1].z),s}if(i<4){let s=o*o,u=e*e,f,p,c,d=0;i===2?(a=[a[0],a[1],a[2],uA],f=s,p=o*e*2,c=u):i===3&&(f=s*o,p=s*e*3,c=o*u*3,d=e*u);const m={x:f*a[0].x+p*a[1].x+c*a[2].x+d*a[3].x,y:f*a[0].y+p*a[1].y+c*a[2].y+d*a[3].y,t:e};return r&&(m.z=f*a[0].z+p*a[1].z+c*a[2].z+d*a[3].z),m}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let s=0;s<l.length-1;s++)l[s]={x:l[s].x+(l[s+1].x-l[s].x)*e,y:l[s].y+(l[s+1].y-l[s].y)*e},typeof l[s].z<"u"&&(l[s].z=l[s].z+(l[s+1].z-l[s].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,n,r,i){const o=1-e,a=r,l=n;let s=a[0],u=a[1],f=a[2],p=a[3],c;if(s*=o,u*=e,l.length===2)return c=s+u,{x:(s*l[0].x+u*l[1].x)/c,y:(s*l[0].y+u*l[1].y)/c,z:i?(s*l[0].z+u*l[1].z)/c:!1,t:e};if(s*=o,u*=2*o,f*=e*e,l.length===3)return c=s+u+f,{x:(s*l[0].x+u*l[1].x+f*l[2].x)/c,y:(s*l[0].y+u*l[1].y+f*l[2].y)/c,z:i?(s*l[0].z+u*l[1].z+f*l[2].z)/c:!1,t:e};if(s*=o,u*=1.5*o,f*=3*o,p*=e*e*e,l.length===4)return c=s+u+f+p,{x:(s*l[0].x+u*l[1].x+f*l[2].x+p*l[3].x)/c,y:(s*l[0].y+u*l[1].y+f*l[2].y+p*l[3].y)/c,z:i?(s*l[0].z+u*l[1].z+f*l[2].z+p*l[3].z)/c:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){const l=[];for(let s=0,u;s<a;s++)u={x:a*(i[s+1].x-i[s].x),y:a*(i[s+1].y-i[s].y)},n&&(u.z=a*(i[s+1].z-i[s].z)),l.push(u);r.push(l),i=l}return r},between:function(e,n,r){return n<=e&&e<=r||ie.approximately(e,n)||ie.approximately(e,r)},approximately:function(e,n,r){return Mi(e-n)<=(r||sA)},length:function(e){const r=ie.Tvalues.length;let i=0;for(let o=0,a;o<r;o++)a=.5*ie.Tvalues[o]+.5,i+=ie.Cvalues[o]*ie.arcfn(a,e);return .5*i},map:function(e,n,r,i,o){const a=r-n,l=o-i,s=e-n,u=s/a;return i+l*u},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(ie.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,l=r.y-e.y,s=i*l-o*a,u=i*a+o*l;return Ri(s,u)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return Mn(r*r+i*i)},closest:function(e,n){let r=Ot(2,63),i,o;return e.forEach(function(a,l){o=ie.dist(n,a),o<r&&(r=o,i=l)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Ot(e,n)+Ot(1-e,n),i=r-1;return Mi(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Ot(1-e,n),i=Ot(e,n)+r;return r/i},lli8:function(e,n,r,i,o,a,l,s){const u=(e*i-n*r)*(o-l)-(e-r)*(o*s-a*l),f=(e*i-n*r)*(a-s)-(n-i)*(o*s-a*l),p=(e-r)*(a-s)-(n-i)*(o-l);return p==0?!1:{x:u/p,y:f/p}},lli4:function(e,n,r,i){const o=e.x,a=e.y,l=n.x,s=n.y,u=r.x,f=r.y,p=i.x,c=i.y;return ie.lli8(o,a,l,s,u,f,p,c)},lli:function(e,n){return ie.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new Ee(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=zs,r=zs,i=Fs,o=Fs;return e.forEach(function(a){const l=a.bbox();n>l.x.min&&(n=l.x.min),r>l.y.min&&(r=l.y.min),i<l.x.max&&(i=l.x.max),o<l.y.max&&(o=l.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(e,n,r,i,o){if(!ie.bboxoverlap(n,i))return[];const a=[],l=[e.startcap,e.forward,e.back,e.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(u){u.virtual||s.forEach(function(f){if(f.virtual)return;const p=u.intersects(f,o);p.length>0&&(p.c1=u,p.c2=f,p.s1=e,p.s2=r,a.push(p))})}),a},makeshape:function(e,n,r){const i=n.points.length,o=e.points.length,a=ie.makeline(n.points[i-1],e.points[0]),l=ie.makeline(e.points[o-1],n.points[0]),s={startcap:a,forward:e,back:n,endcap:l,bbox:ie.findbbox([a,e,n,l])};return s.intersections=function(u){return ie.shapeintersections(s,s.bbox,u,u.bbox,r)},s},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=zs,o=Fs,a,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let s=0,u=r.length;s<u;s++)a=r[s],l=e.get(a),l[n]<i&&(i=l[n]),l[n]>o&&(o=l[n]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,o=-Ri(n.p2.y-i,n.p2.x-r),a=function(l){return{x:(l.x-r)*gn(o)-(l.y-i)*Cr(o),y:(l.x-r)*Cr(o)+(l.y-i)*gn(o)}};return e.map(a)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=ie.align(e,n),o=function(j){return 0<=j&&j<=1};if(r===2){const j=i[0].y,E=i[1].y,C=i[2].y,S=j-2*E+C;if(S!==0){const T=-Mn(E*E-j*C),O=-j+E,P=-(T+O)/S,A=-(-T+O)/S;return[P,A].filter(o)}else if(E!==C&&S===0)return[(2*E-C)/(2*E-2*C)].filter(o);return[]}const a=i[0].y,l=i[1].y,s=i[2].y,u=i[3].y;let f=-a+3*l-3*s+u,p=3*a-6*l+3*s,c=-3*a+3*l,d=a;if(ie.approximately(f,0)){if(ie.approximately(p,0))return ie.approximately(c,0)?[]:[-d/c].filter(o);const j=Mn(c*c-4*p*d),E=2*p;return[(j-c)/E,(-c-j)/E].filter(o)}p/=f,c/=f,d/=f;const m=(3*c-p*p)/3,b=m/3,w=(2*p*p*p-9*p*c+27*d)/27,_=w/2,g=_*_+b*b*b;let v,x,y,k,N;if(g<0){const j=-m/3,E=j*j*j,C=Mn(E),S=-w/(2*C),T=S<-1?-1:S>1?1:S,O=lA(T),P=Li(C),A=2*P;return y=A*gn(O/3)-p/3,k=A*gn((O+ga)/3)-p/3,N=A*gn((O+2*ga)/3)-p/3,[y,k,N].filter(o)}else{if(g===0)return v=_<0?Li(-_):-Li(_),y=2*v-p/3,k=-v-p/3,[y,k].filter(o);{const j=Mn(g);return v=Li(-_+j),x=Li(_+j),[v-x-p/3].filter(o)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],o=n-2*r+i;if(o!==0){const a=-Mn(r*r-n*i),l=-n+r,s=-(a+l)/o,u=-(-a+l)/o;return[s,u]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,o){let a,l,s,u,f=0,p=0;const c=ie.compute(e,n),d=ie.compute(e,r),m=c.x*c.x+c.y*c.y;if(i?(a=Mn(Ot(c.y*d.z-d.y*c.z,2)+Ot(c.z*d.x-d.z*c.x,2)+Ot(c.x*d.y-d.x*c.y,2)),l=Ot(m+c.z*c.z,3/2)):(a=c.x*d.y-c.y*d.x,l=Ot(m,3/2)),a===0||l===0)return{k:0,r:0};if(f=a/l,p=l/a,!o){const b=ie.curvature(e-.001,n,r,i,!0).k,w=ie.curvature(e+.001,n,r,i,!0).k;u=(w-f+(f-b))/2,s=(Mi(w-f)+Mi(f-b))/2}return{k:f,r:p,dk:u,adk:s}},inflections:function(e){if(e.length<4)return[];const n=ie.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,o=n[1].x*n[2].y,a=n[3].x*n[2].y,l=18*(-3*r+2*i+3*o-a),s=18*(3*r-i-3*o),u=18*(o-r);if(ie.approximately(l,0)){if(!ie.approximately(s,0)){let d=-u/s;if(0<=d&&d<=1)return[d]}return[]}const f=2*l;if(ie.approximately(f,0))return[];const p=s*s-4*l*u;if(p<0)return[];const c=Math.sqrt(p);return[(c-s)/f,-(s+c)/f].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let o=0,a,l,s,u;o<i;o++)if(a=r[o],l=e[a].mid,s=n[a].mid,u=(e[a].size+n[a].size)/2,Mi(l-s)>=u)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),o=n.bbox(),a=1e5,l=r||.5;if(i.x.size+i.y.size<l&&o.x.size+o.y.size<l)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(n._t1+n._t2)/2|0)/a];let s=e.split(.5),u=n.split(.5),f=[{left:s.left,right:u.left},{left:s.left,right:u.right},{left:s.right,right:u.right},{left:s.right,right:u.left}];f=f.filter(function(c){return ie.bboxoverlap(c.left.bbox(),c.right.bbox())});let p=[];return f.length===0||(f.forEach(function(c){p=p.concat(ie.pairiteration(c.left,c.right,l))}),p=p.filter(function(c,d){return p.indexOf(c)===d})),p},getccenter:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-n.x,l=r.y-n.y,s=i*gn(Rn)-o*Cr(Rn),u=i*Cr(Rn)+o*gn(Rn),f=a*gn(Rn)-l*Cr(Rn),p=a*Cr(Rn)+l*gn(Rn),c=(e.x+n.x)/2,d=(e.y+n.y)/2,m=(n.x+r.x)/2,b=(n.y+r.y)/2,w=c+s,_=d+u,g=m+f,v=b+p,x=ie.lli8(c,d,w,_,m,b,g,v),y=ie.dist(x,e);let k=Ri(e.y-x.y,e.x-x.x),N=Ri(n.y-x.y,n.x-x.x),j=Ri(r.y-x.y,r.x-x.x),E;return k<j?((k>N||N>j)&&(k+=ga),k>j&&(E=j,j=k,k=E)):j<N&&N<k?(E=j,j=k,k=E):j+=ga,x.s=k,x.e=j,x.r=y,x},numberSort:function(e,n){return e-n}};class io{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return ie.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)ie.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new io(r)}}const{abs:$i,min:vp,max:yp,cos:cA,sin:fA,acos:dA,sqrt:zi}=Math,hA=Math.PI;class Ee{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const m=[];r.forEach(function(b){["x","y","z"].forEach(function(w){typeof b[w]<"u"&&m.push(b[w])})}),r=m}let o=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!o&&(a===9||a===12)||n&&n[0]&&typeof n[0].z<"u",s=this.points=[];for(let m=0,b=l?3:2;m<a;m+=b){var u={x:r[m],y:r[m+1]};l&&(u.z=r[m+2]),s.push(u)}const f=this.order=s.length-1,p=this.dims=["x","y"];l&&p.push("z"),this.dimlen=p.length;const c=ie.align(s,{p1:s[0],p2:s[f]}),d=ie.dist(s[0],s[f]);this._linear=c.reduce((m,b)=>m+$i(b.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Ee(r,r,i);if(o===1)return new Ee(n,r,r);const a=Ee.getABC(2,n,r,i,o);return new Ee(n,a.A,i)}static cubicFromPoints(n,r,i,o,a){typeof o>"u"&&(o=.5);const l=Ee.getABC(3,n,r,i,o);typeof a>"u"&&(a=ie.dist(r,l.C));const s=a*(1-o)/o,u=ie.dist(n,i),f=(i.x-n.x)/u,p=(i.y-n.y)/u,c=a*f,d=a*p,m=s*f,b=s*p,w={x:r.x-c,y:r.y-d},_={x:r.x+m,y:r.y+b},g=l.A,v={x:g.x+(w.x-g.x)/(1-o),y:g.y+(w.y-g.y)/(1-o)},x={x:g.x+(_.x-g.x)/o,y:g.y+(_.y-g.y)/o},y={x:n.x+(v.x-n.x)/o,y:n.y+(v.y-n.y)/o},k={x:i.x+(x.x-i.x)/(1-o),y:i.y+(x.y-i.y)/(1-o)};return new Ee(n,y,k,i)}static getUtils(){return ie}getUtils(){return Ee.getUtils()}static get PolyBezier(){return io}valueOf(){return this.toString()}toString(){return ie.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let a=1,l=n.length;a<l;a++)o.push(n[a].x),o.push(n[a].y);return o.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=ie.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=ie.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return ie.length(this.derivative.bind(this))}static getABC(n=2,r,i,o,a=.5){const l=ie.projectionratio(a,n),s=1-l,u={x:l*r.x+s*o.x,y:l*r.y+s*o.y},f=ie.abcratio(a,n);return{A:{x:i.x+(i.x-u.x)/f,y:i.y+(i.y-u.y)/f},B:i,C:u,S:r,E:o}}getABC(n,r){r=r||this.get(n);let i=this.points[0],o=this.points[this.order];return Ee.getABC(this.order,i,r,o,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,o;r<n;r++)o=r/(n-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),o=[];for(let a=0,l,s=0;a<i.length;a++)l=i[a],ie.dist(l,n)<r&&(o.push(l),s+=a/i.length);return o.length?t/=o.length:!1}project(n){const r=this.getLUT(),i=r.length-1,o=ie.closest(r,n),a=o.mpos,l=(a-1)/i,s=(a+1)/i,u=.1/i;let f=o.mdist,p=l,c=p,d;f+=1;for(let m;p<s+u;p+=u)d=this.compute(p),m=ie.dist(n,d),m<f&&(f=m,c=p);return c=c<0?0:c>1?1:c,d=this.compute(c),d.t=c,d.d=f,d}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?ie.computeWithRatios(n,this.points,this.ratios,this._3d):ie.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let o=1,a,l;o<i;o++)a=n[o],l=n[o-1],r[o]={x:(i-o)/i*a.x+o/i*l.x,y:(i-o)/i*a.y+o/i*l.y};return r[i]=n[i-1],new Ee(r)}derivative(n){return ie.compute(n,this.dpoints[0],this._3d)}dderivative(n){return ie.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Ee(ie.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return ie.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ie.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=zi(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),o=zi(r.x*r.x+r.y*r.y+r.z*r.z),a=zi(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=a,i.y/=a,i.z/=a;const l={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},s=zi(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=s,l.y/=s,l.z/=s;const u=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:u[0]*r.x+u[1]*r.y+u[2]*r.z,y:u[3]*r.x+u[4]*r.y+u[5]*r.z,z:u[6]*r.x+u[7]*r.y+u[8]*r.z}}hull(n){let r=this.points,i=[],o=[],a=0;for(o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],this.order===3&&(o[a++]=r[3]);r.length>1;){i=[];for(let l=0,s,u=r.length-1;l<u;l++)s=ie.lerp(n,r[l],r[l+1]),o[a++]=s,i.push(s);r=i}return o}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),o={left:this.order===2?new Ee([i[0],i[3],i[5]]):new Ee([i[0],i[4],i[7],i[9]]),right:this.order===2?new Ee([i[5],i[4],i[2]]):new Ee([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=ie.map(0,0,1,this._t1,this._t2),o.left._t2=ie.map(n,0,1,this._t1,this._t2),o.right._t1=ie.map(n,0,1,this._t1,this._t2),o.right._t2=ie.map(1,0,1,this._t1,this._t2),r?(r=ie.map(r,n,1,0,1),o.right.split(r).left):o}extrema(){const n={};let r=[];return this.dims.forEach((function(i){let o=function(l){return l[i]},a=this.dpoints[0].map(o);n[i]=ie.droots(a),this.order===3&&(a=this.dpoints[1].map(o),n[i]=n[i].concat(ie.droots(a))),n[i]=n[i].filter(function(l){return l>=0&&l<=1}),r=r.concat(n[i].sort(ie.numberSort))}).bind(this)),n.values=r.sort(ie.numberSort).filter(function(i,o){return r.indexOf(i)===o}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=ie.getminmax(this,i,n[i])}).bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return ie.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),o=this.normal(n),a={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(a.z=i.z+o.z*r),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const l={x:a.x+n*i.x,y:a.y+n*i.y};return a.z&&i.z&&(l.z=a.z+n*i.z),l});return[new Ee(o)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const o=ie.angle(this.points[0],this.points[3],this.points[1]),a=ie.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),$i(dA(i))<hA/3}reduce(){let n,r=0,i=0,o=.01,a,l=[],s=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),r=u[0],n=1;n<u.length;n++)i=u[n],a=this.split(r,i),a._t1=r,a._t2=i,l.push(a),r=i;return l.forEach(function(f){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(a=f.split(r,i),!a.simple()){if(i-=o,$i(r-i)<o)return[];a=f.split(r,i),a._t1=ie.map(r,0,1,f._t1,f._t2),a._t2=ie.map(i,0,1,f._t1,f._t2),s.push(a),r=i;break}r<1&&(a=f.split(r,1),a._t1=ie.map(r,0,1,f._t1,f._t2),a._t2=f._t2,s.push(a))}),s}translate(n,r,i){i=typeof i=="number"?i:r;const o=this.order;let a=this.points.map((l,s)=>(1-s/o)*r+s/o*i);return new Ee(this.points.map((l,s)=>({x:l.x+n.x*a[s],y:l.y+n.y*a[s]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const l=i?i(0):n,s=i?i(1):n,u=[this.offset(0,10),this.offset(1,10)],f=[],p=ie.lli4(u[0],u[0].c,u[1],u[1].c);if(!p)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(c){const d=f[c*r]=ie.copy(a[c*r]);d.x+=(c?s:l)*u[c].n.x,d.y+=(c?s:l)*u[c].n.y}),i?([0,1].forEach(function(c){if(!(r===2&&c)){var d=a[c+1],m={x:d.x-p.x,y:d.y-p.y},b=i?i((c+1)/r):n;i&&!o&&(b=-b);var w=zi(m.x*m.x+m.y*m.y);m.x/=w,m.y/=w,f[c+1]={x:d.x+b*m.x,y:d.y+b*m.y}}}),new Ee(f)):([0,1].forEach(c=>{if(r===2&&c)return;const d=f[c*r],m=this.derivative(c),b={x:d.x+m.x,y:d.y+m.y};f[c+1]=ie.lli4(d,b,p,a[c+1])}),new Ee(f))}outline(n,r,i,o){if(r=r===void 0?n:r,this._linear){const k=this.normal(0),N=this.points[0],j=this.points[this.points.length-1];let E,C,S;i===void 0&&(i=n,o=r),E={x:N.x+k.x*n,y:N.y+k.y*n},S={x:j.x+k.x*i,y:j.y+k.y*i},C={x:(E.x+S.x)/2,y:(E.y+S.y)/2};const T=[E,C,S];E={x:N.x-k.x*r,y:N.y-k.y*r},S={x:j.x-k.x*o,y:j.y-k.y*o},C={x:(E.x+S.x)/2,y:(E.y+S.y)/2};const O=[S,C,E],P=ie.makeline(O[2],T[0]),A=ie.makeline(T[2],O[0]),L=[P,new Ee(T),A,new Ee(O)];return new io(L)}const a=this.reduce(),l=a.length,s=[];let u=[],f,p=0,c=this.length();const d=typeof i<"u"&&typeof o<"u";function m(k,N,j,E,C){return function(S){const T=E/j,O=(E+C)/j,P=N-k;return ie.map(S,0,1,k+T*P,k+O*P)}}a.forEach(function(k){const N=k.length();d?(s.push(k.scale(m(n,i,c,p,N))),u.push(k.scale(m(-r,-o,c,p,N)))):(s.push(k.scale(n)),u.push(k.scale(-r))),p+=N}),u=u.map(function(k){return f=k.points,f[3]?k.points=[f[3],f[2],f[1],f[0]]:k.points=[f[2],f[1],f[0]],k}).reverse();const b=s[0].points[0],w=s[l-1].points[s[l-1].points.length-1],_=u[l-1].points[u[l-1].points.length-1],g=u[0].points[0],v=ie.makeline(_,b),x=ie.makeline(w,g),y=[v].concat(s).concat([x]).concat(u);return new io(y)}outlineshapes(n,r,i){r=r||n;const o=this.outline(n,r).curves,a=[];for(let l=1,s=o.length;l<s/2;l++){const u=ie.makeshape(o[l],o[s-l],i);u.startcap.virtual=l>1,u.endcap.virtual=l<s/2-1,a.push(u)}return a}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Ee&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=vp(n.p1.x,n.p2.x),i=vp(n.p1.y,n.p2.y),o=yp(n.p1.x,n.p2.x),a=yp(n.p1.y,n.p2.y);return ie.roots(this.points,n).filter(l=>{var s=this.get(l);return ie.between(s.x,r,o)&&ie.between(s.y,i,a)})}selfintersects(n){const r=this.reduce(),i=r.length-2,o=[];for(let a=0,l,s,u;a<i;a++)s=r.slice(a,a+1),u=r.slice(a+2),l=this.curveintersects(s,u,n),o.push(...l);return o}curveintersects(n,r,i){const o=[];n.forEach(function(l){r.forEach(function(s){l.overlaps(s)&&o.push({left:l,right:s})})});let a=[];return o.forEach(function(l){const s=ie.pairiteration(l.left,l.right,i);s.length>0&&(a=a.concat(s))}),a}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,o){const a=(o-i)/4,l=this.get(i+a),s=this.get(o-a),u=ie.dist(n,r),f=ie.dist(n,l),p=ie.dist(n,s);return $i(f-u)+$i(p-u)}_iterate(n,r){let i=0,o=1,a;do{a=0,o=1;let l=this.get(i),s,u,f,p,c=!1,d=!1,m,b=o,w=1;do if(d=c,p=f,b=(i+o)/2,s=this.get(b),u=this.get(o),f=ie.getccenter(l,s,u),f.interval={start:i,end:o},c=this._error(f,l,i,o)<=n,m=d&&!c,m||(w=o),c){if(o>=1){if(f.interval.end=w=1,p=f,o>1){let g={x:f.x+f.r*cA(f.e),y:f.y+f.r*fA(f.e)};f.e+=ie.angle({x:f.x,y:f.y},g,this.get(1))}break}o=o+(o-i)/2}else o=b;while(!m&&a++<100);if(a>=100)break;p=p||f,r.push(p),i=w}while(o<1);return r}}function oc(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function pA(e){if(Array.isArray(e))return e}function gA(e){if(Array.isArray(e))return oc(e)}function mA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vA(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function yA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bA(e,n){if(e==null)return{};var r,i,o=_A(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _A(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function wA(e,n){return pA(e)||vA(e,n)||vy(e,n)||yA()}function kA(e){return gA(e)||mA(e)||vy(e)||xA()}function jA(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NA(e){var n=jA(e,"string");return typeof n=="symbol"?n:n+""}function vy(e,n){if(e){if(typeof e=="string")return oc(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oc(e,n):void 0}}var EA=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),a=e.reduce(function(s,u){var f=s,p=u;return o.forEach(function(c,d){var m=c.keyAccessor,b=c.isProp,w;if(b){var _=p,g=_[m],v=bA(_,[m].map(NA));w=g,p=v}else w=m(p,d);d+1<o.length?(f.hasOwnProperty(w)||(f[w]={}),f=f[w]):r?(f.hasOwnProperty(w)||(f[w]=[]),f[w].push(p)):f[w]=p}),s},{});r instanceof Function&&function s(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;f===o.length?Object.keys(u).forEach(function(p){return u[p]=r(u[p])}):Object.values(u).forEach(function(p){return s(p,f+1)})}(a);var l=a;return i&&(l=[],function s(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];f.length===o.length?l.push({keys:f,vals:u}):Object.entries(u).forEach(function(p){var c=wA(p,2),d=c[0],m=c[1];return s(m,[].concat(kA(f),[d]))})}(a),n instanceof Array&&n.length===0&&l.length===1&&(l[0].keys=[])),l};function SA(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const xp=Symbol("implicit");function yy(){var e=new Fh,n=[],r=[],i=xp;function o(a){let l=e.get(a);if(l===void 0){if(i!==xp)return i;e.set(a,l=n.push(a)-1)}return r[l%r.length]}return o.domain=function(a){if(!arguments.length)return n.slice();n=[],e=new Fh;for(const l of a)e.has(l)||e.set(l,n.push(l)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return yy(n,r).unknown(i)},SA.apply(o,arguments),o}function TA(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const OA=TA("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function AA(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var CA=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;AA(CA);function ac(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function IA(e){if(Array.isArray(e))return e}function PA(e){if(Array.isArray(e))return ac(e)}function bp(e,n,r){if(xy())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var o=new(e.bind.apply(e,i));return o}function Co(e,n,r){return(n=zA(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xy=function(){return!!e})()}function DA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MA(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,l,s=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(u=(i=a.call(r)).done)&&(s.push(i.value),s.length!==n);u=!0);}catch(p){f=!0,o=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw o}}return s}}function RA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Ir(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?_p(Object(r),!0).forEach(function(i){Co(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function oo(e,n){return IA(e)||MA(e,n)||by(e,n)||RA()}function Dt(e){return PA(e)||DA(e)||by(e)||LA()}function $A(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function zA(e){var n=$A(e,"string");return typeof n=="symbol"?n:n+""}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lc(e)}function by(e,n){if(e){if(typeof e=="string")return ac(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ac(e,n):void 0}}var FA=yy(OA);function wp(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=FA(n(i))})}function UA(e,n){var r=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,l=a===void 0?function(){return!0}:a,s=o.onLoopError,u=s===void 0?function(m){throw"Invalid DAG structure! Found cycle in node path: ".concat(m.join(" -> "),".")}:s,f={};r.forEach(function(m){return f[n(m)]={data:m,out:[],depth:-1,skip:!l(m)}}),i.forEach(function(m){var b=m.source,w=m.target,_=y(b),g=y(w);if(!f.hasOwnProperty(_))throw"Missing source node with id: ".concat(_);if(!f.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var v=f[_],x=f[g];v.out.push(x);function y(k){return lc(k)==="object"?n(k):k}});var p=[];d(Object.values(f));var c=Object.assign.apply(Object,[{}].concat(Dt(Object.entries(f).filter(function(m){var b=oo(m,2),w=b[1];return!w.skip}).map(function(m){var b=oo(m,2),w=b[0],_=b[1];return Co({},w,_.depth)}))));return c;function d(m){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=function(){var y=m[g];if(b.indexOf(y)!==-1){var k=[].concat(Dt(b.slice(b.indexOf(y))),[y]).map(function(N){return n(N.data)});return p.some(function(N){return N.length===k.length&&N.every(function(j,E){return j===k[E]})})||(p.push(k),u(k)),1}w>y.depth&&(y.depth=w,d(y.out,[].concat(Dt(b),[y]),w+(y.skip?0:1)))},g=0,v=m.length;g<v;g++)_()}}var BA=2,Xe=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},kp=function(n,r){if(!r.isShadow){var i=be(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=Dt(Array(a)).map(function(){return{}}):delete o.__photons})}},xl=kf({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,kp(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Xe},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Xe},nodeColor:{default:"color",triggerUpdate:!1,onChange:Xe},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Xe},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Xe},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Xe},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Xe},linkColor:{default:"color",triggerUpdate:!1,onChange:Xe},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Xe},linkWidth:{default:1,triggerUpdate:!1,onChange:Xe},linkCurvature:{default:0,triggerUpdate:!1,onChange:Xe},linkCanvasObject:{triggerUpdate:!1,onChange:Xe},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Xe},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Xe},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Xe},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Xe},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:kp},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),o(),!n.isShadow&&a(),!n.isShadow&&l(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var s=be(n.nodeVisibility),u=be(n.nodeVal),f=be(n.nodeColor),p=be(n.nodeCanvasObjectMode),c=n.ctx,d=n.isShadow/n.globalScale,m=n.graphData.nodes.filter(s);c.save(),m.forEach(function(b){var w=p(b);if(n.nodeCanvasObject&&(w==="before"||w==="replace")&&(n.nodeCanvasObject(b,c,n.globalScale),w==="replace")){c.restore();return}var _=Math.sqrt(Math.max(0,u(b)||1))*n.nodeRelSize+d;c.beginPath(),c.arc(b.x,b.y,_,0,2*Math.PI,!1),c.fillStyle=f(b)||"rgba(31, 120, 180, 0.92)",c.fill(),n.nodeCanvasObject&&w==="after"&&n.nodeCanvasObject(b,n.ctx,n.globalScale)}),c.restore()}function o(){var s=be(n.linkVisibility),u=be(n.linkColor),f=be(n.linkWidth),p=be(n.linkLineDash),c=be(n.linkCurvature),d=be(n.linkCanvasObjectMode),m=n.ctx,b=n.isShadow*2,w=n.graphData.links.filter(s);w.forEach(N);var _=[],g=[],v=w;if(n.linkCanvasObject){var x=[],y=[];w.forEach(function(j){return({before:_,after:g,replace:x}[d(j)]||y).push(j)}),v=[].concat(Dt(_),g,y),_=_.concat(x)}m.save(),_.forEach(function(j){return n.linkCanvasObject(j,m,n.globalScale)}),m.restore();var k=EA(v,[u,f,p]);m.save(),Object.entries(k).forEach(function(j){var E=oo(j,2),C=E[0],S=E[1],T=!C||C==="undefined"?"rgba(0,0,0,0.15)":C;Object.entries(S).forEach(function(O){var P=oo(O,2),A=P[0],L=P[1],U=(A||1)/n.globalScale+b;Object.entries(L).forEach(function(z){var H=oo(z,2);H[0];var D=H[1],M=p(D[0]);m.beginPath(),D.forEach(function(I){var F=I.source,R=I.target;if(!(!F||!R||!F.hasOwnProperty("x")||!R.hasOwnProperty("x"))){m.moveTo(F.x,F.y);var W=I.__controlPoints;W?m[W.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(m,Dt(W).concat([R.x,R.y])):m.lineTo(R.x,R.y)}}),m.strokeStyle=T,m.lineWidth=U,m.setLineDash(M||[]),m.stroke()})})}),m.restore(),m.save(),g.forEach(function(j){return n.linkCanvasObject(j,m,n.globalScale)}),m.restore();function N(j){var E=c(j);if(!E){j.__controlPoints=null;return}var C=j.source,S=j.target;if(!(!C||!S||!C.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var T=Math.sqrt(Math.pow(S.x-C.x,2)+Math.pow(S.y-C.y,2));if(T>0){var O=Math.atan2(S.y-C.y,S.x-C.x),P=T*E,A={x:(C.x+S.x)/2+P*Math.cos(O-Math.PI/2),y:(C.y+S.y)/2+P*Math.sin(O-Math.PI/2)};j.__controlPoints=[A.x,A.y]}else{var L=E*70;j.__controlPoints=[S.x,S.y-L,S.x+L,S.y]}}}}function a(){var s=1.6,u=.2,f=be(n.linkDirectionalArrowLength),p=be(n.linkDirectionalArrowRelPos),c=be(n.linkVisibility),d=be(n.linkDirectionalArrowColor||n.linkColor),m=be(n.nodeVal),b=n.ctx;b.save(),n.graphData.links.filter(c).forEach(function(w){var _=f(w);if(!(!_||_<0)){var g=w.source,v=w.target;if(!(!g||!v||!g.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var x=Math.sqrt(Math.max(0,m(g)||1))*n.nodeRelSize,y=Math.sqrt(Math.max(0,m(v)||1))*n.nodeRelSize,k=Math.min(1,Math.max(0,p(w))),N=d(w)||"rgba(0,0,0,0.28)",j=_/s/2,E=w.__controlPoints&&bp(Ee,[g.x,g.y].concat(Dt(w.__controlPoints),[v.x,v.y])),C=E?function(U){return E.get(U)}:function(U){return{x:g.x+(v.x-g.x)*U||0,y:g.y+(v.y-g.y)*U||0}},S=E?E.length():Math.sqrt(Math.pow(v.x-g.x,2)+Math.pow(v.y-g.y,2)),T=x+_+(S-x-y-_)*k,O=C(T/S),P=C((T-_)/S),A=C((T-_*(1-u))/S),L=Math.atan2(O.y-P.y,O.x-P.x)-Math.PI/2;b.beginPath(),b.moveTo(O.x,O.y),b.lineTo(P.x+j*Math.cos(L),P.y+j*Math.sin(L)),b.lineTo(A.x,A.y),b.lineTo(P.x-j*Math.cos(L),P.y-j*Math.sin(L)),b.fillStyle=N,b.fill()}}}),b.restore()}function l(){var s=be(n.linkDirectionalParticles),u=be(n.linkDirectionalParticleSpeed),f=be(n.linkDirectionalParticleOffset),p=be(n.linkDirectionalParticleWidth),c=be(n.linkVisibility),d=be(n.linkDirectionalParticleColor||n.linkColor),m=n.ctx;m.save(),n.graphData.links.filter(c).forEach(function(b){var w=s(b);if(!(!b.hasOwnProperty("__photons")||!b.__photons.length)){var _=b.source,g=b.target;if(!(!_||!g||!_.hasOwnProperty("x")||!g.hasOwnProperty("x"))){var v=u(b),x=Math.abs(f(b)),y=b.__photons||[],k=Math.max(0,p(b)/2)/Math.sqrt(n.globalScale),N=d(b)||"rgba(0,0,0,0.28)";m.fillStyle=N;var j=b.__controlPoints?bp(Ee,[_.x,_.y].concat(Dt(b.__controlPoints),[g.x,g.y])):null,E=0,C=!1;y.forEach(function(S){var T=!!S.__singleHop;if(S.hasOwnProperty("__progressRatio")||(S.__progressRatio=T?0:(E+x)/w),!T&&E++,S.__progressRatio+=v,S.__progressRatio>=1)if(!T)S.__progressRatio=S.__progressRatio%1;else{C=!0;return}var O=S.__progressRatio,P=j?j.get(O):{x:_.x+(g.x-_.x)*O||0,y:_.y+(g.y-_.y)*O||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(P.x,P.y,b,m,n.globalScale):(m.beginPath(),m.arc(P.x,P.y,k,0,2*Math.PI,!1),m.fill())}),C&&(b.__photons=b.__photons.filter(function(S){return!S.__singleHop||S.__progressRatio<=1}))}}}),m.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:iA().force("link",Q5()).force("charge",oA()).force("center",X3()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&wp(n.graphData.nodes,be(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&wp(n.graphData.links,be(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(d){d.source=d[n.linkSource],d.target=d[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(d){return d[n.nodeId]}).links(n.graphData.links);var o=n.dagMode&&UA(n.graphData,function(d){return d[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),a=Math.max.apply(Math,Dt(Object.values(o||[]))),l=n.dagLevelDistance||n.graphData.nodes.length/(a||1)*BA*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var s=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(d){return delete d[s]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var u=["rl","bu"].includes(n.dagMode),f=function(m){return(o[m[n.nodeId]]-a/2)*l*(u?-1:1)},p=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(d){return d[p]=f(d)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?aA(function(d){var m=o[d[n.nodeId]]||-1;return(n.dagMode==="radialin"?a-m:m)*l}).strength(function(d){return n.dagNodeFilter(d)?1:0}):null);for(var c=0;c<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);c++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function _y(e,n){var r=e instanceof Array?e:[e],i=new n;return i._destructor&&i._destructor(),{linkProp:function(a){return{default:i[a](),onChange:function(s,u){r.forEach(function(f){return u[f][a](s)})},triggerUpdate:!1}},linkMethod:function(a){return function(l){for(var s=arguments.length,u=new Array(s>1?s-1:0),f=1;f<s;f++)u[f-1]=arguments[f];var p=[];return r.forEach(function(c){var d=l[c],m=d[a].apply(d,u);m!==d&&p.push(m)}),p.length?p[0]:this}}}}var qA=800,HA=4,VA=5,wy=_y("forceGraph",xl),WA=_y(["forceGraph","shadowGraph"],xl),GA=Object.assign.apply(Object,Dt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Co({},e,wy.linkProp(e))})).concat(Dt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Co({},e,WA.linkProp(e))})))),KA=Object.assign.apply(Object,Dt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Co({},e,wy.linkMethod(e))})));function Us(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!n&&!r&&a.getContext("2d").scale(i,i)});var o=nn(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/o,(e.height-r)/2/o),e.needsRedraw=!0}}function ky(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function jp(e,n,r){e.save(),ky(e),e.clearRect(0,0,n,r),e.restore()}var YA=kf({props:Ir({width:{default:window.innerWidth,onChange:function(n,r){return Us(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return Us(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(o){return(o||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(o){var a=o.type,l=o.objs;l.filter(function(s){if(!s.hasOwnProperty("__indexColor"))return!0;var u=r.colorTracker.lookup(s.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==s}).forEach(function(s){s.__indexColor=r.colorTracker.register({type:a,d:s})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},GA),aliases:{stopAnimation:"pauseAnimation"},methods:Ir({graph2ScreenCoords:function(n,r,i){var o=nn(n.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(n,r,i){var o=nn(n.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(n,r,i,o){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var a=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?n.tweenGroup.add(new Gh(l()).to(a,o).easing(xr.Quadratic.Out).onUpdate(s).start()):s(a),this}return l();function l(){var u=nn(n.canvas);return{x:(n.width/2-u.x)/u.k,y:(n.height/2-u.y)/u.k}}function s(u){var f=u.x,p=u.y;n.zoom.translateTo(n.zoom.__baseElem,f===void 0?l().x:f,p===void 0?l().y:p),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?n.tweenGroup.add(new Gh({k:o()}).to({k:r},i).easing(xr.Quadratic.Out).onUpdate(function(l){var s=l.k;return a(s)}).start()):a(r),this;return o();function o(){return nn(n.canvas).k}function a(l){n.zoom.scaleTo(n.zoom.__baseElem,l),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];var s=this.getGraphBbox.apply(this,a);if(s){var u={x:(s.x[0]+s.x[1])/2,y:(s.y[0]+s.y[1])/2},f=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(s.x[1]-s.x[0]),(n.height-i*2)/(s.y[1]-s.y[0])));this.centerAt(u.x,u.y,r),this.zoom(f,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=be(n.nodeVal),o=function(s){return Math.sqrt(Math.max(0,i(s)||1))*n.nodeRelSize},a=n.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:o(l)}});return a.length?{x:[qh(a,function(l){return l.x-l.r}),Bh(a,function(l){return l.x+l.r})],y:[qh(a,function(l){return l.y-l.r}),Bh(a,function(l){return l.y+l.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},KA),stateInit:function(){return{lastSetZoom:1,zoom:a4(),forceGraph:new xl,shadowGraph:new xl().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new A3,tweenGroup:new Vv}},init:function(n,r){var i=this;n.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",n.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),s={x:-1e12,y:-1e12},u=function(){var c=null,d=window.devicePixelRatio,m=s.x>0&&s.y>0?l.getImageData(s.x*d,s.y*d,1,1):null;return m&&(c=r.colorTracker.lookup(m.data)),c};Pt(r.canvas).call(mT().subject(function(){if(!r.enableNodeDrag)return null;var p=u();return p&&p.type==="Node"?p.d:null}).on("start",function(p){var c=p.subject;c.__initialDragPos={x:c.x,y:c.y,fx:c.fx,fy:c.fy},p.active||(c.fx=c.x,c.fy=c.y),r.canvas.classList.add("grabbable")}).on("drag",function(p){var c=p.subject,d=c.__initialDragPos,m=p,b=nn(r.canvas).k,w={x:d.x+(m.x-d.x)/b-c.x,y:d.y+(m.y-d.y)/b-c.y};["x","y"].forEach(function(_){return c["f".concat(_)]=c[_]=d[_]+(m[_]-d[_])/b}),!(!c.__dragged&&VA>=Math.sqrt(c4(["x","y"].map(function(_){return Math.pow(p[_]-d[_],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,c.__dragged=!0,r.onNodeDrag(c,w))}).on("end",function(p){var c=p.subject,d=c.__initialDragPos,m={x:c.x-d.x,y:c.y-d.y};d.fx===void 0&&(c.fx=void 0),d.fy===void 0&&(c.fy=void 0),delete c.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,c.__dragged&&(delete c.__dragged,r.onNodeDragEnd(c,m))})),r.zoom(r.zoom.__baseElem=Pt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(p){return!p.button&&r.enableZoomPanInteraction&&(p.type!=="wheel"||be(r.enableZoomInteraction)(p))&&(p.type==="wheel"||be(r.enablePanInteraction)(p))}).on("zoom",function(p){var c=p.transform;[a,l].forEach(function(d){ky(d),d.translate(c.x,c.y),d.scale(c.k,c.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Ir(Ir({},c),i.centerAt())),r.needsRedraw=!0}).on("end",function(p){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Ir(Ir({},p.transform),i.centerAt()))}),Us(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){nn(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=HA/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Z3(o),["pointermove","pointerdown"].forEach(function(p){return o.addEventListener(p,function(c){p==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=c),!r.isPointerDragging&&c.type==="pointermove"&&r.onBackgroundClick&&(c.pressure>0||r.isPointerPressed)&&(c.pointerType==="mouse"||c.movementX===void 0||[c.movementX,c.movementY].some(function(b){return Math.abs(b)>1}))&&(r.isPointerDragging=!0);var d=m(o);s.x=c.pageX-d.left,s.y=c.pageY-d.top;function m(b){var w=b.getBoundingClientRect(),_=window.pageXOffset||document.documentElement.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop;return{top:w.top+g,left:w.left+_}}},{passive:!0})}),o.addEventListener("pointerup",function(p){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var c=[p,r.pointerDownEvent];requestAnimationFrame(function(){if(p.button===0)if(r.hoverObj){var d=r["on".concat(r.hoverObj.type,"Click")];d&&d.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,c);if(p.button===2)if(r.hoverObj){var m=r["on".concat(r.hoverObj.type,"RightClick")];m&&m.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,c)})}},{passive:!0}),o.addEventListener("contextmenu",function(p){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(p.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(l);var f=L4(function(){jp(l,r.width,r.height),r.shadowGraph.linkWidth(function(c){return be(r.linkWidth)(c)+r.linkHoverPrecision});var p=nn(r.canvas);r.shadowGraph.globalScale(p.k).tickFrame()},qA);r.flushShadowCanvas=f.flush,(this._animationCycle=function p(){var c=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(x){return x.__photons&&x.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var d=r.isPointerDragging?null:u();if(d!==r.hoverObj){var m=r.hoverObj,b=m?m.type:null,w=d?d.type:null;if(b&&b!==w){var _=r["on".concat(b,"Hover")];_&&_(null,m.d)}if(w){var g=r["on".concat(w,"Hover")];g&&g(d.d,b===w?m.d:null)}r.tooltip.content(d&&be(r["".concat(d.type.toLowerCase(),"Label")])(d.d)||null),r.canvas.classList[(d&&r["on".concat(w,"Click")]||!d&&r.onBackgroundClick)&&be(r.showPointerCursor)(d==null?void 0:d.d)?"add":"remove"]("clickable"),r.hoverObj=d}c&&f()}if(c){jp(a,r.width,r.height);var v=nn(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,v),r.forceGraph.globalScale(v).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,v)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(p)})()},update:function(n){}}),jy={exports:{}},QA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZA=QA,XA=ZA;function Ny(){}function Ey(){}Ey.resetWarningCache=Ny;var JA=function(){function e(i,o,a,l,s,u){if(u!==XA){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Ey,resetWarningCache:Ny};return r.PropTypes=r,r};jy.exports=JA();var eC=jy.exports;const K=sc(eC),Jl={width:K.number,height:K.number,graphData:K.shape({nodes:K.arrayOf(K.object).isRequired,links:K.arrayOf(K.object).isRequired}),backgroundColor:K.string,nodeRelSize:K.number,nodeId:K.string,nodeLabel:K.oneOfType([K.string,K.func]),nodeVal:K.oneOfType([K.number,K.string,K.func]),nodeVisibility:K.oneOfType([K.bool,K.string,K.func]),nodeColor:K.oneOfType([K.string,K.func]),nodeAutoColorBy:K.oneOfType([K.string,K.func]),onNodeHover:K.func,onNodeClick:K.func,linkSource:K.string,linkTarget:K.string,linkLabel:K.oneOfType([K.string,K.func]),linkVisibility:K.oneOfType([K.bool,K.string,K.func]),linkColor:K.oneOfType([K.string,K.func]),linkAutoColorBy:K.oneOfType([K.string,K.func]),linkWidth:K.oneOfType([K.number,K.string,K.func]),linkCurvature:K.oneOfType([K.number,K.string,K.func]),linkDirectionalArrowLength:K.oneOfType([K.number,K.string,K.func]),linkDirectionalArrowColor:K.oneOfType([K.string,K.func]),linkDirectionalArrowRelPos:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticles:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleSpeed:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleOffset:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleWidth:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleColor:K.oneOfType([K.string,K.func]),onLinkHover:K.func,onLinkClick:K.func,dagMode:K.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:K.number,dagNodeFilter:K.func,onDagError:K.func,d3AlphaMin:K.number,d3AlphaDecay:K.number,d3VelocityDecay:K.number,warmupTicks:K.number,cooldownTicks:K.number,cooldownTime:K.number,onEngineTick:K.func,onEngineStop:K.func,getGraphBbox:K.func},Sy={zoomToFit:K.func,onNodeRightClick:K.func,onNodeDrag:K.func,onNodeDragEnd:K.func,onLinkRightClick:K.func,linkHoverPrecision:K.number,onBackgroundClick:K.func,onBackgroundRightClick:K.func,showPointerCursor:K.oneOfType([K.bool,K.func]),enablePointerInteraction:K.bool,enableNodeDrag:K.bool},Cf={showNavInfo:K.bool,nodeOpacity:K.number,nodeResolution:K.number,nodeThreeObject:K.oneOfType([K.object,K.string,K.func]),nodeThreeObjectExtend:K.oneOfType([K.bool,K.string,K.func]),nodePositionUpdate:K.func,linkOpacity:K.number,linkResolution:K.number,linkCurveRotation:K.oneOfType([K.number,K.string,K.func]),linkMaterial:K.oneOfType([K.object,K.string,K.func]),linkThreeObject:K.oneOfType([K.object,K.string,K.func]),linkThreeObjectExtend:K.oneOfType([K.bool,K.string,K.func]),linkPositionUpdate:K.func,linkDirectionalArrowResolution:K.number,linkDirectionalParticleResolution:K.number,linkDirectionalParticleThreeObject:K.oneOfType([K.object,K.string,K.func]),forceEngine:K.oneOf(["d3","ngraph"]),ngraphPhysics:K.object,numDimensions:K.oneOf([1,2,3])},tC=Object.assign({},Jl,Sy,{linkLineDash:K.oneOfType([K.arrayOf(K.number),K.string,K.func]),nodeCanvasObjectMode:K.oneOfType([K.string,K.func]),nodeCanvasObject:K.func,nodePointerAreaPaint:K.func,linkCanvasObjectMode:K.oneOfType([K.string,K.func]),linkCanvasObject:K.func,linkPointerAreaPaint:K.func,linkDirectionalParticleCanvasObject:K.func,autoPauseRedraw:K.bool,minZoom:K.number,maxZoom:K.number,enableZoomInteraction:K.oneOfType([K.bool,K.func]),enablePanInteraction:K.oneOfType([K.bool,K.func]),onZoom:K.func,onZoomEnd:K.func,onRenderFramePre:K.func,onRenderFramePost:K.func});Object.assign({},Jl,Sy,Cf,{enableNavigationControls:K.bool,controlType:K.oneOf(["trackball","orbit","fly"]),rendererConfig:K.object,extraRenderers:K.arrayOf(K.shape({render:K.func.isRequired}))});Object.assign({},Jl,Cf,{nodeDesc:K.oneOfType([K.string,K.func]),linkDesc:K.oneOfType([K.string,K.func])});Object.assign({},Jl,Cf,{markerAttrs:K.object,yOffset:K.number,glScale:K.number});const If=TE(YA,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});If.displayName="ForceGraph2D";If.propTypes=tC;const Np={area:"#BF5AF2",project:"#F2F2F7",note:"#8E8E93",resource:"#636366"},nC=({areas:e,projects:n,notes:r,resources:i,onNavigate:o})=>{const a=G.useRef(null),l=G.useMemo(()=>{const u=[],f=[],p=new Set;e.forEach(m=>u.push({id:m.id,name:m.title,type:"area",val:20})),n.forEach(m=>u.push({id:m.id,name:m.title,type:"project",val:10})),r.forEach(m=>u.push({id:m.id,name:m.title,type:"note",val:5})),i.forEach(m=>u.push({id:m.id,name:m.title,type:"resource",val:5}));const c=(m,b)=>{const w=`${m}-${b}`;p.has(w)||(f.push({source:m,target:b}),p.add(w))};n.forEach(m=>{m.areaId&&c(m.areaId,m.id)}),r.forEach(m=>{m.parentIds.forEach(b=>c(b,m.id))}),i.forEach(m=>{m.parentIds.forEach(b=>c(b,m.id))});const d=/data-link-id="([^"]+)"/g;return r.forEach(m=>{let b;for(;(b=d.exec(m.content))!==null;){const w=b[1];c(m.id,w)}}),{nodes:u,links:f}},[e,n,r,i]),s=G.useCallback(u=>{const{id:f,type:p}=u;switch(p){case"area":o("areas",f);break;case"project":o("projects",f);break;case"note":case"resource":const c=[...r,...i].find(d=>d.id===f);if(c){const d=c.parentIds.find(m=>m.startsWith("proj-"));d&&o("projects",d)}break}a.current&&a.current.cameraPosition({x:u.x*1.5,y:u.y*1.5},null,1e3)},[o,r,i]);return h.jsx("div",{className:"w-full h-full overflow-clip bg-surface/80 backdrop-blur-xl border border-outline rounded-2xl shadow-md",children:h.jsx(If,{ref:a,graphData:l,nodeLabel:"name",nodeColor:u=>Np[u.type]||"#FFFFFF",linkColor:()=>"rgba(142, 142, 147, 0.3)",linkWidth:1,onNodeClick:s,nodeCanvasObject:(u,f,p)=>{const c=u.name,d=12/p;f.font=`${d}px Inter, sans-serif`;const b=[f.measureText(c).width,d].map(w=>w+d*.4);f.fillStyle="rgba(22, 22, 24, 0.8)",f.fillRect(u.x-b[0]/2,u.y-b[1]/2,b[0],b[1]),f.textAlign="center",f.textBaseline="middle",f.fillStyle=Np[u.type],f.fillText(c,u.x,u.y),u.__bckgDimensions=b},nodePointerAreaPaint:(u,f,p)=>{p.fillStyle=f;const c=u.__bckgDimensions;c&&p.fillRect(u.x-c[0]/2,u.y-c[1]/2,c[0],c[1])}})})},rC=he.memo(nC),iC=()=>{const{state:e,dispatch:n}=xi(),r=G.useRef(null),i=()=>{try{const l=JSON.stringify({version:"1.0.0",exportedAt:new Date().toISOString(),...e},null,2),s=new Blob([l],{type:"application/json"}),u=URL.createObjectURL(s),f=document.createElement("a"),p=new Date().toISOString().slice(0,10);f.download=`second-brain-backup-${p}.json`,f.href=u,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(u)}catch(l){console.error("Failed to export data:",l),alert("An error occurred while exporting your data. Please check the console for details.")}},o=()=>{var l;(l=r.current)==null||l.click()},a=l=>{var f;const s=(f=l.target.files)==null?void 0:f[0];if(!s)return;if(!window.confirm(`Are you sure you want to import this file?

WARNING: This will overwrite all current data in the application. This action cannot be undone.`)){r.current&&(r.current.value="");return}const u=new FileReader;u.onload=p=>{var c;try{const d=(c=p.target)==null?void 0:c.result;if(typeof d!="string")throw new Error("File could not be read.");const m=JSON.parse(d);if(m&&m.areas&&m.projects&&m.tasks&&m.notes&&m.resources){const{version:b,exportedAt:w,..._}=m;n({type:"REPLACE_STATE",payload:_}),alert("Data imported successfully!")}else throw new Error("Invalid backup file format.")}catch(d){console.error("Failed to import data:",d),alert(`An error occurred while importing the data: ${d instanceof Error?d.message:String(d)}`)}finally{r.current&&(r.current.value="")}},u.onerror=()=>{alert("Error reading file."),r.current&&(r.current.value="")},u.readAsText(s)};return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:"Settings"}),h.jsx("p",{className:"text-text-secondary",children:"Manage your application settings and data."})]}),h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl border border-outline rounded-xl shadow-md p-6 max-w-2xl space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-2 font-heading",children:"Export Data"}),h.jsx("p",{className:"text-text-secondary mb-4",children:"Save a complete backup of your Second Brain. Export all your data into a single JSON file for backup or migration. Keep this file safe."}),h.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-secondary hover:bg-secondary-hover text-secondary-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(ax,{className:"w-5 h-5"}),"Export All Data"]})]}),h.jsx("div",{className:"border-t border-outline-dark my-6"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-2 font-heading",children:"Import Data"}),h.jsx("p",{className:"text-text-secondary mb-4",children:"Restore your Second Brain from a backup file. This will replace all current data in the application."}),h.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-destructive hover:bg-destructive-hover text-destructive-content font-semibold px-4 py-2 transition-colors rounded-lg shadow-sm active:scale-95",children:[h.jsx(lx,{className:"w-5 h-5"}),"Import from Backup"]}),h.jsx("input",{type:"file",ref:r,onChange:a,accept:"application/json",className:"hidden"})]})]})]})},oC=he.memo(iC),aC=({isOpen:e,onClose:n,onCommand:r,areas:i,projects:o,notes:a,resources:l,tasks:s})=>{const[u,f]=G.useState(""),[p,c]=G.useState(0),d=G.useRef(null),m=G.useRef(null);G.useEffect(()=>{e&&(f(""),c(0),setTimeout(()=>{var y;return(y=d.current)==null?void 0:y.focus()},100))},[e]);const b=G.useMemo(()=>[{id:"new-task",type:"action",title:"New Task",category:"Actions",icon:h.jsx(We,{className:"w-5 h-5"}),action:()=>{}},{id:"new-note",type:"action",title:"New Note",category:"Actions",icon:h.jsx(We,{className:"w-5 h-5"}),action:()=>{}},{id:"new-resource",type:"action",title:"New Resource",category:"Actions",icon:h.jsx(We,{className:"w-5 h-5"}),action:()=>{}},{id:"new-project",type:"action",title:"New Project",category:"Actions",icon:h.jsx(We,{className:"w-5 h-5"}),action:()=>{}},{id:"new-area",type:"action",title:"New Area",category:"Actions",icon:h.jsx(We,{className:"w-5 h-5"}),action:()=>{}},{id:"go-home",type:"navigation",title:"Go to Home",category:"Navigation",icon:h.jsx(Bm,{className:"w-5 h-5"}),action:()=>{}},{id:"go-areas",type:"navigation",title:"Go to Areas",category:"Navigation",icon:h.jsx(mt,{className:"w-5 h-5"}),action:()=>{}},{id:"go-projects",type:"navigation",title:"Go to Projects",category:"Navigation",icon:h.jsx(gt,{className:"w-5 h-5"}),action:()=>{}},{id:"go-tasks",type:"navigation",title:"Go to All Tasks",category:"Navigation",icon:h.jsx(Zt,{className:"w-5 h-5"}),action:()=>{}},{id:"go-review",type:"navigation",title:"Go to Review",category:"Navigation",icon:h.jsx($o,{className:"w-5 h-5"}),action:()=>{}},{id:"go-graph",type:"navigation",title:"Go to Graph",category:"Navigation",icon:h.jsx(Um,{className:"w-5 h-5"}),action:()=>{}},{id:"go-archives",type:"navigation",title:"Go to Archives",category:"Navigation",icon:h.jsx(rf,{className:"w-5 h-5"}),action:()=>{}}],[]),w=G.useMemo(()=>[...i.map(k=>({...k,itemType:"area"})),...o.map(k=>({...k,itemType:"project"})),...a.map(k=>({...k,itemType:"note"})),...l.map(k=>({...k,itemType:"resource"})),...s.map(k=>({...k,itemType:"task"}))].filter(k=>k.status==="active").map(k=>{let N=h.jsx(ai,{className:"w-5 h-5"});return k.itemType==="area"&&(N=h.jsx(mt,{className:"w-5 h-5"})),k.itemType==="project"&&(N=h.jsx(gt,{className:"w-5 h-5"})),k.itemType==="note"&&(N=h.jsx(tt,{className:"w-5 h-5"})),k.itemType==="resource"&&(N=h.jsx(vt,{className:"w-5 h-5"})),k.itemType==="task"&&(N=h.jsx(Zt,{className:"w-5 h-5"})),{id:k.id,type:"item",title:k.title,category:"Items",icon:N,action:()=>{}}}),[i,o,a,l,s]),_=G.useMemo(()=>{const y=u.toLowerCase();if(!y){const N=["new-task","new-note","new-resource","new-project","new-area"];return b.filter(j=>j.type==="navigation"||j.type==="action"&&N.includes(j.id))}return[...b,...w].filter(N=>N.title.toLowerCase().includes(y))},[u,b,w]),g=G.useMemo(()=>_.reduce((y,k)=>(y[k.category]||(y[k.category]=[]),y[k.category].push(k),y),{}),[_]),v=G.useMemo(()=>Object.values(g).flat(),[g]);G.useEffect(()=>{c(0)},[u]),G.useEffect(()=>{const y=k=>{k.key==="ArrowDown"?(k.preventDefault(),c(N=>(N+1)%v.length)):k.key==="ArrowUp"?(k.preventDefault(),c(N=>(N-1+v.length)%v.length)):k.key==="Enter"&&(k.preventDefault(),v[p]&&x(v[p]))};return e&&window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[e,p,v]),G.useEffect(()=>{var y,k;(k=(y=m.current)==null?void 0:y.children[p])==null||k.scrollIntoView({block:"nearest"})},[p]);const x=y=>{r(y)};return e?h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-start justify-center pt-24 backdrop-blur-md",onClick:n,children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl border border-outline rounded-2xl shadow-lg",onClick:y=>y.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-outline-dark",children:[h.jsx(ai,{className:"w-5 h-5 text-text-secondary"}),h.jsx("input",{ref:d,type:"text",value:u,onChange:y=>f(y.target.value),placeholder:"Type a command or search...",className:"w-full bg-transparent focus:outline-none text-lg"})]}),h.jsxs("ul",{ref:m,className:"max-h-[50vh] overflow-y-auto custom-scrollbar p-2",children:[Object.entries(g).map(([y,k])=>h.jsxs("li",{children:[h.jsx("h3",{className:"text-xs font-semibold text-text-secondary px-2 pt-2 pb-1",children:y}),h.jsx("ul",{children:k.map(N=>{const j=v.findIndex(E=>E.id===N.id);return h.jsxs("li",{onClick:()=>x(N),onMouseEnter:()=>c(j),className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer ${p===j?"bg-accent text-accent-content":"text-text-primary"}`,children:[h.jsx("span",{className:p===j?"":"text-text-secondary",children:N.icon}),h.jsx("span",{children:N.title})]},N.id)})})]},y)),_.length===0&&h.jsx("li",{className:"p-4 text-center text-text-secondary",children:"No results found."})]})]})}):null},lC=he.memo(aC),sC=({isOpen:e,onClose:n,onLink:r,taskToLink:i,projects:o})=>{const[a,l]=G.useState(""),s=o.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())),u=f=>{r(i.id,f)};return e?h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"link-task-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-outline rounded-xl shadow-lg",onClick:f=>f.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"link-task-title",className:"text-xl font-bold font-heading",children:"Link Task to Project"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-6 flex-1 flex flex-col overflow-y-hidden",children:[h.jsx("p",{className:"text-text-secondary mb-2",children:"Linking task:"}),h.jsx("p",{className:"font-bold text-lg text-text-primary mb-4",children:i.title}),h.jsxs("div",{className:"relative mb-2",children:[h.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),h.jsx("input",{type:"text",value:a,onChange:f=>l(f.target.value),placeholder:"Search projects...",className:"w-full bg-background/50 border border-outline rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent"})]}),h.jsx("ul",{className:"flex-1 space-y-1 border border-outline-dark p-2 rounded-lg overflow-y-auto custom-scrollbar bg-background/30",children:s.length>0?s.map(f=>h.jsx("li",{children:h.jsxs("button",{onClick:()=>u(f.id),className:"w-full text-left flex items-center gap-2 p-2 rounded-md hover:bg-neutral transition-colors",children:[h.jsx(gt,{className:"w-4 h-4 text-text-secondary flex-shrink-0"}),h.jsx("span",{className:"truncate",children:f.title})]})},f.id)):h.jsx("li",{className:"p-4 text-center text-sm text-text-tertiary",children:"No projects found."})})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"})})})]})}):null},uC=he.memo(sC),cC=({isOpen:e,onClose:n,onLinkItems:r,notes:i,resources:o,existingNoteIds:a,existingResourceIds:l})=>{const[s,u]=G.useState(""),[f,p]=G.useState([]),[c,d]=G.useState([]),m=G.useMemo(()=>{const _=s.toLowerCase(),g=i.filter(x=>!a.includes(x.id)&&x.title.toLowerCase().includes(_)).map(x=>({...x,type:"note"})),v=o.filter(x=>!l.includes(x.id)&&x.title.toLowerCase().includes(_)).map(x=>({...x,type:"resource"}));return{notes:g,resources:v}},[s,i,o,a,l]),b=(_,g)=>{_==="note"?p(v=>v.includes(g)?v.filter(x=>x!==g):[...v,g]):d(v=>v.includes(g)?v.filter(x=>x!==g):[...v,g])},w=()=>{r({noteIds:f,resourceIds:c}),n()};return e?h.jsx("div",{className:"fixed inset-0 bg-black/30 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"link-item-title",children:h.jsxs("div",{className:"bg-surface/90 backdrop-blur-xl w-full max-w-lg max-h-[80vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:_=>_.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("h2",{id:"link-item-title",className:"text-xl font-bold font-heading",children:"Link Items"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-4 flex-1 flex flex-col overflow-y-hidden",children:[h.jsxs("div",{className:"relative mb-2 flex-shrink-0",children:[h.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),h.jsx("input",{type:"text",value:s,onChange:_=>u(_.target.value),placeholder:"Search notes and resources...",className:"w-full bg-background/50 border border-outline rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent"})]}),h.jsx("div",{className:"flex-1 space-y-1 border border-outline-dark p-2 rounded-lg overflow-y-auto custom-scrollbar bg-background/30",children:m.notes.length===0&&m.resources.length===0?h.jsx("p",{className:"p-4 text-center text-sm text-text-tertiary",children:"No items found."}):h.jsxs(h.Fragment,{children:[m.notes.map(_=>h.jsxs("div",{className:"flex items-center p-1",children:[h.jsx("input",{type:"checkbox",id:`link-item-${_.id}`,checked:f.includes(_.id),onChange:()=>b("note",_.id),className:"h-4 w-4 rounded border-outline bg-surface text-accent focus:ring-accent"}),h.jsxs("label",{htmlFor:`link-item-${_.id}`,className:"ml-3 flex items-center gap-2 text-sm text-text-primary",children:[h.jsx(tt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{children:_.title})]})]},_.id)),m.resources.map(_=>h.jsxs("div",{className:"flex items-center p-1",children:[h.jsx("input",{type:"checkbox",id:`link-item-${_.id}`,checked:c.includes(_.id),onChange:()=>b("resource",_.id),className:"h-4 w-4 rounded border-outline bg-surface text-accent focus:ring-accent"}),h.jsxs("label",{htmlFor:`link-item-${_.id}`,className:"ml-3 flex items-center gap-2 text-sm text-text-primary",children:[h.jsx(vt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{children:_.title})]})]},_.id))]})})]}),h.jsx("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0",children:h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:w,disabled:f.length===0&&c.length===0,className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg disabled:bg-neutral disabled:text-text-tertiary",children:"Link Items"})]})})]})}):null},fC=he.memo(cC),dC=({isOpen:e,onClose:n,onSave:r,onAddSubtask:i,onToggleSubtask:o,onDelete:a,task:l,allTasks:s,projects:u,notes:f,resources:p})=>{const[c,d]=G.useState(l.title),[m,b]=G.useState(l.description),[w,_]=G.useState(l.priority),[g,v]=G.useState(l.dueDate?l.dueDate.split("T")[0]:""),[x,y]=G.useState(l.tags||[]),[k,N]=G.useState(""),[j,E]=G.useState(!1);G.useEffect(()=>{d(l.title),b(l.description),_(l.priority),v(l.dueDate?l.dueDate.split("T")[0]:""),y(l.tags||[]),E(!1)},[l]);const{subtasks:C,linkedNotes:S,linkedResources:T,project:O}=G.useMemo(()=>{const z=s.filter(I=>(l.subtaskIds||[]).includes(I.id)),H=f.filter(I=>(l.noteIds||[]).includes(I.id)),D=p.filter(I=>(l.resourceIds||[]).includes(I.id)),M=u.find(I=>I.id===l.projectId);return{subtasks:z,linkedNotes:H,linkedResources:D,project:M}},[l,s,f,p,u]),P=()=>{const z={};c!==l.title&&(z.title=c),m!==l.description&&(z.description=m),w!==l.priority&&(z.priority=w),g!==(l.dueDate?l.dueDate.split("T")[0]:"")&&(z.dueDate=g),JSON.stringify(x)!==JSON.stringify(l.tags||[])&&(z.tags=x),Object.keys(z).length>0&&r(l.id,z),n()},A=z=>{z.preventDefault(),k.trim()&&(i(l.id,{title:k.trim()}),N(""))},L=(z,H)=>{let D={};z==="note"?D.noteIds=(l.noteIds||[]).filter(M=>M!==H):D.resourceIds=(l.resourceIds||[]).filter(M=>M!==H),r(l.id,D)},U=z=>{const H={};H.noteIds=[...new Set([...l.noteIds||[],...z.noteIds])],H.resourceIds=[...new Set([...l.resourceIds||[],...z.resourceIds])],r(l.id,H),E(!1)};return e?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/20 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"task-detail-title",children:h.jsxs("div",{className:"bg-surface/80 backdrop-blur-xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-outline rounded-2xl shadow-lg",onClick:z=>z.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark flex-shrink-0",children:[h.jsx("input",{id:"task-detail-title",type:"text",value:c,onChange:z=>d(z.target.value),className:"w-full bg-transparent border-none text-xl font-bold font-heading text-text-primary focus:outline-none focus:ring-0"}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:[h.jsx(gt,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Project:"}),h.jsx("span",{className:"font-semibold truncate",children:(O==null?void 0:O.title)||"None"})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:[h.jsx(Rl,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Priority:"}),h.jsxs("select",{value:w||"Medium",onChange:z=>_(z.target.value),className:"bg-transparent font-semibold focus:outline-none",children:[h.jsx("option",{children:"Low"}),h.jsx("option",{children:"Medium"}),h.jsx("option",{children:"High"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-background/50 p-2 rounded-lg border border-outline",children:[h.jsx(Or,{className:"w-4 h-4 text-text-secondary"}),h.jsx("span",{className:"text-text-secondary",children:"Due:"}),h.jsx("input",{type:"date",value:g,onChange:z=>v(z.target.value),className:"bg-transparent font-semibold focus:outline-none"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4"})," Description"]}),h.jsx("textarea",{value:m,onChange:z=>b(z.target.value),rows:4,placeholder:"Add more details...",className:"w-full bg-background/50 border border-outline rounded-lg p-3 text-text-primary focus:outline-none focus:ring-1 focus:ring-accent custom-scrollbar"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-semibold text-text-secondary mb-2",children:"Tags"}),h.jsx(Nr,{tags:x,onTagsChange:y})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary mb-2 flex items-center gap-2",children:[h.jsx($o,{className:"w-4 h-4"})," Subtasks"]}),h.jsxs("form",{onSubmit:A,className:"flex gap-2 mb-2",children:[h.jsx("input",{type:"text",value:k,onChange:z=>N(z.target.value),placeholder:"Add a subtask...",className:"flex-1 bg-background/50 border border-outline px-3 py-1.5 text-sm rounded-lg focus:ring-1 focus:ring-accent focus:outline-none"}),h.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover rounded-lg",children:h.jsx(We,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-1",children:C.map(z=>h.jsx(rl,{task:z,onToggleTask:o,onUpdateTask:r,allTasks:s},z.id))})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("label",{className:"text-sm font-semibold text-text-secondary flex items-center gap-2",children:[h.jsx(nr,{className:"w-4 h-4"})," Linked Items"]}),h.jsxs("button",{onClick:()=>E(!0),className:"px-2 py-1 text-xs bg-secondary hover:bg-secondary-hover rounded-md flex items-center gap-1",children:[h.jsx(We,{className:"w-3 h-3"})," Link"]})]}),S.length>0||T.length>0?h.jsxs("ul",{className:"space-y-1",children:[S.map(z=>h.jsxs("li",{className:"group flex items-center justify-between p-2 bg-background/30 rounded-lg text-sm",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(tt,{className:"w-4 h-4 text-text-tertiary"})," ",z.title]}),h.jsx("button",{onClick:()=>L("note",z.id),className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-destructive",children:h.jsx(Lt,{className:"w-3 h-3"})})]},z.id)),T.map(z=>h.jsxs("li",{className:"group flex items-center justify-between p-2 bg-background/30 rounded-lg text-sm",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(vt,{className:"w-4 h-4 text-text-tertiary"})," ",z.title]}),h.jsx("button",{onClick:()=>L("resource",z.id),className:"opacity-0 group-hover:opacity-100 text-text-tertiary hover:text-destructive",children:h.jsx(Lt,{className:"w-3 h-3"})})]},z.id))]}):h.jsx("p",{className:"text-xs text-text-tertiary text-center p-2 border-2 border-dashed border-outline-dark rounded-lg",children:"No items linked. Link notes or resources for context."})]})]}),h.jsxs("footer",{className:"p-4 bg-black/5 border-t border-outline-dark mt-auto flex-shrink-0 flex justify-between items-center",children:[h.jsxs("button",{type:"button",onClick:()=>a(l.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-destructive bg-destructive/20 hover:bg-destructive/30 transition-colors rounded-lg",children:[h.jsx(Lo,{className:"w-4 h-4"}),"Delete"]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-sm font-medium bg-accent hover:bg-accent-hover text-accent-content transition-colors rounded-lg",children:"Save & Close"})]})]})]})}),h.jsx(fC,{isOpen:j,onClose:()=>E(!1),onLinkItems:U,notes:f,resources:p,existingNoteIds:l.noteIds||[],existingResourceIds:l.resourceIds||[]})]}):null},hC=he.memo(dC),pC={High:"bg-priority-high",Medium:"bg-priority-medium",Low:"bg-priority-low"},gC=({tasks:e,projects:n,onNavigate:r})=>{const[i,o]=G.useState(new Date),a=G.useMemo(()=>{const g=new Map;return e.forEach(v=>{if(v.dueDate){const x=new Date(v.dueDate).toISOString().split("T")[0];g.has(x)||g.set(x,[]),g.get(x).push(v)}}),g},[e]),l=new Date(i.getFullYear(),i.getMonth(),1),s=new Date(i.getFullYear(),i.getMonth()+1,0),u=new Date(l);u.setDate(u.getDate()-u.getDay());const f=new Date(s);f.setDate(f.getDate()+(6-f.getDay()));const p=[];let c=new Date(u);for(;c<=f;)p.push(new Date(c)),c.setDate(c.getDate()+1);const d=new Date;d.setHours(0,0,0,0);const m=()=>{o(new Date(i.getFullYear(),i.getMonth()-1,1))},b=()=>{o(new Date(i.getFullYear(),i.getMonth()+1,1))},w=()=>{o(new Date)},_=g=>{g.projectId&&r("projects",g.projectId)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold font-heading",children:i.toLocaleString("default",{month:"long",year:"numeric"})}),h.jsx("p",{className:"text-text-secondary",children:"A monthly overview of your tasks."})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:w,className:"px-3 py-1.5 text-sm bg-secondary hover:bg-secondary-hover text-secondary-content transition-all rounded-lg active:scale-95",children:"Today"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("button",{onClick:m,className:"p-2 text-text-secondary hover:bg-neutral rounded-full",children:h.jsx(fx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:b,className:"p-2 text-text-secondary hover:bg-neutral rounded-full",children:h.jsx(dx,{className:"w-5 h-5"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-7 gap-px text-center text-sm font-semibold text-text-secondary bg-outline-dark border border-outline-dark rounded-t-lg overflow-hidden",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(g=>h.jsx("div",{className:"py-2 bg-surface",children:g},g))}),h.jsx("div",{className:"grid grid-cols-7 grid-rows-6 gap-px flex-1 bg-outline-dark border-l border-r border-b border-outline-dark rounded-b-lg overflow-hidden",children:p.map(g=>{const v=g.toISOString().split("T")[0],x=a.get(v)||[],y=g.getTime()===d.getTime(),k=g.getMonth()===i.getMonth();return h.jsxs("div",{className:`relative p-2 bg-surface flex flex-col ${k?"":"bg-background/50"}`,children:[h.jsx("span",{className:`mb-1 ${y?"bg-accent text-accent-content rounded-full w-6 h-6 flex items-center justify-center font-bold":""} ${k?"":"text-text-tertiary"}`,children:g.getDate()}),h.jsx("ul",{className:"space-y-1 overflow-y-auto custom-scrollbar flex-1 -mx-1 px-1",children:x.map(N=>h.jsx("li",{children:h.jsx("button",{onClick:()=>_(N),className:"w-full text-left text-xs p-1 rounded-md bg-secondary hover:bg-secondary-hover transition-colors",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${pC[N.priority||"Medium"]||"bg-text-tertiary"}`}),h.jsx("span",{className:"truncate",children:N.title})]})})},N.id))})]},v)})})]})},mC=he.memo(gC),vC=({isOpen:e,onClose:n,onConfirm:r,title:i,message:o,confirmLabel:a="Confirm"})=>{if(!e)return null;const l=()=>{r(),n()};return h.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center p-4 backdrop-blur-md",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:h.jsxs("div",{className:"bg-surface/90 backdrop-blur-xl w-full max-w-md border border-outline rounded-2xl shadow-lg animate-pop-in",onClick:s=>s.stopPropagation(),children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-outline-dark",children:[h.jsx("h2",{id:"confirm-modal-title",className:"text-xl font-bold font-heading",children:i}),h.jsx("button",{onClick:n,"aria-label":"Close",className:"text-text-secondary hover:text-text-primary",children:h.jsx(Lt,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{className:"text-text-secondary whitespace-pre-wrap",children:o})}),h.jsxs("footer",{className:"p-4 bg-black/5 border-t border-outline-dark flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium bg-secondary hover:bg-secondary-hover text-secondary-content transition-colors rounded-lg",children:"Cancel"}),h.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium bg-destructive hover:bg-destructive-hover text-destructive-content transition-colors rounded-lg",children:a})]})]})})},yC=he.memo(vC),xC=()=>{const{state:e,dispatch:n}=xi(),{areas:r,projects:i,tasks:o,notes:a,resources:l}=e,{state:s,dispatch:u}=Ll(),{currentView:f,activeAreaId:p,activeProjectId:c,isCaptureModalOpen:d,captureContext:m,editingNoteId:b,editingResourceId:w,editingTaskId:_,organizingItem:g,searchQuery:v,isCommandBarOpen:x,toastMessage:y,linkingTask:k,confirmModal:N,isFocusMode:j}=s,E=G.useCallback((Z=null)=>{u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!0,context:Z}})},[u]);G.useEffect(()=>{const Z=q=>{const ae=q.target,pe=["INPUT","TEXTAREA"].includes(ae.tagName)||ae.isContentEditable;if(q.key==="Escape"){N?u({type:"CLOSE_CONFIRM_MODAL"}):x?u({type:"SET_COMMAND_BAR_OPEN",payload:!1}):d?u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!1}}):b?u({type:"SET_EDITING_NOTE",payload:null}):_?u({type:"SET_EDITING_TASK",payload:null}):w?u({type:"SET_EDITING_RESOURCE",payload:null}):g?u({type:"SET_ORGANIZING_ITEM",payload:null}):k?u({type:"SET_LINKING_TASK",payload:null}):j?u({type:"TOGGLE_FOCUS_MODE"}):pe&&ae.blur();return}pe||((q.metaKey||q.ctrlKey)&&q.key==="k"?(q.preventDefault(),u({type:"SET_COMMAND_BAR_OPEN",payload:!x})):q.key==="c"&&!q.metaKey&&!q.ctrlKey?(q.preventDefault(),u({type:"SET_COMMAND_BAR_OPEN",payload:!0})):q.key==="n"&&!q.metaKey&&!q.ctrlKey?(q.preventDefault(),E({parentId:null,itemType:"note"})):q.key==="t"&&!q.metaKey&&!q.ctrlKey&&(q.preventDefault(),E({parentId:null,itemType:"task"})))};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[x,d,b,w,_,g,k,N,j,u,E]);const C=G.useCallback(Z=>{u({type:"SHOW_TOAST",payload:Z}),setTimeout(()=>u({type:"SHOW_TOAST",payload:null}),3e3)},[u]),S=G.useCallback((Z,q=null)=>{u({type:"SET_VIEW",payload:{view:Z,itemId:q}})},[u]),T=G.useCallback(()=>{u({type:"TOGGLE_FOCUS_MODE"})},[u]),O=G.useCallback((Z,q,ae)=>{n({type:"ADD_ITEM",payload:{itemData:Z,itemType:q,parentId:ae}}),d&&u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!1}})},[n,u,d]),P=G.useCallback((Z,q)=>{n({type:"ADD_ITEM",payload:{itemData:Z,itemType:"task",parentId:q}}),C("Task created and linked!")},[n,C]),A=G.useCallback((Z,q)=>{n({type:"ADD_SUBTASK",payload:{parentTaskId:Z,subtaskData:q}})},[n]),L=G.useCallback((Z,q)=>{q==="task"?O({title:Z,isMyDay:!1},"task",null):n({type:"ADD_INBOX_ITEM",payload:{content:Z,type:q}}),C(`New ${q} added to Inbox!`)},[n,C,O]),U=G.useCallback(Z=>{n({type:"TOGGLE_TASK",payload:{taskId:Z}})},[n]),z=G.useCallback((Z,q)=>{n({type:"REORDER_LIST",payload:{listKey:"tasks",sourceId:Z,targetId:q}})},[n]),H=G.useCallback((Z,q)=>{n({type:"REPARENT_TASK",payload:{taskId:Z,newParentId:q}})},[n]),D=G.useCallback((Z,q)=>{n({type:"UPDATE_TASK",payload:{taskId:Z,updates:q}})},[n]),M=G.useCallback((Z,q)=>{n({type:"UPDATE_TASK_STAGE",payload:{taskId:Z,newStage:q}})},[n]),I=G.useCallback((Z,q)=>{n({type:"UPDATE_MULTIPLE_TASK_STAGES",payload:{taskIds:Z,newStage:q}})},[n]),F=G.useCallback((Z,q)=>{n({type:"UPDATE_ITEM_STATUS",payload:{itemId:Z,status:q}})},[n]),R=G.useCallback(Z=>F(Z,"archived"),[F]),W=G.useCallback(Z=>F(Z,"active"),[F]),B=G.useCallback(Z=>{const q=Hn(Z)||"item",ae=q==="task"?"If this is a parent task, its subtasks will not be deleted but will become parentless.":"This action cannot be undone.";u({type:"OPEN_CONFIRM_MODAL",payload:{title:`Delete ${q}?`,message:`Are you sure you want to permanently delete this ${q}?

${ae}`,onConfirm:()=>n({type:"DELETE_ITEM",payload:{itemId:Z}}),confirmLabel:"Delete"}})},[n,u]),$=G.useCallback((Z,q,ae,pe)=>{n({type:"UPDATE_NOTE",payload:{noteId:Z,title:q,content:ae,tags:pe}}),u({type:"SET_EDITING_NOTE",payload:null})},[n,u]),V=G.useCallback(Z=>{const q=`note-${Date.now()}`;n({type:"DRAFT_FROM_NOTE",payload:{sourceNoteId:Z,newNoteId:q}}),u({type:"SET_EDITING_NOTE",payload:q}),C("New draft created from note!")},[n,C,u]),Y=G.useCallback((Z,q)=>{n({type:"UPDATE_RESOURCE",payload:{resourceId:Z,updates:q}})},[n]),Q=G.useCallback((Z,q)=>{n({type:"UPDATE_PROJECT",payload:{projectId:Z,updates:q}})},[n]),J=G.useCallback((Z,q)=>{n({type:"UPDATE_AREA",payload:{areaId:Z,updates:q}})},[n]),te=G.useCallback((Z,q)=>{n({type:"ORGANIZE_ITEM",payload:{itemId:Z,newParentIds:q}}),u({type:"SET_ORGANIZING_ITEM",payload:null}),C("Item organized!")},[n,u,C]),ce=G.useCallback((Z,q)=>{n({type:"MARK_REVIEWED",payload:{itemIds:Z,type:q}})},[n]),de=G.useCallback(Z=>{Z.id.startsWith("note-")?u({type:"SET_EDITING_NOTE",payload:Z.id}):Z.id.startsWith("res-")?u({type:"SET_EDITING_RESOURCE",payload:Z.id}):Z.id.startsWith("task-")&&u({type:"SET_EDITING_TASK",payload:Z.id})},[u]),ge=G.useCallback(Z=>{const q=o.find(ae=>ae.id===Z);q&&u({type:"SET_LINKING_TASK",payload:q})},[o,u]),ve=G.useCallback((Z,q)=>{n({type:"ORGANIZE_ITEM",payload:{itemId:Z,newParentIds:[q]}}),u({type:"SET_LINKING_TASK",payload:null}),C("Task linked to project!")},[n,u,C]),Be=G.useCallback(Z=>{if(u({type:"SET_COMMAND_BAR_OPEN",payload:!1}),Z.type==="action"){const q=Z.id.split("-")[1];E({parentId:null,itemType:q})}else if(Z.type==="navigation"){const q=Z.id.split("-")[1];S(q)}else if(Z.type==="item")switch(Hn(Z.id)){case"area":S("areas",Z.id);break;case"project":S("projects",Z.id);break;case"task":u({type:"SET_EDITING_TASK",payload:Z.id});break;case"note":u({type:"SET_EDITING_NOTE",payload:Z.id});break;case"resource":u({type:"SET_EDITING_RESOURCE",payload:Z.id});break}},[E,S,u]),je=G.useMemo(()=>[...a.filter(Z=>Z.status==="active"&&Z.parentIds.length===0),...l.filter(Z=>Z.status==="active"&&Z.parentIds.length===0),...o.filter(Z=>Z.status==="active"&&Z.projectId===null&&Z.stage!=="Done"&&!Z.isMyDay)].sort((Z,q)=>new Date(q.createdAt).getTime()-new Date(Z.createdAt).getTime()),[a,l,o]),X=()=>{if(v)return h.jsx(rE,{query:v,areas:r,projects:i,tasks:o,notes:a,resources:l,onNavigate:S});switch(f){case"dashboard":case"inbox":return h.jsx(Ox,{projects:i,areas:r,tasks:o,inboxItems:je,onNavigate:S,onToggleTask:U,onOrganizeItem:q=>u({type:"SET_ORGANIZING_ITEM",payload:q}),onDirectOrganizeItem:te,onDeleteItem:B,onSaveNewTask:q=>O({title:q,isMyDay:!0},"task",null),onDashboardCapture:L,onSelectItem:de,onReorderTasks:z,onUpdateTask:D,onOpenLinkTaskModal:ge,onSelectTask:q=>u({type:"SET_EDITING_TASK",payload:q})});case"tasks":return h.jsx(lE,{tasks:o.filter(q=>q.status==="active"),projects:i,onToggleTask:U,onSelectTask:q=>u({type:"SET_EDITING_TASK",payload:q})});case"projects":return h.jsx($N,{projects:i.filter(q=>q.status==="active"),activeProjectId:c,onSelectProject:q=>u({type:"SET_ACTIVE_PROJECT",payload:q}),allTasks:o,tasks:o.filter(q=>q.status==="active"),notes:a.filter(q=>q.status==="active"),resources:l.filter(q=>q.status==="active"),onToggleTask:U,onArchive:R,onDelete:B,onSelectNote:q=>u({type:"SET_EDITING_NOTE",payload:q}),onSelectTask:q=>u({type:"SET_EDITING_TASK",payload:q}),onUpdateProject:Q,onOpenCaptureModal:E,onSaveNewItem:O,onAddSubtask:A,onReparentTask:H,onUpdateTask:D,onUpdateTaskStage:M,onUpdateMultipleTaskStages:I});case"areas":return h.jsx(WN,{areas:r.filter(q=>q.status==="active"),activeAreaId:p,onSelectArea:q=>u({type:"SET_ACTIVE_AREA",payload:q}),projects:i.filter(q=>q.status==="active"),tasks:o.filter(q=>q.status==="active"),notes:a.filter(q=>q.status==="active"),resources:l.filter(q=>q.status==="active"),onArchive:R,onDelete:B,onSelectNote:q=>u({type:"SET_EDITING_NOTE",payload:q}),onUpdateArea:J,onOpenCaptureModal:E,onNavigate:S,onDirectOrganizeItem:te,isFocusMode:j,onToggleFocusMode:T});case"resources":return h.jsx(eE,{resources:l.filter(q=>q.status==="active"),projects:i,areas:r,onArchive:R,onDelete:B,onOpenCaptureModal:E,onEditResource:q=>u({type:"SET_EDITING_RESOURCE",payload:q}),onNavigate:S});case"archives":const Z=[...r,...i,...o,...a,...l];return h.jsx(YN,{items:Z,onRestore:W,onDelete:B});case"graph":return h.jsx(rC,{areas:r.filter(q=>q.status==="active"),projects:i.filter(q=>q.status==="active"),notes:a.filter(q=>q.status==="active"),resources:l.filter(q=>q.status==="active"),onNavigate:S});case"review":return h.jsx(uE,{inboxCount:je.length,projects:i.filter(q=>q.status==="active"),areas:r.filter(q=>q.status==="active"),tasks:o.filter(q=>q.status==="active"&&q.stage!=="Done"),onNavigate:S,onMarkReviewed:ce});case"calendar":return h.jsx(mC,{tasks:o.filter(q=>q.status==="active"),projects:i.filter(q=>q.status==="active"),onNavigate:S});case"settings":return h.jsx(oC,{});default:return h.jsxs("p",{children:["Unknown view: ",f]})}},ee=a.find(Z=>Z.id===b),oe=l.find(Z=>Z.id===w),le=o.find(Z=>Z.id===_),ne=G.useCallback(Z=>{b&&u({type:"SET_EDITING_NOTE",payload:null}),w&&u({type:"SET_EDITING_RESOURCE",payload:null}),u({type:"SET_EDITING_TASK",payload:Z})},[b,w,u]);return h.jsxs("div",{className:"h-screen w-screen bg-transparent text-text-primary flex overflow-hidden font-sans",children:[!j&&h.jsx(xx,{onNavigate:S,inboxCount:je.length}),h.jsx("main",{className:`flex-1 flex flex-col overflow-y-hidden transition-all duration-300 ease-soft ${j?"p-0":"p-4"}`,children:h.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${j?"p-6 md:p-8":""}`,children:X()})}),h.jsxs("button",{onClick:()=>u({type:"SET_COMMAND_BAR_OPEN",payload:!0}),className:"absolute bottom-8 right-8 bg-accent hover:bg-accent-hover text-accent-content p-4 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-accent-hover transition-transform duration-300 ease-soft active:scale-95","aria-label":"Open command bar",children:[h.jsx(We,{className:"w-6 h-6"}),h.jsx("span",{className:"sr-only",children:"Open command bar"})]}),y&&h.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-surface backdrop-blur-xl border border-outline px-6 py-3 rounded-xl shadow-lg text-sm text-text-primary animate-fade-in-out",children:y}),x&&h.jsx(lC,{isOpen:x,onClose:()=>u({type:"SET_COMMAND_BAR_OPEN",payload:!1}),onCommand:Be,areas:r,projects:i,notes:a,resources:l,tasks:o}),d&&h.jsx(Ix,{isOpen:d,onClose:()=>u({type:"SET_CAPTURE_MODAL",payload:{isOpen:!1}}),onSave:O,projects:i,areas:r,context:m}),ee&&h.jsx(gN,{isOpen:!!ee,onClose:()=>u({type:"SET_EDITING_NOTE",payload:null}),note:ee,onSave:$,onDraftFromNote:V,onSaveNewItem:P,projects:i,areas:r,allNotes:a,allTasks:o,onSelectTask:ne}),oe&&h.jsx(vN,{isOpen:!!oe,onClose:()=>u({type:"SET_EDITING_RESOURCE",payload:null}),resource:oe,onSave:Y,allTasks:o,onSelectTask:ne,onArchive:R,onDelete:B}),le&&h.jsx(hC,{isOpen:!!le,onClose:()=>u({type:"SET_EDITING_TASK",payload:null}),task:le,onSave:D,onAddSubtask:A,onToggleSubtask:U,onDelete:B,allTasks:o,projects:i,notes:a,resources:l}),g&&h.jsx(oE,{isOpen:!!g,onClose:()=>u({type:"SET_ORGANIZING_ITEM",payload:null}),item:g,projects:i,areas:r,onSave:te}),k&&h.jsx(uC,{isOpen:!!k,onClose:()=>u({type:"SET_LINKING_TASK",payload:null}),onLink:ve,taskToLink:k,projects:i}),N&&h.jsx(yC,{isOpen:!!N,onClose:()=>u({type:"CLOSE_CONFIRM_MODAL"}),onConfirm:N.onConfirm,title:N.title,message:N.message,confirmLabel:N.confirmLabel})]})},Ty=document.getElementById("root");if(!Ty)throw new Error("Could not find root element to mount to");const bC=Bs.createRoot(Ty);bC.render(h.jsx(he.StrictMode,{children:h.jsx(PN,{children:h.jsx(gx,{children:h.jsx(xC,{})})})}));
